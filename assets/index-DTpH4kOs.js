(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function f0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Rd={exports:{}},go={};var C_;function fb(){if(C_)return go;C_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:c}}return go.Fragment=t,go.jsx=i,go.jsxs=i,go}var I_;function db(){return I_||(I_=1,Rd.exports=fb()),Rd.exports}var w=db(),Cd={exports:{}},Et={};var N_;function mb(){if(N_)return Et;N_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),M=Symbol.iterator;function Q(C){return C===null||typeof C!="object"?null:(C=M&&C[M]||C["@@iterator"],typeof C=="function"?C:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,tt={};function ft(C,H,J){this.props=C,this.context=H,this.refs=tt,this.updater=J||W}ft.prototype.isReactComponent={},ft.prototype.setState=function(C,H){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,H,"setState")},ft.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function vt(){}vt.prototype=ft.prototype;function mt(C,H,J){this.props=C,this.context=H,this.refs=tt,this.updater=J||W}var It=mt.prototype=new vt;It.constructor=mt,Z(It,ft.prototype),It.isPureReactComponent=!0;var Jt=Array.isArray;function kt(){}var x={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function N(C,H,J){var nt=J.ref;return{$$typeof:r,type:C,key:H,ref:nt!==void 0?nt:null,props:J}}function V(C,H){return N(C.type,H,C.props)}function D(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function k(C){var H={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(J){return H[J]})}var R=/\/+/g;function te(C,H){return typeof C=="object"&&C!==null&&C.key!=null?k(""+C.key):H.toString(36)}function he(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(kt,kt):(C.status="pending",C.then(function(H){C.status==="pending"&&(C.status="fulfilled",C.value=H)},function(H){C.status==="pending"&&(C.status="rejected",C.reason=H)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function G(C,H,J,nt,pt){var bt=typeof C;(bt==="undefined"||bt==="boolean")&&(C=null);var Nt=!1;if(C===null)Nt=!0;else switch(bt){case"bigint":case"string":case"number":Nt=!0;break;case"object":switch(C.$$typeof){case r:case t:Nt=!0;break;case b:return Nt=C._init,G(Nt(C._payload),H,J,nt,pt)}}if(Nt)return pt=pt(C),Nt=nt===""?"."+te(C,0):nt,Jt(pt)?(J="",Nt!=null&&(J=Nt.replace(R,"$&/")+"/"),G(pt,H,J,"",function(ar){return ar})):pt!=null&&(D(pt)&&(pt=V(pt,J+(pt.key==null||C&&C.key===pt.key?"":(""+pt.key).replace(R,"$&/")+"/")+Nt)),H.push(pt)),1;Nt=0;var Ne=nt===""?".":nt+":";if(Jt(C))for(var re=0;re<C.length;re++)nt=C[re],bt=Ne+te(nt,re),Nt+=G(nt,H,J,bt,pt);else if(re=Q(C),typeof re=="function")for(C=re.call(C),re=0;!(nt=C.next()).done;)nt=nt.value,bt=Ne+te(nt,re++),Nt+=G(nt,H,J,bt,pt);else if(bt==="object"){if(typeof C.then=="function")return G(he(C),H,J,nt,pt);throw H=String(C),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return Nt}function it(C,H,J){if(C==null)return C;var nt=[],pt=0;return G(C,nt,"","",function(bt){return H.call(J,bt,pt++)}),nt}function ot(C){if(C._status===-1){var H=C._result;H=H(),H.then(function(J){(C._status===0||C._status===-1)&&(C._status=1,C._result=J)},function(J){(C._status===0||C._status===-1)&&(C._status=2,C._result=J)}),C._status===-1&&(C._status=0,C._result=H)}if(C._status===1)return C._result.default;throw C._result}var Ut=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)},ut={map:it,forEach:function(C,H,J){it(C,function(){H.apply(this,arguments)},J)},count:function(C){var H=0;return it(C,function(){H++}),H},toArray:function(C){return it(C,function(H){return H})||[]},only:function(C){if(!D(C))throw Error("React.Children.only expected to receive a single React element child.");return C}};return Et.Activity=A,Et.Children=ut,Et.Component=ft,Et.Fragment=i,Et.Profiler=o,Et.PureComponent=mt,Et.StrictMode=a,Et.Suspense=v,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Et.__COMPILER_RUNTIME={__proto__:null,c:function(C){return x.H.useMemoCache(C)}},Et.cache=function(C){return function(){return C.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(C,H,J){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var nt=Z({},C.props),pt=C.key;if(H!=null)for(bt in H.key!==void 0&&(pt=""+H.key),H)!S.call(H,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&H.ref===void 0||(nt[bt]=H[bt]);var bt=arguments.length-2;if(bt===1)nt.children=J;else if(1<bt){for(var Nt=Array(bt),Ne=0;Ne<bt;Ne++)Nt[Ne]=arguments[Ne+2];nt.children=Nt}return N(C.type,pt,nt)},Et.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:c,_context:C},C},Et.createElement=function(C,H,J){var nt,pt={},bt=null;if(H!=null)for(nt in H.key!==void 0&&(bt=""+H.key),H)S.call(H,nt)&&nt!=="key"&&nt!=="__self"&&nt!=="__source"&&(pt[nt]=H[nt]);var Nt=arguments.length-2;if(Nt===1)pt.children=J;else if(1<Nt){for(var Ne=Array(Nt),re=0;re<Nt;re++)Ne[re]=arguments[re+2];pt.children=Ne}if(C&&C.defaultProps)for(nt in Nt=C.defaultProps,Nt)pt[nt]===void 0&&(pt[nt]=Nt[nt]);return N(C,bt,pt)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(C){return{$$typeof:p,render:C}},Et.isValidElement=D,Et.lazy=function(C){return{$$typeof:b,_payload:{_status:-1,_result:C},_init:ot}},Et.memo=function(C,H){return{$$typeof:y,type:C,compare:H===void 0?null:H}},Et.startTransition=function(C){var H=x.T,J={};x.T=J;try{var nt=C(),pt=x.S;pt!==null&&pt(J,nt),typeof nt=="object"&&nt!==null&&typeof nt.then=="function"&&nt.then(kt,Ut)}catch(bt){Ut(bt)}finally{H!==null&&J.types!==null&&(H.types=J.types),x.T=H}},Et.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Et.use=function(C){return x.H.use(C)},Et.useActionState=function(C,H,J){return x.H.useActionState(C,H,J)},Et.useCallback=function(C,H){return x.H.useCallback(C,H)},Et.useContext=function(C){return x.H.useContext(C)},Et.useDebugValue=function(){},Et.useDeferredValue=function(C,H){return x.H.useDeferredValue(C,H)},Et.useEffect=function(C,H){return x.H.useEffect(C,H)},Et.useEffectEvent=function(C){return x.H.useEffectEvent(C)},Et.useId=function(){return x.H.useId()},Et.useImperativeHandle=function(C,H,J){return x.H.useImperativeHandle(C,H,J)},Et.useInsertionEffect=function(C,H){return x.H.useInsertionEffect(C,H)},Et.useLayoutEffect=function(C,H){return x.H.useLayoutEffect(C,H)},Et.useMemo=function(C,H){return x.H.useMemo(C,H)},Et.useOptimistic=function(C,H){return x.H.useOptimistic(C,H)},Et.useReducer=function(C,H,J){return x.H.useReducer(C,H,J)},Et.useRef=function(C){return x.H.useRef(C)},Et.useState=function(C){return x.H.useState(C)},Et.useSyncExternalStore=function(C,H,J){return x.H.useSyncExternalStore(C,H,J)},Et.useTransition=function(){return x.H.useTransition()},Et.version="19.2.3",Et}var x_;function vm(){return x_||(x_=1,Cd.exports=mb()),Cd.exports}var $t=vm();const gb=f0($t);var Id={exports:{}},po={},Nd={exports:{}},xd={};var D_;function pb(){return D_||(D_=1,(function(r){function t(G,it){var ot=G.length;G.push(it);t:for(;0<ot;){var Ut=ot-1>>>1,ut=G[Ut];if(0<o(ut,it))G[Ut]=it,G[ot]=ut,ot=Ut;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var it=G[0],ot=G.pop();if(ot!==it){G[0]=ot;t:for(var Ut=0,ut=G.length,C=ut>>>1;Ut<C;){var H=2*(Ut+1)-1,J=G[H],nt=H+1,pt=G[nt];if(0>o(J,ot))nt<ut&&0>o(pt,J)?(G[Ut]=pt,G[nt]=ot,Ut=nt):(G[Ut]=J,G[H]=ot,Ut=H);else if(nt<ut&&0>o(pt,ot))G[Ut]=pt,G[nt]=ot,Ut=nt;else break t}}return it}function o(G,it){var ot=G.sortIndex-it.sortIndex;return ot!==0?ot:G.id-it.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var v=[],y=[],b=1,A=null,M=3,Q=!1,W=!1,Z=!1,tt=!1,ft=typeof setTimeout=="function"?setTimeout:null,vt=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function It(G){for(var it=i(y);it!==null;){if(it.callback===null)a(y);else if(it.startTime<=G)a(y),it.sortIndex=it.expirationTime,t(v,it);else break;it=i(y)}}function Jt(G){if(Z=!1,It(G),!W)if(i(v)!==null)W=!0,kt||(kt=!0,k());else{var it=i(y);it!==null&&he(Jt,it.startTime-G)}}var kt=!1,x=-1,S=5,N=-1;function V(){return tt?!0:!(r.unstable_now()-N<S)}function D(){if(tt=!1,kt){var G=r.unstable_now();N=G;var it=!0;try{t:{W=!1,Z&&(Z=!1,vt(x),x=-1),Q=!0;var ot=M;try{e:{for(It(G),A=i(v);A!==null&&!(A.expirationTime>G&&V());){var Ut=A.callback;if(typeof Ut=="function"){A.callback=null,M=A.priorityLevel;var ut=Ut(A.expirationTime<=G);if(G=r.unstable_now(),typeof ut=="function"){A.callback=ut,It(G),it=!0;break e}A===i(v)&&a(v),It(G)}else a(v);A=i(v)}if(A!==null)it=!0;else{var C=i(y);C!==null&&he(Jt,C.startTime-G),it=!1}}break t}finally{A=null,M=ot,Q=!1}it=void 0}}finally{it?k():kt=!1}}}var k;if(typeof mt=="function")k=function(){mt(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,te=R.port2;R.port1.onmessage=D,k=function(){te.postMessage(null)}}else k=function(){ft(D,0)};function he(G,it){x=ft(function(){G(r.unstable_now())},it)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(G){switch(M){case 1:case 2:case 3:var it=3;break;default:it=M}var ot=M;M=it;try{return G()}finally{M=ot}},r.unstable_requestPaint=function(){tt=!0},r.unstable_runWithPriority=function(G,it){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ot=M;M=G;try{return it()}finally{M=ot}},r.unstable_scheduleCallback=function(G,it,ot){var Ut=r.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?Ut+ot:Ut):ot=Ut,G){case 1:var ut=-1;break;case 2:ut=250;break;case 5:ut=1073741823;break;case 4:ut=1e4;break;default:ut=5e3}return ut=ot+ut,G={id:b++,callback:it,priorityLevel:G,startTime:ot,expirationTime:ut,sortIndex:-1},ot>Ut?(G.sortIndex=ot,t(y,G),i(v)===null&&G===i(y)&&(Z?(vt(x),x=-1):Z=!0,he(Jt,ot-Ut))):(G.sortIndex=ut,t(v,G),W||Q||(W=!0,kt||(kt=!0,k()))),G},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(G){var it=M;return function(){var ot=M;M=it;try{return G.apply(this,arguments)}finally{M=ot}}}})(xd)),xd}var O_;function yb(){return O_||(O_=1,Nd.exports=pb()),Nd.exports}var Dd={exports:{}},Ye={};var M_;function _b(){if(M_)return Ye;M_=1;var r=vm();function t(v){var y="https://react.dev/errors/"+v;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+v+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(v,y,b){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:v,containerInfo:y,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(v,y){if(v==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ye.createPortal=function(v,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(v,y,null,b)},Ye.flushSync=function(v){var y=d.T,b=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=y,a.p=b,a.d.f()}},Ye.preconnect=function(v,y){typeof v=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(v,y))},Ye.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},Ye.preinit=function(v,y){if(typeof v=="string"&&y&&typeof y.as=="string"){var b=y.as,A=p(b,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,Q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?a.d.S(v,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:M,fetchPriority:Q}):b==="script"&&a.d.X(v,{crossOrigin:A,integrity:M,fetchPriority:Q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ye.preinitModule=function(v,y){if(typeof v=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=p(y.as,y.crossOrigin);a.d.M(v,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(v)},Ye.preload=function(v,y){if(typeof v=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,A=p(b,y.crossOrigin);a.d.L(v,b,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ye.preloadModule=function(v,y){if(typeof v=="string")if(y){var b=p(y.as,y.crossOrigin);a.d.m(v,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(v)},Ye.requestFormReset=function(v){a.d.r(v)},Ye.unstable_batchedUpdates=function(v,y){return v(y)},Ye.useFormState=function(v,y,b){return d.H.useFormState(v,y,b)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.3",Ye}var V_;function vb(){if(V_)return Dd.exports;V_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Dd.exports=_b(),Dd.exports}var k_;function Eb(){if(k_)return po;k_=1;var r=yb(),t=vm(),i=vb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,l=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return v(h),e;if(f===l)return v(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,l=f;break}if(E===l){g=!0,l=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,l=h;break}if(E===l){g=!0,l=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var A=Object.assign,M=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),ft=Symbol.for("react.profiler"),vt=Symbol.for("react.consumer"),mt=Symbol.for("react.context"),It=Symbol.for("react.forward_ref"),Jt=Symbol.for("react.suspense"),kt=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function te(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case ft:return"Profiler";case tt:return"StrictMode";case Jt:return"Suspense";case kt:return"SuspenseList";case N:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case mt:return e.displayName||"Context";case vt:return(e._context.displayName||"Context")+".Consumer";case It:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case x:return n=e.displayName||null,n!==null?n:te(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return te(e(n))}catch{}}return null}var he=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},Ut=[],ut=-1;function C(e){return{current:e}}function H(e){0>ut||(e.current=Ut[ut],Ut[ut]=null,ut--)}function J(e,n){ut++,Ut[ut]=e.current,e.current=n}var nt=C(null),pt=C(null),bt=C(null),Nt=C(null);function Ne(e,n){switch(J(bt,n),J(pt,e),J(nt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Zy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Zy(n),e=$y(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}H(nt),J(nt,e)}function re(){H(nt),H(pt),H(bt)}function ar(e){e.memoizedState!==null&&J(Nt,e);var n=nt.current,s=$y(n,e.type);n!==s&&(J(pt,e),J(nt,s))}function Xr(e){pt.current===e&&(H(nt),H(pt)),Nt.current===e&&(H(Nt),co._currentValue=ot)}var Zr,$r;function Wn(e){if(Zr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Zr=n&&n[1]||"",$r=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zr+e+$r}var cl=!1;function lr(e,n){if(!e||cl)return"";cl=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var j=q}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(q){j=q}e.call(Y.prototype)}}else{try{throw Error()}catch(q){j=q}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var I=g.split(`
`),z=E.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===z.length)for(l=I.length-1,h=z.length-1;1<=l&&0<=h&&I[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==z[h]){var F=`
`+I[l].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=l&&0<=h);break}}}finally{cl=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Wn(s):""}function hl(e,n){switch(e.tag){case 26:case 27:case 5:return Wn(e.type);case 16:return Wn("Lazy");case 13:return e.child!==n&&n!==null?Wn("Suspense Fallback"):Wn("Suspense");case 19:return Wn("SuspenseList");case 0:case 15:return lr(e.type,!1);case 11:return lr(e.type.render,!1);case 1:return lr(e.type,!0);case 31:return Wn("Activity");default:return""}}function fl(e){try{var n="",s=null;do n+=hl(e,s),s=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ye=Object.prototype.hasOwnProperty,xe=r.unstable_scheduleCallback,rs=r.unstable_cancelCallback,Ch=r.unstable_shouldYield,Fo=r.unstable_requestPaint,We=r.unstable_now,or=r.unstable_getCurrentPriorityLevel,dl=r.unstable_ImmediatePriority,ml=r.unstable_UserBlockingPriority,as=r.unstable_NormalPriority,Ih=r.unstable_LowPriority,Qo=r.unstable_IdlePriority,Ko=r.log,Yo=r.unstable_setDisableYieldValue,Pn=null,ze=null;function An(e){if(typeof Ko=="function"&&Yo(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Pn,e)}catch{}}var fe=Math.clz32?Math.clz32:Zo,Xo=Math.log,Jr=Math.LN2;function Zo(e){return e>>>=0,e===0?32:31-(Xo(e)/Jr|0)|0}var ti=256,ur=262144,_e=4194304;function ei(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ni(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=ei(l):(g&=E,g!==0?h=ei(g):s||(s=E&~e,s!==0&&(h=ei(s))))):(E=l&~f,E!==0?h=ei(E):g!==0?h=ei(g):s||(s=l&~e,s!==0&&(h=ei(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function zn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Nh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $o(){var e=_e;return _e<<=1,(_e&62914560)===0&&(_e=4194304),e}function ii(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function cr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function xh(e,n,s,l,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,z=e.hiddenUpdates;for(s=g&~s;0<s;){var F=31-fe(s),Y=1<<F;E[F]=0,I[F]=-1;var j=z[F];if(j!==null)for(z[F]=null,F=0;F<j.length;F++){var q=j[F];q!==null&&(q.lane&=-536870913)}s&=~Y}l!==0&&hr(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function hr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-fe(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function gl(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-fe(s),h=1<<l;h&n|e[l]&n&&(e[l]|=n),s&=~h}}function pl(e,n){var s=n&-n;return s=(s&42)!==0?1:fr(s),(s&(e.suspendedLanes|n))!==0?0:s}function fr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Di(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Jo(){var e=it.p;return e!==0?e:(e=window.event,e===void 0?32:E_(e.type))}function jn(e,n){var s=it.p;try{return it.p=e,n()}finally{it.p=s}}var Bn=Math.random().toString(36).slice(2),ve="__reactFiber$"+Bn,Ve="__reactProps$"+Bn,si="__reactContainer$"+Bn,Wr="__reactEvents$"+Bn,Dh="__reactListeners$"+Bn,Wo="__reactHandles$"+Bn,tu="__reactResources$"+Bn,ri="__reactMarker$"+Bn;function ta(e){delete e[ve],delete e[Ve],delete e[Wr],delete e[Dh],delete e[Wo]}function ai(e){var n=e[ve];if(n)return n;for(var s=e.parentNode;s;){if(n=s[si]||s[ve]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=s_(e);e!==null;){if(s=e[ve])return s;e=s_(e)}return n}e=s,s=e.parentNode}return null}function Sn(e){if(e=e[ve]||e[si]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function dn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function li(e){var n=e[tu];return n||(n=e[tu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ee(e){e[ri]=!0}var yl=new Set,_l={};function oi(e,n){ui(e,n),ui(e+"Capture",n)}function ui(e,n){for(_l[e]=n,e=0;e<n.length;e++)yl.add(n[e])}var vl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),El={},Tl={};function eu(e){return ye.call(Tl,e)?!0:ye.call(El,e)?!1:vl.test(e)?Tl[e]=!0:(El[e]=!0,!1)}function ea(e,n,s){if(eu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function mn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Te(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}function ke(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ls(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function bl(e,n,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Gt(e){if(!e._valueTracker){var n=ls(e)?"checked":"value";e._valueTracker=bl(e,n,""+e[n])}}function dr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=ls(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function ci(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var mr=/[\n"\\]/g;function sn(e){return e.replace(mr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function na(e,n,s,l,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ke(n)):e.value!==""+ke(n)&&(e.value=""+ke(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Al(e,g,ke(n)):s!=null?Al(e,g,ke(s)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+ke(E):e.removeAttribute("name")}function nu(e,n,s,l,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Gt(e);return}s=s!=null?""+ke(s):"",n=n!=null?""+ke(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Gt(e)}function Al(e,n,s){n==="number"&&ci(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function os(e,n,s,l){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&l&&(e[s].defaultSelected=!0)}else{for(s=""+ke(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function iu(e,n,s){if(n!=null&&(n=""+ke(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+ke(s):""}function us(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(he(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=ke(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),Gt(e)}function rn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var su=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sl(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||su.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function wl(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&Sl(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Sl(e,f,n[f])}function ia(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ru=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sa(e){return cs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function qn(){}var Rl=null;function wn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hs=null,hi=null;function gr(e){var n=Sn(e);if(n&&(e=n.stateNode)){var s=e[Ve]||null;t:switch(e=n.stateNode,n.type){case"input":if(na(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+sn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var h=l[Ve]||null;if(!h)throw Error(a(90));na(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&dr(l)}break t;case"textarea":iu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&os(e,!!s.multiple,n,!1)}}}var ra=!1;function fs(e,n,s){if(ra)return e(n,s);ra=!0;try{var l=e(n);return l}finally{if(ra=!1,(hs!==null||hi!==null)&&(Ju(),hs&&(n=hs,e=hi,hi=hs=null,gr(n),e)))for(n=0;n<e.length;n++)gr(e[n])}}function Hn(e,n){var s=e.stateNode;if(s===null)return null;var l=s[Ve]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pr=!1;if(Rn)try{var Kt={};Object.defineProperty(Kt,"passive",{get:function(){pr=!0}}),window.addEventListener("test",Kt,Kt),window.removeEventListener("test",Kt,Kt)}catch{pr=!1}var fi=null,Cl=null,yr=null;function Il(){if(yr)return yr;var e,n=Cl,s=n.length,l,h="value"in fi?fi.value:fi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(l=1;l<=g&&n[s-l]===h[f-l];l++);return yr=h.slice(e,1<l?1-l:void 0)}function _r(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Oi(){return!0}function Gn(){return!1}function je(e){function n(s,l,h,f,g){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Oi:Gn,this.isPropagationStopped=Gn,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Oi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Oi)},persist:function(){},isPersistent:Oi}),n}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},di=je(Mi),ds=A({},Mi,{view:0,detail:0}),Nl=je(ds),ms,aa,mi,la=A({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mi&&(mi&&e.type==="mousemove"?(ms=e.screenX-mi.screenX,aa=e.screenY-mi.screenY):aa=ms=0,mi=e),ms)},movementY:function(e){return"movementY"in e?e.movementY:aa}}),xl=je(la),vr=A({},la,{dataTransfer:0}),au=je(vr),lu=A({},ds,{relatedTarget:0}),Er=je(lu),Dl=A({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),ou=je(Dl),oa=A({},Mi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uu=je(oa),cu=A({},Mi,{data:0}),gi=je(cu),hu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=du[e])?!!n[e]:!1}function gs(){return mu}var tn=A({},ds,{key:function(e){if(e.key){var n=hu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=_r(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gs,charCode:function(e){return e.type==="keypress"?_r(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_r(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gu=je(tn),pu=A({},la,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vi=je(pu),u=A({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gs}),m=je(u),_=A({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=je(_),L=A({},la,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=je(L),et=A({},Mi,{newState:0,oldState:0}),At=je(et),de=[9,13,27,32],Bt=Rn&&"CompositionEvent"in window,ae=null;Rn&&"documentMode"in document&&(ae=document.documentMode);var Cn=Rn&&"TextEvent"in window&&!ae,pi=Rn&&(!Bt||ae&&8<ae&&11>=ae),Fn=" ",Qn=!1;function Tr(e,n){switch(e){case"keyup":return de.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ua(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ca=!1;function UT(e,n){switch(e){case"compositionend":return ua(n);case"keypress":return n.which!==32?null:(Qn=!0,Fn);case"textInput":return e=n.data,e===Fn&&Qn?null:e;default:return null}}function LT(e,n){if(ca)return e==="compositionend"||!Bt&&Tr(e,n)?(e=Il(),yr=Cl=fi=null,ca=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return pi&&n.locale!=="ko"?null:n.data;default:return null}}var PT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!PT[e.type]:n==="textarea"}function og(e,n,s,l){hs?hi?hi.push(l):hi=[l]:hs=l,n=rc(n,"onChange"),0<n.length&&(s=new di("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var Ol=null,Ml=null;function zT(e){Gy(e,0)}function yu(e){var n=dn(e);if(dr(n))return e}function ug(e,n){if(e==="change")return n}var cg=!1;if(Rn){var Oh;if(Rn){var Mh="oninput"in document;if(!Mh){var hg=document.createElement("div");hg.setAttribute("oninput","return;"),Mh=typeof hg.oninput=="function"}Oh=Mh}else Oh=!1;cg=Oh&&(!document.documentMode||9<document.documentMode)}function fg(){Ol&&(Ol.detachEvent("onpropertychange",dg),Ml=Ol=null)}function dg(e){if(e.propertyName==="value"&&yu(Ml)){var n=[];og(n,Ml,e,wn(e)),fs(zT,n)}}function jT(e,n,s){e==="focusin"?(fg(),Ol=n,Ml=s,Ol.attachEvent("onpropertychange",dg)):e==="focusout"&&fg()}function BT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yu(Ml)}function qT(e,n){if(e==="click")return yu(n)}function HT(e,n){if(e==="input"||e==="change")return yu(n)}function GT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var gn=typeof Object.is=="function"?Object.is:GT;function Vl(e,n){if(gn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!ye.call(n,h)||!gn(e[h],n[h]))return!1}return!0}function mg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gg(e,n){var s=mg(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=mg(s)}}function pg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?pg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function yg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ci(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=ci(e.document)}return n}function Vh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var FT=Rn&&"documentMode"in document&&11>=document.documentMode,ha=null,kh=null,kl=null,Uh=!1;function _g(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Uh||ha==null||ha!==ci(l)||(l=ha,"selectionStart"in l&&Vh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),kl&&Vl(kl,l)||(kl=l,l=rc(kh,"onSelect"),0<l.length&&(n=new di("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=ha)))}function br(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var fa={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionrun:br("Transition","TransitionRun"),transitionstart:br("Transition","TransitionStart"),transitioncancel:br("Transition","TransitionCancel"),transitionend:br("Transition","TransitionEnd")},Lh={},vg={};Rn&&(vg=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);function Ar(e){if(Lh[e])return Lh[e];if(!fa[e])return e;var n=fa[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in vg)return Lh[e]=n[s];return e}var Eg=Ar("animationend"),Tg=Ar("animationiteration"),bg=Ar("animationstart"),QT=Ar("transitionrun"),KT=Ar("transitionstart"),YT=Ar("transitioncancel"),Ag=Ar("transitionend"),Sg=new Map,Ph="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ph.push("scrollEnd");function Kn(e,n){Sg.set(e,n),oi(n,[e])}var _u=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},In=[],da=0,zh=0;function vu(){for(var e=da,n=zh=da=0;n<e;){var s=In[n];In[n++]=null;var l=In[n];In[n++]=null;var h=In[n];In[n++]=null;var f=In[n];if(In[n++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}f!==0&&wg(s,h,f)}}function Eu(e,n,s,l){In[da++]=e,In[da++]=n,In[da++]=s,In[da++]=l,zh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function jh(e,n,s,l){return Eu(e,n,s,l),Tu(e)}function Sr(e,n){return Eu(e,null,null,n),Tu(e)}function wg(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-fe(s),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=s|536870912),f):null}function Tu(e){if(50<io)throw io=0,Zf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ma={};function XT(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(e,n,s,l){return new XT(e,n,s,l)}function Bh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ki(e,n){var s=e.alternate;return s===null?(s=pn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Rg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function bu(e,n,s,l,h,f){var g=0;if(l=e,typeof e=="function")Bh(e)&&(g=1);else if(typeof e=="string")g=tb(e,s,nt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case N:return e=pn(31,s,n,h),e.elementType=N,e.lanes=f,e;case Z:return wr(s.children,h,f,n);case tt:g=8,h|=24;break;case ft:return e=pn(12,s,n,h|2),e.elementType=ft,e.lanes=f,e;case Jt:return e=pn(13,s,n,h),e.elementType=Jt,e.lanes=f,e;case kt:return e=pn(19,s,n,h),e.elementType=kt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mt:g=10;break t;case vt:g=9;break t;case It:g=11;break t;case x:g=14;break t;case S:g=16,l=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=pn(g,s,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function wr(e,n,s,l){return e=pn(7,e,l,n),e.lanes=s,e}function qh(e,n,s){return e=pn(6,e,null,n),e.lanes=s,e}function Cg(e){var n=pn(18,null,null,0);return n.stateNode=e,n}function Hh(e,n,s){return n=pn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Ig=new WeakMap;function Nn(e,n){if(typeof e=="object"&&e!==null){var s=Ig.get(e);return s!==void 0?s:(n={value:e,source:n,stack:fl(n)},Ig.set(e,n),n)}return{value:e,source:n,stack:fl(n)}}var ga=[],pa=0,Au=null,Ul=0,xn=[],Dn=0,ps=null,yi=1,_i="";function Ui(e,n){ga[pa++]=Ul,ga[pa++]=Au,Au=e,Ul=n}function Ng(e,n,s){xn[Dn++]=yi,xn[Dn++]=_i,xn[Dn++]=ps,ps=e;var l=yi;e=_i;var h=32-fe(l)-1;l&=~(1<<h),s+=1;var f=32-fe(n)+h;if(30<f){var g=h-h%5;f=(l&(1<<g)-1).toString(32),l>>=g,h-=g,yi=1<<32-fe(n)+h|s<<h|l,_i=f+e}else yi=1<<f|s<<h|l,_i=e}function Gh(e){e.return!==null&&(Ui(e,1),Ng(e,1,0))}function Fh(e){for(;e===Au;)Au=ga[--pa],ga[pa]=null,Ul=ga[--pa],ga[pa]=null;for(;e===ps;)ps=xn[--Dn],xn[Dn]=null,_i=xn[--Dn],xn[Dn]=null,yi=xn[--Dn],xn[Dn]=null}function xg(e,n){xn[Dn++]=yi,xn[Dn++]=_i,xn[Dn++]=ps,yi=n.id,_i=n.overflow,ps=e}var Be=null,ee=null,Lt=!1,ys=null,On=!1,Qh=Error(a(519));function _s(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ll(Nn(n,e)),Qh}function Dg(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[ve]=e,n[Ve]=l,s){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(s=0;s<ro.length;s++)Ct(ro[s],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),nu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),us(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||Yy(n.textContent,s)?(l.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),l.onScroll!=null&&Ct("scroll",n),l.onScrollEnd!=null&&Ct("scrollend",n),l.onClick!=null&&(n.onclick=qn),n=!0):n=!1,n||_s(e,!0)}function Og(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:Be=Be.return}}function ya(e){if(e!==Be)return!1;if(!Lt)return Og(e),Lt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||hd(e.type,e.memoizedProps)),s=!s),s&&ee&&_s(e),Og(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ee=i_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ee=i_(e)}else n===27?(n=ee,Os(e.type)?(e=pd,pd=null,ee=e):ee=n):ee=Be?Vn(e.stateNode.nextSibling):null;return!0}function Rr(){ee=Be=null,Lt=!1}function Kh(){var e=ys;return e!==null&&(un===null?un=e:un.push.apply(un,e),ys=null),e}function Ll(e){ys===null?ys=[e]:ys.push(e)}var Yh=C(null),Cr=null,Li=null;function vs(e,n,s){J(Yh,n._currentValue),n._currentValue=s}function Pi(e){e._currentValue=Yh.current,H(Yh)}function Xh(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function Zh(e,n,s,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Xh(f.return,s,e),l||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Xh(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function _a(e,n,s,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;gn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Nt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(co):e=[co])}h=h.return}e!==null&&Zh(n,e,s,l),n.flags|=262144}function Su(e){for(e=e.firstContext;e!==null;){if(!gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ir(e){Cr=e,Li=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return Mg(Cr,e)}function wu(e,n){return Cr===null&&Ir(e),Mg(e,n)}function Mg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Li===null){if(e===null)throw Error(a(308));Li=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Li=Li.next=n;return s}var ZT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},$T=r.unstable_scheduleCallback,JT=r.unstable_NormalPriority,be={$$typeof:mt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $h(){return{controller:new ZT,data:new Map,refCount:0}}function Pl(e){e.refCount--,e.refCount===0&&$T(JT,function(){e.controller.abort()})}var zl=null,Jh=0,va=0,Ea=null;function WT(e,n){if(zl===null){var s=zl=[];Jh=0,va=nd(),Ea={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Jh++,n.then(Vg,Vg),n}function Vg(){if(--Jh===0&&zl!==null){Ea!==null&&(Ea.status="fulfilled");var e=zl;zl=null,va=0,Ea=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function t1(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var kg=G.S;G.S=function(e,n){_y=We(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&WT(e,n),kg!==null&&kg(e,n)};var Nr=C(null);function Wh(){var e=Nr.current;return e!==null?e:Wt.pooledCache}function Ru(e,n){n===null?J(Nr,Nr.current):J(Nr,n.pool)}function Ug(){var e=Wh();return e===null?null:{parent:be._currentValue,pool:e}}var Ta=Error(a(460)),tf=Error(a(474)),Cu=Error(a(542)),Iu={then:function(){}};function Lg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Pg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(qn,qn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,jg(e),e;default:if(typeof n.status=="string")n.then(qn,qn);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,jg(e),e}throw Dr=n,Ta}}function xr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Dr=s,Ta):s}}var Dr=null;function zg(){if(Dr===null)throw Error(a(459));var e=Dr;return Dr=null,e}function jg(e){if(e===Ta||e===Cu)throw Error(a(483))}var ba=null,jl=0;function Nu(e){var n=jl;return jl+=1,ba===null&&(ba=[]),Pg(ba,e,n)}function Bl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function xu(e,n){throw n.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Bg(e){function n(U,O){if(e){var P=U.deletions;P===null?(U.deletions=[O],U.flags|=16):P.push(O)}}function s(U,O){if(!e)return null;for(;O!==null;)n(U,O),O=O.sibling;return null}function l(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function h(U,O){return U=ki(U,O),U.index=0,U.sibling=null,U}function f(U,O,P){return U.index=P,e?(P=U.alternate,P!==null?(P=P.index,P<O?(U.flags|=67108866,O):P):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function g(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,O,P,K){return O===null||O.tag!==6?(O=qh(P,U.mode,K),O.return=U,O):(O=h(O,P),O.return=U,O)}function I(U,O,P,K){var ct=P.type;return ct===Z?F(U,O,P.props.children,K,P.key):O!==null&&(O.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===S&&xr(ct)===O.type)?(O=h(O,P.props),Bl(O,P),O.return=U,O):(O=bu(P.type,P.key,P.props,null,U.mode,K),Bl(O,P),O.return=U,O)}function z(U,O,P,K){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=Hh(P,U.mode,K),O.return=U,O):(O=h(O,P.children||[]),O.return=U,O)}function F(U,O,P,K,ct){return O===null||O.tag!==7?(O=wr(P,U.mode,K,ct),O.return=U,O):(O=h(O,P),O.return=U,O)}function Y(U,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=qh(""+O,U.mode,P),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Q:return P=bu(O.type,O.key,O.props,null,U.mode,P),Bl(P,O),P.return=U,P;case W:return O=Hh(O,U.mode,P),O.return=U,O;case S:return O=xr(O),Y(U,O,P)}if(he(O)||k(O))return O=wr(O,U.mode,P,null),O.return=U,O;if(typeof O.then=="function")return Y(U,Nu(O),P);if(O.$$typeof===mt)return Y(U,wu(U,O),P);xu(U,O)}return null}function j(U,O,P,K){var ct=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ct!==null?null:E(U,O,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Q:return P.key===ct?I(U,O,P,K):null;case W:return P.key===ct?z(U,O,P,K):null;case S:return P=xr(P),j(U,O,P,K)}if(he(P)||k(P))return ct!==null?null:F(U,O,P,K,null);if(typeof P.then=="function")return j(U,O,Nu(P),K);if(P.$$typeof===mt)return j(U,O,wu(U,P),K);xu(U,P)}return null}function q(U,O,P,K,ct){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return U=U.get(P)||null,E(O,U,""+K,ct);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Q:return U=U.get(K.key===null?P:K.key)||null,I(O,U,K,ct);case W:return U=U.get(K.key===null?P:K.key)||null,z(O,U,K,ct);case S:return K=xr(K),q(U,O,P,K,ct)}if(he(K)||k(K))return U=U.get(P)||null,F(O,U,K,ct,null);if(typeof K.then=="function")return q(U,O,P,Nu(K),ct);if(K.$$typeof===mt)return q(U,O,P,wu(O,K),ct);xu(O,K)}return null}function rt(U,O,P,K){for(var ct=null,zt=null,at=O,wt=O=0,Dt=null;at!==null&&wt<P.length;wt++){at.index>wt?(Dt=at,at=null):Dt=at.sibling;var jt=j(U,at,P[wt],K);if(jt===null){at===null&&(at=Dt);break}e&&at&&jt.alternate===null&&n(U,at),O=f(jt,O,wt),zt===null?ct=jt:zt.sibling=jt,zt=jt,at=Dt}if(wt===P.length)return s(U,at),Lt&&Ui(U,wt),ct;if(at===null){for(;wt<P.length;wt++)at=Y(U,P[wt],K),at!==null&&(O=f(at,O,wt),zt===null?ct=at:zt.sibling=at,zt=at);return Lt&&Ui(U,wt),ct}for(at=l(at);wt<P.length;wt++)Dt=q(at,U,wt,P[wt],K),Dt!==null&&(e&&Dt.alternate!==null&&at.delete(Dt.key===null?wt:Dt.key),O=f(Dt,O,wt),zt===null?ct=Dt:zt.sibling=Dt,zt=Dt);return e&&at.forEach(function(Ls){return n(U,Ls)}),Lt&&Ui(U,wt),ct}function dt(U,O,P,K){if(P==null)throw Error(a(151));for(var ct=null,zt=null,at=O,wt=O=0,Dt=null,jt=P.next();at!==null&&!jt.done;wt++,jt=P.next()){at.index>wt?(Dt=at,at=null):Dt=at.sibling;var Ls=j(U,at,jt.value,K);if(Ls===null){at===null&&(at=Dt);break}e&&at&&Ls.alternate===null&&n(U,at),O=f(Ls,O,wt),zt===null?ct=Ls:zt.sibling=Ls,zt=Ls,at=Dt}if(jt.done)return s(U,at),Lt&&Ui(U,wt),ct;if(at===null){for(;!jt.done;wt++,jt=P.next())jt=Y(U,jt.value,K),jt!==null&&(O=f(jt,O,wt),zt===null?ct=jt:zt.sibling=jt,zt=jt);return Lt&&Ui(U,wt),ct}for(at=l(at);!jt.done;wt++,jt=P.next())jt=q(at,U,wt,jt.value,K),jt!==null&&(e&&jt.alternate!==null&&at.delete(jt.key===null?wt:jt.key),O=f(jt,O,wt),zt===null?ct=jt:zt.sibling=jt,zt=jt);return e&&at.forEach(function(hb){return n(U,hb)}),Lt&&Ui(U,wt),ct}function Zt(U,O,P,K){if(typeof P=="object"&&P!==null&&P.type===Z&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Q:t:{for(var ct=P.key;O!==null;){if(O.key===ct){if(ct=P.type,ct===Z){if(O.tag===7){s(U,O.sibling),K=h(O,P.props.children),K.return=U,U=K;break t}}else if(O.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===S&&xr(ct)===O.type){s(U,O.sibling),K=h(O,P.props),Bl(K,P),K.return=U,U=K;break t}s(U,O);break}else n(U,O);O=O.sibling}P.type===Z?(K=wr(P.props.children,U.mode,K,P.key),K.return=U,U=K):(K=bu(P.type,P.key,P.props,null,U.mode,K),Bl(K,P),K.return=U,U=K)}return g(U);case W:t:{for(ct=P.key;O!==null;){if(O.key===ct)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){s(U,O.sibling),K=h(O,P.children||[]),K.return=U,U=K;break t}else{s(U,O);break}else n(U,O);O=O.sibling}K=Hh(P,U.mode,K),K.return=U,U=K}return g(U);case S:return P=xr(P),Zt(U,O,P,K)}if(he(P))return rt(U,O,P,K);if(k(P)){if(ct=k(P),typeof ct!="function")throw Error(a(150));return P=ct.call(P),dt(U,O,P,K)}if(typeof P.then=="function")return Zt(U,O,Nu(P),K);if(P.$$typeof===mt)return Zt(U,O,wu(U,P),K);xu(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(s(U,O.sibling),K=h(O,P),K.return=U,U=K):(s(U,O),K=qh(P,U.mode,K),K.return=U,U=K),g(U)):s(U,O)}return function(U,O,P,K){try{jl=0;var ct=Zt(U,O,P,K);return ba=null,ct}catch(at){if(at===Ta||at===Cu)throw at;var zt=pn(29,at,null,U.mode);return zt.lanes=K,zt.return=U,zt}}}var Or=Bg(!0),qg=Bg(!1),Es=!1;function ef(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ts(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function bs(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(qt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Tu(e),wg(e,null,s),n}return Eu(e,l,n,s),Tu(e)}function ql(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,gl(e,s)}}function sf(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var rf=!1;function Hl(){if(rf){var e=Ea;if(e!==null)throw e}}function Gl(e,n,s,l){rf=!1;var h=e.updateQueue;Es=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,z=I.next;I.next=null,g===null?f=z:g.next=z,g=I;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==g&&(E===null?F.firstBaseUpdate=z:E.next=z,F.lastBaseUpdate=I))}if(f!==null){var Y=h.baseState;g=0,F=z=I=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(xt&j)===j:(l&j)===j){j!==0&&j===va&&(rf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var rt=e,dt=E;j=n;var Zt=s;switch(dt.tag){case 1:if(rt=dt.payload,typeof rt=="function"){Y=rt.call(Zt,Y,j);break t}Y=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=dt.payload,j=typeof rt=="function"?rt.call(Zt,Y,j):rt,j==null)break t;Y=A({},Y,j);break t;case 2:Es=!0}}j=E.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(z=F=q,I=Y):F=F.next=q,g|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(I=Y),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Cs|=g,e.lanes=g,e.memoizedState=Y}}function Hg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Gg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Hg(s[e],n)}var Aa=C(null),Du=C(0);function Fg(e,n){e=Ki,J(Du,e),J(Aa,n),Ki=e|n.baseLanes}function af(){J(Du,Ki),J(Aa,Aa.current)}function lf(){Ki=Du.current,H(Aa),H(Du)}var yn=C(null),Mn=null;function As(e){var n=e.alternate;J(me,me.current&1),J(yn,e),Mn===null&&(n===null||Aa.current!==null||n.memoizedState!==null)&&(Mn=e)}function of(e){J(me,me.current),J(yn,e),Mn===null&&(Mn=e)}function Qg(e){e.tag===22?(J(me,me.current),J(yn,e),Mn===null&&(Mn=e)):Ss()}function Ss(){J(me,me.current),J(yn,yn.current)}function _n(e){H(yn),Mn===e&&(Mn=null),H(me)}var me=C(0);function Ou(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||md(s)||gd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var zi=0,St=null,Yt=null,Ae=null,Mu=!1,Sa=!1,Mr=!1,Vu=0,Fl=0,wa=null,e1=0;function ue(){throw Error(a(321))}function uf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!gn(e[s],n[s]))return!1;return!0}function cf(e,n,s,l,h,f){return zi=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Np:wf,Mr=!1,f=s(l,h),Mr=!1,Sa&&(f=Yg(n,s,l,h)),Kg(e),f}function Kg(e){G.H=Yl;var n=Yt!==null&&Yt.next!==null;if(zi=0,Ae=Yt=St=null,Mu=!1,Fl=0,wa=null,n)throw Error(a(300));e===null||Se||(e=e.dependencies,e!==null&&Su(e)&&(Se=!0))}function Yg(e,n,s,l){St=e;var h=0;do{if(Sa&&(wa=null),Fl=0,Sa=!1,25<=h)throw Error(a(301));if(h+=1,Ae=Yt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=xp,f=n(s,l)}while(Sa);return f}function n1(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?Ql(n):n,e=e.useState()[0],(Yt!==null?Yt.memoizedState:null)!==e&&(St.flags|=1024),n}function hf(){var e=Vu!==0;return Vu=0,e}function ff(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function df(e){if(Mu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Mu=!1}zi=0,Ae=Yt=St=null,Sa=!1,Fl=Vu=0,wa=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?St.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function ge(){if(Yt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=Yt.next;var n=Ae===null?St.memoizedState:Ae.next;if(n!==null)Ae=n,Yt=e;else{if(e===null)throw St.alternate===null?Error(a(467)):Error(a(310));Yt=e,e={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},Ae===null?St.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function ku(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ql(e){var n=Fl;return Fl+=1,wa===null&&(wa=[]),e=Pg(wa,e,n),n=St,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Np:wf),e}function Uu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ql(e);if(e.$$typeof===mt)return qe(e)}throw Error(a(438,String(e)))}function mf(e){var n=null,s=St.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=St.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=ku(),St.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=V;return n.index++,s}function ji(e,n){return typeof n=="function"?n(e):n}function Lu(e){var n=ge();return gf(n,Yt,e)}function gf(e,n,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,I=null,z=n,F=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(xt&Y)===Y:(zi&Y)===Y){var j=z.revertLane;if(j===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===va&&(F=!0);else if((zi&j)===j){z=z.next,j===va&&(F=!0);continue}else Y={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=Y,g=f):I=I.next=Y,St.lanes|=j,Cs|=j;Y=z.action,Mr&&s(f,Y),f=z.hasEagerState?z.eagerState:s(f,Y)}else j={lane:Y,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=j,g=f):I=I.next=j,St.lanes|=Y,Cs|=Y;z=z.next}while(z!==null&&z!==n);if(I===null?g=f:I.next=E,!gn(f,e.memoizedState)&&(Se=!0,F&&(s=Ea,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=I,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function pf(e){var n=ge(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);gn(f,n.memoizedState)||(Se=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function Xg(e,n,s){var l=St,h=ge(),f=Lt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!gn((Yt||h).memoizedState,s);if(g&&(h.memoizedState=s,Se=!0),h=h.queue,vf(Jg.bind(null,l,h,e),[e]),h.getSnapshot!==n||g||Ae!==null&&Ae.memoizedState.tag&1){if(l.flags|=2048,Ra(9,{destroy:void 0},$g.bind(null,l,h,s,n),null),Wt===null)throw Error(a(349));f||(zi&127)!==0||Zg(l,n,s)}return s}function Zg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=St.updateQueue,n===null?(n=ku(),St.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function $g(e,n,s,l){n.value=s,n.getSnapshot=l,Wg(n)&&tp(e)}function Jg(e,n,s){return s(function(){Wg(n)&&tp(e)})}function Wg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!gn(e,s)}catch{return!0}}function tp(e){var n=Sr(e,2);n!==null&&cn(n,e,2)}function yf(e){var n=en();if(typeof e=="function"){var s=e;if(e=s(),Mr){An(!0);try{s()}finally{An(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:e},n}function ep(e,n,s,l){return e.baseState=s,gf(e,Yt,typeof l=="function"?l:ji)}function i1(e,n,s,l,h){if(ju(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,np(n,f)):(f.next=s.next,n.pending=s.next=f)}}function np(e,n){var s=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=s(h,l),I=G.S;I!==null&&I(g,E),ip(e,n,E)}catch(z){_f(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=s(h,l),ip(e,n,f)}catch(z){_f(e,n,z)}}function ip(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){sp(e,n,l)},function(l){return _f(e,n,l)}):sp(e,n,s)}function sp(e,n,s){n.status="fulfilled",n.value=s,rp(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,np(e,s)))}function _f(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,rp(n),n=n.next;while(n!==l)}e.action=null}function rp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function ap(e,n){return n}function lp(e,n){if(Lt){var s=Wt.formState;if(s!==null){t:{var l=St;if(Lt){if(ee){e:{for(var h=ee,f=On;h.nodeType!==8;){if(!f){h=null;break e}if(h=Vn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ee=Vn(h.nextSibling),l=h.data==="F!";break t}}_s(l)}l=!1}l&&(n=s[0])}}return s=en(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ap,lastRenderedState:n},s.queue=l,s=Rp.bind(null,St,l),l.dispatch=s,l=yf(!1),f=Sf.bind(null,St,!1,l.queue),l=en(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,s=i1.bind(null,St,h,f,s),h.dispatch=s,l.memoizedState=e,[n,s,!1]}function op(e){var n=ge();return up(n,Yt,e)}function up(e,n,s){if(n=gf(e,n,ap)[0],e=Lu(ji)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Ql(n)}catch(g){throw g===Ta?Cu:g}else l=n;n=ge();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(St.flags|=2048,Ra(9,{destroy:void 0},s1.bind(null,h,s),null)),[l,f,e]}function s1(e,n){e.action=n}function cp(e){var n=ge(),s=Yt;if(s!==null)return up(n,s,e);ge(),n=n.memoizedState,s=ge();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function Ra(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=St.updateQueue,n===null&&(n=ku(),St.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function hp(){return ge().memoizedState}function Pu(e,n,s,l){var h=en();St.flags|=e,h.memoizedState=Ra(1|n,{destroy:void 0},s,l===void 0?null:l)}function zu(e,n,s,l){var h=ge();l=l===void 0?null:l;var f=h.memoizedState.inst;Yt!==null&&l!==null&&uf(l,Yt.memoizedState.deps)?h.memoizedState=Ra(n,f,s,l):(St.flags|=e,h.memoizedState=Ra(1|n,f,s,l))}function fp(e,n){Pu(8390656,8,e,n)}function vf(e,n){zu(2048,8,e,n)}function r1(e){St.flags|=4;var n=St.updateQueue;if(n===null)n=ku(),St.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function dp(e){var n=ge().memoizedState;return r1({ref:n,nextImpl:e}),function(){if((qt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function mp(e,n){return zu(4,2,e,n)}function gp(e,n){return zu(4,4,e,n)}function pp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function yp(e,n,s){s=s!=null?s.concat([e]):null,zu(4,4,pp.bind(null,n,e),s)}function Ef(){}function _p(e,n){var s=ge();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&uf(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function vp(e,n){var s=ge();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&uf(n,l[1]))return l[0];if(l=e(),Mr){An(!0);try{e()}finally{An(!1)}}return s.memoizedState=[l,n],l}function Tf(e,n,s){return s===void 0||(zi&1073741824)!==0&&(xt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Ey(),St.lanes|=e,Cs|=e,s)}function Ep(e,n,s,l){return gn(s,n)?s:Aa.current!==null?(e=Tf(e,s,l),gn(e,n)||(Se=!0),e):(zi&42)===0||(zi&1073741824)!==0&&(xt&261930)===0?(Se=!0,e.memoizedState=s):(e=Ey(),St.lanes|=e,Cs|=e,n)}function Tp(e,n,s,l,h){var f=it.p;it.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,Sf(e,!1,n,s);try{var I=h(),z=G.S;if(z!==null&&z(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var F=t1(I,l);Kl(e,n,F,Tn(e))}else Kl(e,n,l,Tn(e))}catch(Y){Kl(e,n,{then:function(){},status:"rejected",reason:Y},Tn())}finally{it.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function a1(){}function bf(e,n,s,l){if(e.tag!==5)throw Error(a(476));var h=bp(e).queue;Tp(e,h,n,ot,s===null?a1:function(){return Ap(e),s(l)})}function bp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:ot},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Ap(e){var n=bp(e);n.next===null&&(n=e.alternate.memoizedState),Kl(e,n.next.queue,{},Tn())}function Af(){return qe(co)}function Sp(){return ge().memoizedState}function wp(){return ge().memoizedState}function l1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Tn();e=Ts(s);var l=bs(n,e,s);l!==null&&(cn(l,n,s),ql(l,n,s)),n={cache:$h()},e.payload=n;return}n=n.return}}function o1(e,n,s){var l=Tn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},ju(e)?Cp(n,s):(s=jh(e,n,s,l),s!==null&&(cn(s,e,l),Ip(s,n,l)))}function Rp(e,n,s){var l=Tn();Kl(e,n,s,l)}function Kl(e,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(ju(e))Cp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,gn(E,g))return Eu(e,n,h,0),Wt===null&&vu(),!1}catch{}if(s=jh(e,n,h,l),s!==null)return cn(s,e,l),Ip(s,n,l),!0}return!1}function Sf(e,n,s,l){if(l={lane:2,revertLane:nd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ju(e)){if(n)throw Error(a(479))}else n=jh(e,s,l,2),n!==null&&cn(n,e,2)}function ju(e){var n=e.alternate;return e===St||n!==null&&n===St}function Cp(e,n){Sa=Mu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Ip(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,gl(e,s)}}var Yl={readContext:qe,use:Uu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};Yl.useEffectEvent=ue;var Np={readContext:qe,use:Uu,useCallback:function(e,n){return en().memoizedState=[e,n===void 0?null:n],e},useContext:qe,useEffect:fp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Pu(4194308,4,pp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Pu(4194308,4,e,n)},useInsertionEffect:function(e,n){Pu(4,2,e,n)},useMemo:function(e,n){var s=en();n=n===void 0?null:n;var l=e();if(Mr){An(!0);try{e()}finally{An(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=en();if(s!==void 0){var h=s(n);if(Mr){An(!0);try{s(n)}finally{An(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=o1.bind(null,St,e),[l.memoizedState,e]},useRef:function(e){var n=en();return e={current:e},n.memoizedState=e},useState:function(e){e=yf(e);var n=e.queue,s=Rp.bind(null,St,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Ef,useDeferredValue:function(e,n){var s=en();return Tf(s,e,n)},useTransition:function(){var e=yf(!1);return e=Tp.bind(null,St,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=St,h=en();if(Lt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Wt===null)throw Error(a(349));(xt&127)!==0||Zg(l,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,fp(Jg.bind(null,l,f,e),[e]),l.flags|=2048,Ra(9,{destroy:void 0},$g.bind(null,l,f,s,n),null),s},useId:function(){var e=en(),n=Wt.identifierPrefix;if(Lt){var s=_i,l=yi;s=(l&~(1<<32-fe(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Vu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=e1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Af,useFormState:lp,useActionState:lp,useOptimistic:function(e){var n=en();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Sf.bind(null,St,!0,s),s.dispatch=n,[e,n]},useMemoCache:mf,useCacheRefresh:function(){return en().memoizedState=l1.bind(null,St)},useEffectEvent:function(e){var n=en(),s={impl:e};return n.memoizedState=s,function(){if((qt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},wf={readContext:qe,use:Uu,useCallback:_p,useContext:qe,useEffect:vf,useImperativeHandle:yp,useInsertionEffect:mp,useLayoutEffect:gp,useMemo:vp,useReducer:Lu,useRef:hp,useState:function(){return Lu(ji)},useDebugValue:Ef,useDeferredValue:function(e,n){var s=ge();return Ep(s,Yt.memoizedState,e,n)},useTransition:function(){var e=Lu(ji)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Ql(e),n]},useSyncExternalStore:Xg,useId:Sp,useHostTransitionStatus:Af,useFormState:op,useActionState:op,useOptimistic:function(e,n){var s=ge();return ep(s,Yt,e,n)},useMemoCache:mf,useCacheRefresh:wp};wf.useEffectEvent=dp;var xp={readContext:qe,use:Uu,useCallback:_p,useContext:qe,useEffect:vf,useImperativeHandle:yp,useInsertionEffect:mp,useLayoutEffect:gp,useMemo:vp,useReducer:pf,useRef:hp,useState:function(){return pf(ji)},useDebugValue:Ef,useDeferredValue:function(e,n){var s=ge();return Yt===null?Tf(s,e,n):Ep(s,Yt.memoizedState,e,n)},useTransition:function(){var e=pf(ji)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Ql(e),n]},useSyncExternalStore:Xg,useId:Sp,useHostTransitionStatus:Af,useFormState:cp,useActionState:cp,useOptimistic:function(e,n){var s=ge();return Yt!==null?ep(s,Yt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:mf,useCacheRefresh:wp};xp.useEffectEvent=dp;function Rf(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:A({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Cf={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=Tn(),h=Ts(l);h.payload=n,s!=null&&(h.callback=s),n=bs(e,h,l),n!==null&&(cn(n,e,l),ql(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=Tn(),h=Ts(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=bs(e,h,l),n!==null&&(cn(n,e,l),ql(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Tn(),l=Ts(s);l.tag=2,n!=null&&(l.callback=n),n=bs(e,l,s),n!==null&&(cn(n,e,s),ql(n,e,s))}};function Dp(e,n,s,l,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Vl(s,l)||!Vl(h,f):!0}function Op(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&Cf.enqueueReplaceState(n,n.state,null)}function Vr(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=A({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Mp(e){_u(e)}function Vp(e){console.error(e)}function kp(e){_u(e)}function Bu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Up(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function If(e,n,s){return s=Ts(s),s.tag=3,s.payload={element:null},s.callback=function(){Bu(e,n)},s}function Lp(e){return e=Ts(e),e.tag=3,e}function Pp(e,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){Up(n,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Up(n,s,l),typeof h!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function u1(e,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&_a(n,s,h,!0),s=yn.current,s!==null){switch(s.tag){case 31:case 13:return Mn===null?Wu():s.alternate===null&&ce===0&&(ce=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Iu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),Wf(e,l,h)),!1;case 22:return s.flags|=65536,l===Iu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),Wf(e,l,h)),!1}throw Error(a(435,s.tag))}return Wf(e,l,h),Wu(),!1}if(Lt)return n=yn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Qh&&(e=Error(a(422),{cause:l}),Ll(Nn(e,s)))):(l!==Qh&&(n=Error(a(423),{cause:l}),Ll(Nn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Nn(l,s),h=If(e.stateNode,l,h),sf(e,h),ce!==4&&(ce=2)),!1;var f=Error(a(520),{cause:l});if(f=Nn(f,s),no===null?no=[f]:no.push(f),ce!==4&&(ce=2),n===null)return!0;l=Nn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=If(s.stateNode,l,e),sf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Is===null||!Is.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Lp(h),Pp(h,e,s,l),sf(s,h),!1}s=s.return}while(s!==null);return!1}var Nf=Error(a(461)),Se=!1;function He(e,n,s,l){n.child=e===null?qg(n,null,s,l):Or(n,e.child,s,l)}function zp(e,n,s,l,h){s=s.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return Ir(n),l=cf(e,n,s,g,f,h),E=hf(),e!==null&&!Se?(ff(e,n,h),Bi(e,n,h)):(Lt&&E&&Gh(n),n.flags|=1,He(e,n,l,h),n.child)}function jp(e,n,s,l,h){if(e===null){var f=s.type;return typeof f=="function"&&!Bh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Bp(e,n,f,l,h)):(e=bu(s.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Lf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Vl,s(g,l)&&e.ref===n.ref)return Bi(e,n,h)}return n.flags|=1,e=ki(f,l),e.ref=n.ref,e.return=n,n.child=e}function Bp(e,n,s,l,h){if(e!==null){var f=e.memoizedProps;if(Vl(f,l)&&e.ref===n.ref)if(Se=!1,n.pendingProps=l=f,Lf(e,h))(e.flags&131072)!==0&&(Se=!0);else return n.lanes=e.lanes,Bi(e,n,h)}return xf(e,n,s,l,h)}function qp(e,n,s,l){var h=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Hp(e,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ru(n,f!==null?f.cachePool:null),f!==null?Fg(n,f):af(),Qg(n);else return l=n.lanes=536870912,Hp(e,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(Ru(n,f.cachePool),Fg(n,f),Ss(),n.memoizedState=null):(e!==null&&Ru(n,null),af(),Ss());return He(e,n,h,s),n.child}function Xl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Hp(e,n,s,l,h){var f=Wh();return f=f===null?null:{parent:be._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Ru(n,null),af(),Qg(n),e!==null&&_a(e,n,l,!0),n.childLanes=h,null}function qu(e,n){return n=Gu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Gp(e,n,s){return Or(n,e.child,null,s),e=qu(n,n.pendingProps),e.flags|=2,_n(n),n.memoizedState=null,e}function c1(e,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Lt){if(l.mode==="hidden")return e=qu(n,l),n.lanes=536870912,Xl(null,e);if(of(n),(e=ee)?(e=n_(e,On),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ps!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},s=Cg(e),s.return=n,n.child=s,Be=n,ee=null)):e=null,e===null)throw _s(n);return n.lanes=536870912,null}return qu(n,l)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(of(n),h)if(n.flags&256)n.flags&=-257,n=Gp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Se||_a(e,n,s,!1),h=(s&e.childLanes)!==0,Se||h){if(l=Wt,l!==null&&(g=pl(l,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Sr(e,g),cn(l,e,g),Nf;Wu(),n=Gp(e,n,s)}else e=f.treeContext,ee=Vn(g.nextSibling),Be=n,Lt=!0,ys=null,On=!1,e!==null&&xg(n,e),n=qu(n,l),n.flags|=4096;return n}return e=ki(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Hu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function xf(e,n,s,l,h){return Ir(n),s=cf(e,n,s,l,void 0,h),l=hf(),e!==null&&!Se?(ff(e,n,h),Bi(e,n,h)):(Lt&&l&&Gh(n),n.flags|=1,He(e,n,s,h),n.child)}function Fp(e,n,s,l,h,f){return Ir(n),n.updateQueue=null,s=Yg(n,l,s,h),Kg(e),l=hf(),e!==null&&!Se?(ff(e,n,f),Bi(e,n,f)):(Lt&&l&&Gh(n),n.flags|=1,He(e,n,s,f),n.child)}function Qp(e,n,s,l,h){if(Ir(n),n.stateNode===null){var f=ma,g=s.contextType;typeof g=="object"&&g!==null&&(f=qe(g)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Cf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},ef(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?qe(g):ma,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Rf(n,s,g,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Cf.enqueueReplaceState(f,f.state,null),Gl(n,l,f,h),Hl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,I=Vr(s,E);f.props=I;var z=f.context,F=s.contextType;g=ma,typeof F=="object"&&F!==null&&(g=qe(F));var Y=s.getDerivedStateFromProps;F=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&Op(n,f,l,g),Es=!1;var j=n.memoizedState;f.state=j,Gl(n,l,f,h),Hl(),z=n.memoizedState,E||j!==z||Es?(typeof Y=="function"&&(Rf(n,s,Y,l),z=n.memoizedState),(I=Es||Dp(n,s,I,l,j,z,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=g,l=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,nf(e,n),g=n.memoizedProps,F=Vr(s,g),f.props=F,Y=n.pendingProps,j=f.context,z=s.contextType,I=ma,typeof z=="object"&&z!==null&&(I=qe(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||j!==I)&&Op(n,f,l,I),Es=!1,j=n.memoizedState,f.state=j,Gl(n,l,f,h),Hl();var q=n.memoizedState;g!==Y||j!==q||Es||e!==null&&e.dependencies!==null&&Su(e.dependencies)?(typeof E=="function"&&(Rf(n,s,E,l),q=n.memoizedState),(F=Es||Dp(n,s,F,l,j,q,I)||e!==null&&e.dependencies!==null&&Su(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=I,l=F):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Hu(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Or(n,e.child,null,h),n.child=Or(n,null,s,h)):He(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Bi(e,n,h),e}function Kp(e,n,s,l){return Rr(),n.flags|=256,He(e,n,s,l),n.child}var Df={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Of(e){return{baseLanes:e,cachePool:Ug()}}function Mf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=En),e}function Yp(e,n,s){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(me.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Lt){if(h?As(n):Ss(),(e=ee)?(e=n_(e,On),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ps!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},s=Cg(e),s.return=n,n.child=s,Be=n,ee=null)):e=null,e===null)throw _s(n);return gd(e)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(Ss(),h=n.mode,E=Gu({mode:"hidden",children:E},h),l=wr(l,h,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Of(s),l.childLanes=Mf(e,g,s),n.memoizedState=Df,Xl(null,l)):(As(n),Vf(n,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(As(n),n.flags&=-257,n=kf(e,n,s)):n.memoizedState!==null?(Ss(),n.child=e.child,n.flags|=128,n=null):(Ss(),E=l.fallback,h=n.mode,l=Gu({mode:"visible",children:l.children},h),E=wr(E,h,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Or(n,e.child,null,s),l=n.child,l.memoizedState=Of(s),l.childLanes=Mf(e,g,s),n.memoizedState=Df,n=Xl(null,l));else if(As(n),gd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,l=Error(a(419)),l.stack="",l.digest=g,Ll({value:l,source:null,stack:null}),n=kf(e,n,s)}else if(Se||_a(e,n,s,!1),g=(s&e.childLanes)!==0,Se||g){if(g=Wt,g!==null&&(l=pl(g,s),l!==0&&l!==I.retryLane))throw I.retryLane=l,Sr(e,l),cn(g,e,l),Nf;md(E)||Wu(),n=kf(e,n,s)}else md(E)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,ee=Vn(E.nextSibling),Be=n,Lt=!0,ys=null,On=!1,e!==null&&xg(n,e),n=Vf(n,l.children),n.flags|=4096);return n}return h?(Ss(),E=l.fallback,h=n.mode,I=e.child,z=I.sibling,l=ki(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,z!==null?E=ki(z,E):(E=wr(E,h,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Xl(null,l),l=n.child,E=e.child.memoizedState,E===null?E=Of(s):(h=E.cachePool,h!==null?(I=be._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Ug(),E={baseLanes:E.baseLanes|s,cachePool:h}),l.memoizedState=E,l.childLanes=Mf(e,g,s),n.memoizedState=Df,Xl(e.child,l)):(As(n),s=e.child,e=s.sibling,s=ki(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Vf(e,n){return n=Gu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Gu(e,n){return e=pn(22,e,null,n),e.lanes=0,e}function kf(e,n,s){return Or(n,e.child,null,s),e=Vf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Xp(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Xh(e.return,n,s)}function Uf(e,n,s,l,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function Zp(e,n,s){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var g=me.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,J(me,g),He(e,n,l,s),l=Lt?Ul:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xp(e,s,n);else if(e.tag===19)Xp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Ou(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Uf(n,!1,h,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Ou(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Uf(n,!0,s,null,f,l);break;case"together":Uf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Bi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Cs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(_a(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=ki(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=ki(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Lf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Su(e)))}function h1(e,n,s){switch(n.tag){case 3:Ne(n,n.stateNode.containerInfo),vs(n,be,e.memoizedState.cache),Rr();break;case 27:case 5:ar(n);break;case 4:Ne(n,n.stateNode.containerInfo);break;case 10:vs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,of(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(As(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Yp(e,n,s):(As(n),e=Bi(e,n,s),e!==null?e.sibling:null);As(n);break;case 19:var h=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(_a(e,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return Zp(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),J(me,me.current),l)break;return null;case 22:return n.lanes=0,qp(e,n,s,n.pendingProps);case 24:vs(n,be,e.memoizedState.cache)}return Bi(e,n,s)}function $p(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Se=!0;else{if(!Lf(e,s)&&(n.flags&128)===0)return Se=!1,h1(e,n,s);Se=(e.flags&131072)!==0}else Se=!1,Lt&&(n.flags&1048576)!==0&&Ng(n,Ul,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=xr(n.elementType),n.type=e,typeof e=="function")Bh(e)?(l=Vr(e,l),n.tag=1,n=Qp(null,n,e,l,s)):(n.tag=0,n=xf(null,n,e,l,s));else{if(e!=null){var h=e.$$typeof;if(h===It){n.tag=11,n=zp(null,n,e,l,s);break t}else if(h===x){n.tag=14,n=jp(null,n,e,l,s);break t}}throw n=te(e)||e,Error(a(306,n,""))}}return n;case 0:return xf(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=Vr(l,n.pendingProps),Qp(e,n,l,h,s);case 3:t:{if(Ne(n,n.stateNode.containerInfo),e===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,nf(e,n),Gl(n,l,null,s);var g=n.memoizedState;if(l=g.cache,vs(n,be,l),l!==f.cache&&Zh(n,[be],s,!0),Hl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Kp(e,n,l,s);break t}else if(l!==h){h=Nn(Error(a(424)),n),Ll(h),n=Kp(e,n,l,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ee=Vn(e.firstChild),Be=n,Lt=!0,ys=null,On=!0,s=qg(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Rr(),l===h){n=Bi(e,n,s);break t}He(e,n,l,s)}n=n.child}return n;case 26:return Hu(e,n),e===null?(s=o_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Lt||(s=n.type,e=n.pendingProps,l=ac(bt.current).createElement(s),l[ve]=n,l[Ve]=e,Ge(l,s,e),Ee(l),n.stateNode=l):n.memoizedState=o_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ar(n),e===null&&Lt&&(l=n.stateNode=r_(n.type,n.pendingProps,bt.current),Be=n,On=!0,h=ee,Os(n.type)?(pd=h,ee=Vn(l.firstChild)):ee=h),He(e,n,n.pendingProps.children,s),Hu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Lt&&((h=l=ee)&&(l=B1(l,n.type,n.pendingProps,On),l!==null?(n.stateNode=l,Be=n,ee=Vn(l.firstChild),On=!1,h=!0):h=!1),h||_s(n)),ar(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,l=f.children,hd(h,f)?l=null:g!==null&&hd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=cf(e,n,n1,null,null,s),co._currentValue=h),Hu(e,n),He(e,n,l,s),n.child;case 6:return e===null&&Lt&&((e=s=ee)&&(s=q1(s,n.pendingProps,On),s!==null?(n.stateNode=s,Be=n,ee=null,e=!0):e=!1),e||_s(n)),null;case 13:return Yp(e,n,s);case 4:return Ne(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Or(n,null,l,s):He(e,n,l,s),n.child;case 11:return zp(e,n,n.type,n.pendingProps,s);case 7:return He(e,n,n.pendingProps,s),n.child;case 8:return He(e,n,n.pendingProps.children,s),n.child;case 12:return He(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,vs(n,n.type,l.value),He(e,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Ir(n),h=qe(h),l=l(h),n.flags|=1,He(e,n,l,s),n.child;case 14:return jp(e,n,n.type,n.pendingProps,s);case 15:return Bp(e,n,n.type,n.pendingProps,s);case 19:return Zp(e,n,s);case 31:return c1(e,n,s);case 22:return qp(e,n,s,n.pendingProps);case 24:return Ir(n),l=qe(be),e===null?(h=Wh(),h===null&&(h=Wt,f=$h(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:l,cache:h},ef(n),vs(n,be,h)):((e.lanes&s)!==0&&(nf(e,n),Gl(n,null,null,s),Hl()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),vs(n,be,l)):(l=f.cache,vs(n,be,l),l!==h.cache&&Zh(n,[be],s,!0))),He(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function qi(e){e.flags|=4}function Pf(e,n,s,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Sy())e.flags|=8192;else throw Dr=Iu,tf}else e.flags&=-16777217}function Jp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!d_(n))if(Sy())e.flags|=8192;else throw Dr=Iu,tf}function Fu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?$o():536870912,e.lanes|=n,xa|=n)}function Zl(e,n){if(!Lt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ne(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function f1(e,n,s){var l=n.pendingProps;switch(Fh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Pi(be),re(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ya(n)?qi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Kh())),ne(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(qi(n),f!==null?(ne(n),Jp(n,f)):(ne(n),Pf(n,h,null,l,s))):f?f!==e.memoizedState?(qi(n),ne(n),Jp(n,f)):(ne(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&qi(n),ne(n),Pf(n,h,e,l,s)),null;case 27:if(Xr(n),s=bt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&qi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ne(n),null}e=nt.current,ya(n)?Dg(n):(e=r_(h,l,s),n.stateNode=e,qi(n))}return ne(n),null;case 5:if(Xr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&qi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ne(n),null}if(f=nt.current,ya(n))Dg(n);else{var g=ac(bt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}f[ve]=n,f[Ve]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Ge(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&qi(n)}}return ne(n),Pf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&qi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=bt.current,ya(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,h=Be,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[ve]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||Yy(e.nodeValue,s)),e||_s(n,!0)}else e=ac(e).createTextNode(l),e[ve]=n,n.stateNode=e}return ne(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(l=ya(n),s!==null){if(e===null){if(!l)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[ve]=n}else Rr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),e=!1}else s=Kh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(_n(n),n):(_n(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ne(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ya(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[ve]=n}else Rr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),h=!1}else h=Kh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(_n(n),n):(_n(n),null)}return _n(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Fu(n,n.updateQueue),ne(n),null);case 4:return re(),e===null&&ad(n.stateNode.containerInfo),ne(n),null;case 10:return Pi(n.type),ne(n),null;case 19:if(H(me),l=n.memoizedState,l===null)return ne(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Zl(l,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Ou(e),f!==null){for(n.flags|=128,Zl(l,!1),e=f.updateQueue,n.updateQueue=e,Fu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Rg(s,e),s=s.sibling;return J(me,me.current&1|2),Lt&&Ui(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&We()>Zu&&(n.flags|=128,h=!0,Zl(l,!1),n.lanes=4194304)}else{if(!h)if(e=Ou(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Fu(n,e),Zl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Lt)return ne(n),null}else 2*We()-l.renderingStartTime>Zu&&s!==536870912&&(n.flags|=128,h=!0,Zl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=We(),e.sibling=null,s=me.current,J(me,h?s&1|2:s&1),Lt&&Ui(n,l.treeForkCount),e):(ne(n),null);case 22:case 23:return _n(n),lf(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),s=n.updateQueue,s!==null&&Fu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&H(Nr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Pi(be),ne(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function d1(e,n){switch(Fh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Pi(be),re(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Xr(n),null;case 31:if(n.memoizedState!==null){if(_n(n),n.alternate===null)throw Error(a(340));Rr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(_n(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Rr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return H(me),null;case 4:return re(),null;case 10:return Pi(n.type),null;case 22:case 23:return _n(n),lf(),e!==null&&H(Nr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Pi(be),null;case 25:return null;default:return null}}function Wp(e,n){switch(Fh(n),n.tag){case 3:Pi(be),re();break;case 26:case 27:case 5:Xr(n);break;case 4:re();break;case 31:n.memoizedState!==null&&_n(n);break;case 13:_n(n);break;case 19:H(me);break;case 10:Pi(n.type);break;case 22:case 23:_n(n),lf(),e!==null&&H(Nr);break;case 24:Pi(be)}}function $l(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&e)===e){l=void 0;var f=s.create,g=s.inst;l=f(),g.destroy=l}s=s.next}while(s!==h)}}catch(E){Qt(n,n.return,E)}}function ws(e,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var I=s,z=E;try{z()}catch(F){Qt(h,I,F)}}}l=l.next}while(l!==f)}}catch(F){Qt(n,n.return,F)}}function ty(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Gg(n,s)}catch(l){Qt(e,e.return,l)}}}function ey(e,n,s){s.props=Vr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){Qt(e,n,l)}}function Jl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(h){Qt(e,n,h)}}function vi(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){Qt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Qt(e,n,h)}else s.current=null}function ny(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){Qt(e,e.return,h)}}function zf(e,n,s){try{var l=e.stateNode;k1(l,e.type,s,n),l[Ve]=n}catch(h){Qt(e,e.return,h)}}function iy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Os(e.type)||e.tag===4}function jf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||iy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Os(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Bf(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=qn));else if(l!==4&&(l===27&&Os(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Bf(e,n,s),e=e.sibling;e!==null;)Bf(e,n,s),e=e.sibling}function Qu(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&Os(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Qu(e,n,s),e=e.sibling;e!==null;)Qu(e,n,s),e=e.sibling}function sy(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ge(n,l,s),n[ve]=e,n[Ve]=s}catch(f){Qt(e,e.return,f)}}var Hi=!1,we=!1,qf=!1,ry=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function m1(e,n){if(e=e.containerInfo,ud=dc,e=yg(e),Vh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,I=-1,z=0,F=0,Y=e,j=null;e:for(;;){for(var q;Y!==s||h!==0&&Y.nodeType!==3||(E=g+h),Y!==f||l!==0&&Y.nodeType!==3||(I=g+l),Y.nodeType===3&&(g+=Y.nodeValue.length),(q=Y.firstChild)!==null;)j=Y,Y=q;for(;;){if(Y===e)break e;if(j===s&&++z===h&&(E=g),j===f&&++F===l&&(I=g),(q=Y.nextSibling)!==null)break;Y=j,j=Y.parentNode}Y=q}s=E===-1||I===-1?null:{start:E,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(cd={focusedElem:e,selectionRange:s},dc=!1,Ue=n;Ue!==null;)if(n=Ue,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ue=e;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var rt=Vr(s.type,h);e=l.getSnapshotBeforeUpdate(rt,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(dt){Qt(s,s.return,dt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)dd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":dd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ue=e;break}Ue=n.return}}function ay(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Fi(e,s),l&4&&$l(5,s);break;case 1:if(Fi(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Qt(s,s.return,g)}else{var h=Vr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Qt(s,s.return,g)}}l&64&&ty(s),l&512&&Jl(s,s.return);break;case 3:if(Fi(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Gg(e,n)}catch(g){Qt(s,s.return,g)}}break;case 27:n===null&&l&4&&sy(s);case 26:case 5:Fi(e,s),n===null&&l&4&&ny(s),l&512&&Jl(s,s.return);break;case 12:Fi(e,s);break;case 31:Fi(e,s),l&4&&uy(e,s);break;case 13:Fi(e,s),l&4&&cy(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=A1.bind(null,s),H1(e,s))));break;case 22:if(l=s.memoizedState!==null||Hi,!l){n=n!==null&&n.memoizedState!==null||we,h=Hi;var f=we;Hi=l,(we=n)&&!f?Qi(e,s,(s.subtreeFlags&8772)!==0):Fi(e,s),Hi=h,we=f}break;case 30:break;default:Fi(e,s)}}function ly(e){var n=e.alternate;n!==null&&(e.alternate=null,ly(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ta(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var le=null,an=!1;function Gi(e,n,s){for(s=s.child;s!==null;)oy(e,n,s),s=s.sibling}function oy(e,n,s){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Pn,s)}catch{}switch(s.tag){case 26:we||vi(s,n),Gi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:we||vi(s,n);var l=le,h=an;Os(s.type)&&(le=s.stateNode,an=!1),Gi(e,n,s),lo(s.stateNode),le=l,an=h;break;case 5:we||vi(s,n);case 6:if(l=le,h=an,le=null,Gi(e,n,s),le=l,an=h,le!==null)if(an)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(s.stateNode)}catch(f){Qt(s,n,f)}else try{le.removeChild(s.stateNode)}catch(f){Qt(s,n,f)}break;case 18:le!==null&&(an?(e=le,t_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Pa(e)):t_(le,s.stateNode));break;case 4:l=le,h=an,le=s.stateNode.containerInfo,an=!0,Gi(e,n,s),le=l,an=h;break;case 0:case 11:case 14:case 15:ws(2,s,n),we||ws(4,s,n),Gi(e,n,s);break;case 1:we||(vi(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&ey(s,n,l)),Gi(e,n,s);break;case 21:Gi(e,n,s);break;case 22:we=(l=we)||s.memoizedState!==null,Gi(e,n,s),we=l;break;default:Gi(e,n,s)}}function uy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Pa(e)}catch(s){Qt(n,n.return,s)}}}function cy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Pa(e)}catch(s){Qt(n,n.return,s)}}function g1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new ry),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new ry),n;default:throw Error(a(435,e.tag))}}function Ku(e,n){var s=g1(e);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=S1.bind(null,e,l);l.then(h,h)}})}function ln(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Os(E.type)){le=E.stateNode,an=!1;break t}break;case 5:le=E.stateNode,an=!1;break t;case 3:case 4:le=E.stateNode.containerInfo,an=!0;break t}E=E.return}if(le===null)throw Error(a(160));oy(f,g,h),le=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)hy(n,e),n=n.sibling}var Yn=null;function hy(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ln(n,e),on(e),l&4&&(ws(3,e,e.return),$l(3,e),ws(5,e,e.return));break;case 1:ln(n,e),on(e),l&512&&(we||s===null||vi(s,s.return)),l&64&&Hi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Yn;if(ln(n,e),on(e),l&512&&(we||s===null||vi(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ri]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Ge(f,l,s),f[ve]=e,Ee(f),l=f;break t;case"link":var g=h_("link","href",h).get(l+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(l),Ge(f,l,s),h.head.appendChild(f);break;case"meta":if(g=h_("meta","content",h).get(l+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(l),Ge(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[ve]=e,Ee(f),l=f}e.stateNode=l}else f_(h,e.type,e.stateNode);else e.stateNode=c_(h,l,e.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?f_(h,e.type,e.stateNode):c_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&zf(e,e.memoizedProps,s.memoizedProps)}break;case 27:ln(n,e),on(e),l&512&&(we||s===null||vi(s,s.return)),s!==null&&l&4&&zf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(ln(n,e),on(e),l&512&&(we||s===null||vi(s,s.return)),e.flags&32){h=e.stateNode;try{rn(h,"")}catch(rt){Qt(e,e.return,rt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,zf(e,h,s!==null?s.memoizedProps:h)),l&1024&&(qf=!0);break;case 6:if(ln(n,e),on(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(rt){Qt(e,e.return,rt)}}break;case 3:if(uc=null,h=Yn,Yn=lc(n.containerInfo),ln(n,e),Yn=h,on(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Pa(n.containerInfo)}catch(rt){Qt(e,e.return,rt)}qf&&(qf=!1,fy(e));break;case 4:l=Yn,Yn=lc(e.stateNode.containerInfo),ln(n,e),on(e),Yn=l;break;case 12:ln(n,e),on(e);break;case 31:ln(n,e),on(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ku(e,l)));break;case 13:ln(n,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Xu=We()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ku(e,l)));break;case 22:h=e.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,z=Hi,F=we;if(Hi=z||h,we=F||I,ln(n,e),we=F,Hi=z,on(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||I||Hi||we||kr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){I=s=n;try{if(f=I.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=I.stateNode;var Y=I.memoizedProps.style,j=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(rt){Qt(I,I.return,rt)}}}else if(n.tag===6){if(s===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(rt){Qt(I,I.return,rt)}}}else if(n.tag===18){if(s===null){I=n;try{var q=I.stateNode;h?e_(q,!0):e_(I.stateNode,!1)}catch(rt){Qt(I,I.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Ku(e,s))));break;case 19:ln(n,e),on(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ku(e,l)));break;case 30:break;case 21:break;default:ln(n,e),on(e)}}function on(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(iy(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=jf(e);Qu(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(rn(g,""),s.flags&=-33);var E=jf(e);Qu(e,E,g);break;case 3:case 4:var I=s.stateNode.containerInfo,z=jf(e);Bf(e,z,I);break;default:throw Error(a(161))}}catch(F){Qt(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function fy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;fy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Fi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ay(e,n.alternate,n),n=n.sibling}function kr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ws(4,n,n.return),kr(n);break;case 1:vi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&ey(n,n.return,s),kr(n);break;case 27:lo(n.stateNode);case 26:case 5:vi(n,n.return),kr(n);break;case 22:n.memoizedState===null&&kr(n);break;case 30:kr(n);break;default:kr(n)}e=e.sibling}}function Qi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Qi(h,f,s),$l(4,f);break;case 1:if(Qi(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Qt(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Hg(I[h],E)}catch(z){Qt(l,l.return,z)}}s&&g&64&&ty(f),Jl(f,f.return);break;case 27:sy(f);case 26:case 5:Qi(h,f,s),s&&l===null&&g&4&&ny(f),Jl(f,f.return);break;case 12:Qi(h,f,s);break;case 31:Qi(h,f,s),s&&g&4&&uy(h,f);break;case 13:Qi(h,f,s),s&&g&4&&cy(h,f);break;case 22:f.memoizedState===null&&Qi(h,f,s),Jl(f,f.return);break;case 30:break;default:Qi(h,f,s)}n=n.sibling}}function Hf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Pl(s))}function Gf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Pl(e))}function Xn(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)dy(e,n,s,l),n=n.sibling}function dy(e,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(e,n,s,l),h&2048&&$l(9,n);break;case 1:Xn(e,n,s,l);break;case 3:Xn(e,n,s,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Pl(e)));break;case 12:if(h&2048){Xn(e,n,s,l),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Qt(n,n.return,I)}}else Xn(e,n,s,l);break;case 31:Xn(e,n,s,l);break;case 13:Xn(e,n,s,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Xn(e,n,s,l):Wl(e,n):f._visibility&2?Xn(e,n,s,l):(f._visibility|=2,Ca(e,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Hf(g,n);break;case 24:Xn(e,n,s,l),h&2048&&Gf(n.alternate,n);break;default:Xn(e,n,s,l)}}function Ca(e,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,I=l,z=g.flags;switch(g.tag){case 0:case 11:case 15:Ca(f,g,E,I,h),$l(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?Ca(f,g,E,I,h):Wl(f,g):(F._visibility|=2,Ca(f,g,E,I,h)),h&&z&2048&&Hf(g.alternate,g);break;case 24:Ca(f,g,E,I,h),h&&z&2048&&Gf(g.alternate,g);break;default:Ca(f,g,E,I,h)}n=n.sibling}}function Wl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,h=l.flags;switch(l.tag){case 22:Wl(s,l),h&2048&&Hf(l.alternate,l);break;case 24:Wl(s,l),h&2048&&Gf(l.alternate,l);break;default:Wl(s,l)}n=n.sibling}}var to=8192;function Ia(e,n,s){if(e.subtreeFlags&to)for(e=e.child;e!==null;)my(e,n,s),e=e.sibling}function my(e,n,s){switch(e.tag){case 26:Ia(e,n,s),e.flags&to&&e.memoizedState!==null&&eb(s,Yn,e.memoizedState,e.memoizedProps);break;case 5:Ia(e,n,s);break;case 3:case 4:var l=Yn;Yn=lc(e.stateNode.containerInfo),Ia(e,n,s),Yn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=to,to=16777216,Ia(e,n,s),to=l):Ia(e,n,s));break;default:Ia(e,n,s)}}function gy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function eo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ue=l,yy(l,e)}gy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)py(e),e=e.sibling}function py(e){switch(e.tag){case 0:case 11:case 15:eo(e),e.flags&2048&&ws(9,e,e.return);break;case 3:eo(e);break;case 12:eo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Yu(e)):eo(e);break;default:eo(e)}}function Yu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ue=l,yy(l,e)}gy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ws(8,n,n.return),Yu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Yu(n));break;default:Yu(n)}e=e.sibling}}function yy(e,n){for(;Ue!==null;){var s=Ue;switch(s.tag){case 0:case 11:case 15:ws(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Pl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Ue=l;else t:for(s=e;Ue!==null;){l=Ue;var h=l.sibling,f=l.return;if(ly(l),l===s){Ue=null;break t}if(h!==null){h.return=f,Ue=h;break t}Ue=f}}}var p1={getCacheForType:function(e){var n=qe(be),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return qe(be).controller.signal}},y1=typeof WeakMap=="function"?WeakMap:Map,qt=0,Wt=null,Rt=null,xt=0,Ft=0,vn=null,Rs=!1,Na=!1,Ff=!1,Ki=0,ce=0,Cs=0,Ur=0,Qf=0,En=0,xa=0,no=null,un=null,Kf=!1,Xu=0,_y=0,Zu=1/0,$u=null,Is=null,De=0,Ns=null,Da=null,Yi=0,Yf=0,Xf=null,vy=null,io=0,Zf=null;function Tn(){return(qt&2)!==0&&xt!==0?xt&-xt:G.T!==null?nd():Jo()}function Ey(){if(En===0)if((xt&536870912)===0||Lt){var e=ur;ur<<=1,(ur&3932160)===0&&(ur=262144),En=e}else En=536870912;return e=yn.current,e!==null&&(e.flags|=32),En}function cn(e,n,s){(e===Wt&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(Oa(e,0),xs(e,xt,En,!1)),cr(e,s),((qt&2)===0||e!==Wt)&&(e===Wt&&((qt&2)===0&&(Ur|=s),ce===4&&xs(e,xt,En,!1)),Ei(e))}function Ty(e,n,s){if((qt&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&e.expiredLanes)===0||zn(e,n),h=l?E1(e,n):Jf(e,n,!0),f=l;do{if(h===0){Na&&!l&&xs(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!_1(s)){h=Jf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=no;var I=E.current.memoizedState.isDehydrated;if(I&&(Oa(E,g).flags|=256),g=Jf(E,g,!1),g!==2){if(Ff&&!I){E.errorRecoveryDisabledLanes|=f,Ur|=f,h=4;break t}f=un,un=h,f!==null&&(un===null?un=f:un.push.apply(un,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Oa(e,0),xs(e,n,0,!0);break}t:{switch(l=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:xs(l,n,En,!Rs);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Xu+300-We(),10<h)){if(xs(l,n,En,!Rs),ni(l,0,!0)!==0)break t;Yi=n,l.timeoutHandle=Jy(by.bind(null,l,s,un,$u,Kf,n,En,Ur,xa,Rs,f,"Throttled",-0,0),h);break t}by(l,s,un,$u,Kf,n,En,Ur,xa,Rs,f,null,-0,0)}}break}while(!0);Ei(e)}function by(e,n,s,l,h,f,g,E,I,z,F,Y,j,q){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},my(n,f,Y);var rt=(f&62914560)===f?Xu-We():(f&4194048)===f?_y-We():0;if(rt=nb(Y,rt),rt!==null){Yi=f,e.cancelPendingCommit=rt(xy.bind(null,e,n,f,s,l,h,g,E,I,F,Y,null,j,q)),xs(e,f,g,!z);return}}xy(e,n,f,s,l,h,g,E,I)}function _1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!gn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function xs(e,n,s,l){n&=~Qf,n&=~Ur,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-fe(h),g=1<<f;l[f]=-1,h&=~g}s!==0&&hr(e,s,n)}function Ju(){return(qt&6)===0?(so(0),!1):!0}function $f(){if(Rt!==null){if(Ft===0)var e=Rt.return;else e=Rt,Li=Cr=null,df(e),ba=null,jl=0,e=Rt;for(;e!==null;)Wp(e.alternate,e),e=e.return;Rt=null}}function Oa(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,P1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Yi=0,$f(),Wt=e,Rt=s=ki(e.current,null),xt=n,Ft=0,vn=null,Rs=!1,Na=zn(e,n),Ff=!1,xa=En=Qf=Ur=Cs=ce=0,un=no=null,Kf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-fe(l),f=1<<h;n|=e[h],l&=~f}return Ki=n,vu(),s}function Ay(e,n){St=null,G.H=Yl,n===Ta||n===Cu?(n=zg(),Ft=3):n===tf?(n=zg(),Ft=4):Ft=n===Nf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,vn=n,Rt===null&&(ce=1,Bu(e,Nn(n,e.current)))}function Sy(){var e=yn.current;return e===null?!0:(xt&4194048)===xt?Mn===null:(xt&62914560)===xt||(xt&536870912)!==0?e===Mn:!1}function wy(){var e=G.H;return G.H=Yl,e===null?Yl:e}function Ry(){var e=G.A;return G.A=p1,e}function Wu(){ce=4,Rs||(xt&4194048)!==xt&&yn.current!==null||(Na=!0),(Cs&134217727)===0&&(Ur&134217727)===0||Wt===null||xs(Wt,xt,En,!1)}function Jf(e,n,s){var l=qt;qt|=2;var h=wy(),f=Ry();(Wt!==e||xt!==n)&&($u=null,Oa(e,n)),n=!1;var g=ce;t:do try{if(Ft!==0&&Rt!==null){var E=Rt,I=vn;switch(Ft){case 8:$f(),g=6;break t;case 3:case 2:case 9:case 6:yn.current===null&&(n=!0);var z=Ft;if(Ft=0,vn=null,Ma(e,E,I,z),s&&Na){g=0;break t}break;default:z=Ft,Ft=0,vn=null,Ma(e,E,I,z)}}v1(),g=ce;break}catch(F){Ay(e,F)}while(!0);return n&&e.shellSuspendCounter++,Li=Cr=null,qt=l,G.H=h,G.A=f,Rt===null&&(Wt=null,xt=0,vu()),g}function v1(){for(;Rt!==null;)Cy(Rt)}function E1(e,n){var s=qt;qt|=2;var l=wy(),h=Ry();Wt!==e||xt!==n?($u=null,Zu=We()+500,Oa(e,n)):Na=zn(e,n);t:do try{if(Ft!==0&&Rt!==null){n=Rt;var f=vn;e:switch(Ft){case 1:Ft=0,vn=null,Ma(e,n,f,1);break;case 2:case 9:if(Lg(f)){Ft=0,vn=null,Iy(n);break}n=function(){Ft!==2&&Ft!==9||Wt!==e||(Ft=7),Ei(e)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Lg(f)?(Ft=0,vn=null,Iy(n)):(Ft=0,vn=null,Ma(e,n,f,7));break;case 5:var g=null;switch(Rt.tag){case 26:g=Rt.memoizedState;case 5:case 27:var E=Rt;if(g?d_(g):E.stateNode.complete){Ft=0,vn=null;var I=E.sibling;if(I!==null)Rt=I;else{var z=E.return;z!==null?(Rt=z,tc(z)):Rt=null}break e}}Ft=0,vn=null,Ma(e,n,f,5);break;case 6:Ft=0,vn=null,Ma(e,n,f,6);break;case 8:$f(),ce=6;break t;default:throw Error(a(462))}}T1();break}catch(F){Ay(e,F)}while(!0);return Li=Cr=null,G.H=l,G.A=h,qt=s,Rt!==null?0:(Wt=null,xt=0,vu(),ce)}function T1(){for(;Rt!==null&&!Ch();)Cy(Rt)}function Cy(e){var n=$p(e.alternate,e,Ki);e.memoizedProps=e.pendingProps,n===null?tc(e):Rt=n}function Iy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Fp(s,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=Fp(s,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:df(n);default:Wp(s,n),n=Rt=Rg(n,Ki),n=$p(s,n,Ki)}e.memoizedProps=e.pendingProps,n===null?tc(e):Rt=n}function Ma(e,n,s,l){Li=Cr=null,df(n),ba=null,jl=0;var h=n.return;try{if(u1(e,h,n,s,xt)){ce=1,Bu(e,Nn(s,e.current)),Rt=null;return}}catch(f){if(h!==null)throw Rt=h,f;ce=1,Bu(e,Nn(s,e.current)),Rt=null;return}n.flags&32768?(Lt||l===1?e=!0:Na||(xt&536870912)!==0?e=!1:(Rs=e=!0,(l===2||l===9||l===3||l===6)&&(l=yn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Ny(n,e)):tc(n)}function tc(e){var n=e;do{if((n.flags&32768)!==0){Ny(n,Rs);return}e=n.return;var s=f1(n.alternate,n,Ki);if(s!==null){Rt=s;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=e}while(n!==null);ce===0&&(ce=5)}function Ny(e,n){do{var s=d1(e.alternate,e);if(s!==null){s.flags&=32767,Rt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Rt=e;return}Rt=e=s}while(e!==null);ce=6,Rt=null}function xy(e,n,s,l,h,f,g,E,I){e.cancelPendingCommit=null;do ec();while(De!==0);if((qt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=zh,xh(e,s,f,g,E,I),e===Wt&&(Rt=Wt=null,xt=0),Da=n,Ns=e,Yi=s,Yf=f,Xf=h,vy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,w1(as,function(){return ky(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=it.p,it.p=2,g=qt,qt|=4;try{m1(e,n,s)}finally{qt=g,it.p=h,G.T=l}}De=1,Dy(),Oy(),My()}}function Dy(){if(De===1){De=0;var e=Ns,n=Da,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var l=it.p;it.p=2;var h=qt;qt|=4;try{hy(n,e);var f=cd,g=yg(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&pg(E.ownerDocument.documentElement,E)){if(I!==null&&Vh(E)){var z=I.start,F=I.end;if(F===void 0&&(F=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(F,E.value.length);else{var Y=E.ownerDocument||document,j=Y&&Y.defaultView||window;if(j.getSelection){var q=j.getSelection(),rt=E.textContent.length,dt=Math.min(I.start,rt),Zt=I.end===void 0?dt:Math.min(I.end,rt);!q.extend&&dt>Zt&&(g=Zt,Zt=dt,dt=g);var U=gg(E,dt),O=gg(E,Zt);if(U&&O&&(q.rangeCount!==1||q.anchorNode!==U.node||q.anchorOffset!==U.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var P=Y.createRange();P.setStart(U.node,U.offset),q.removeAllRanges(),dt>Zt?(q.addRange(P),q.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),q.addRange(P))}}}}for(Y=[],q=E;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var K=Y[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}dc=!!ud,cd=ud=null}finally{qt=h,it.p=l,G.T=s}}e.current=n,De=2}}function Oy(){if(De===2){De=0;var e=Ns,n=Da,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var l=it.p;it.p=2;var h=qt;qt|=4;try{ay(e,n.alternate,n)}finally{qt=h,it.p=l,G.T=s}}De=3}}function My(){if(De===4||De===3){De=0,Fo();var e=Ns,n=Da,s=Yi,l=vy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?De=5:(De=0,Da=Ns=null,Vy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Is=null),Di(s),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Pn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,h=it.p,it.p=2,G.T=null;try{for(var f=e.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,it.p=h}}(Yi&3)!==0&&ec(),Ei(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Zf?io++:(io=0,Zf=e):io=0,so(0)}}function Vy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Pl(n)))}function ec(){return Dy(),Oy(),My(),ky()}function ky(){if(De!==5)return!1;var e=Ns,n=Yf;Yf=0;var s=Di(Yi),l=G.T,h=it.p;try{it.p=32>s?32:s,G.T=null,s=Xf,Xf=null;var f=Ns,g=Yi;if(De=0,Da=Ns=null,Yi=0,(qt&6)!==0)throw Error(a(331));var E=qt;if(qt|=4,py(f.current),dy(f,f.current,g,s),qt=E,so(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Pn,f)}catch{}return!0}finally{it.p=h,G.T=l,Vy(e,n)}}function Uy(e,n,s){n=Nn(s,n),n=If(e.stateNode,n,2),e=bs(e,n,2),e!==null&&(cr(e,2),Ei(e))}function Qt(e,n,s){if(e.tag===3)Uy(e,e,s);else for(;n!==null;){if(n.tag===3){Uy(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Is===null||!Is.has(l))){e=Nn(s,e),s=Lp(2),l=bs(n,s,2),l!==null&&(Pp(s,l,n,e),cr(l,2),Ei(l));break}}n=n.return}}function Wf(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new y1;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(Ff=!0,h.add(s),e=b1.bind(null,e,n,s),n.then(e,e))}function b1(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Wt===e&&(xt&s)===s&&(ce===4||ce===3&&(xt&62914560)===xt&&300>We()-Xu?(qt&2)===0&&Oa(e,0):Qf|=s,xa===xt&&(xa=0)),Ei(e)}function Ly(e,n){n===0&&(n=$o()),e=Sr(e,n),e!==null&&(cr(e,n),Ei(e))}function A1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Ly(e,s)}function S1(e,n){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),Ly(e,s)}function w1(e,n){return xe(e,n)}var nc=null,Va=null,td=!1,ic=!1,ed=!1,Ds=0;function Ei(e){e!==Va&&e.next===null&&(Va===null?nc=Va=e:Va=Va.next=e),ic=!0,td||(td=!0,C1())}function so(e,n){if(!ed&&ic){ed=!0;do for(var s=!1,l=nc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-fe(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,By(l,f))}else f=xt,f=ni(l,l===Wt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||zn(l,f)||(s=!0,By(l,f));l=l.next}while(s);ed=!1}}function R1(){Py()}function Py(){ic=td=!1;var e=0;Ds!==0&&L1()&&(e=Ds);for(var n=We(),s=null,l=nc;l!==null;){var h=l.next,f=zy(l,n);f===0?(l.next=null,s===null?nc=h:s.next=h,h===null&&(Va=s)):(s=l,(e!==0||(f&3)!==0)&&(ic=!0)),l=h}De!==0&&De!==5||so(e),Ds!==0&&(Ds=0)}function zy(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-fe(f),E=1<<g,I=h[g];I===-1?((E&s)===0||(E&l)!==0)&&(h[g]=Nh(E,n)):I<=n&&(e.expiredLanes|=E),f&=~E}if(n=Wt,s=xt,s=ni(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&rs(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||zn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&rs(l),Di(s)){case 2:case 8:s=ml;break;case 32:s=as;break;case 268435456:s=Qo;break;default:s=as}return l=jy.bind(null,e),s=xe(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&rs(l),e.callbackPriority=2,e.callbackNode=null,2}function jy(e,n){if(De!==0&&De!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(ec()&&e.callbackNode!==s)return null;var l=xt;return l=ni(e,e===Wt?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Ty(e,l,n),zy(e,We()),e.callbackNode!=null&&e.callbackNode===s?jy.bind(null,e):null)}function By(e,n){if(ec())return null;Ty(e,n,!0)}function C1(){z1(function(){(qt&6)!==0?xe(dl,R1):Py()})}function nd(){if(Ds===0){var e=va;e===0&&(e=ti,ti<<=1,(ti&261888)===0&&(ti=256)),Ds=e}return Ds}function qy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:sa(""+e)}function Hy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function I1(e,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var f=qy((h[Ve]||null).action),g=l.submitter;g&&(n=(n=g[Ve]||null)?qy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new di("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ds!==0){var I=g?Hy(h,g):new FormData(h);bf(s,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=g?Hy(h,g):new FormData(h),bf(s,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var id=0;id<Ph.length;id++){var sd=Ph[id],N1=sd.toLowerCase(),x1=sd[0].toUpperCase()+sd.slice(1);Kn(N1,"on"+x1)}Kn(Eg,"onAnimationEnd"),Kn(Tg,"onAnimationIteration"),Kn(bg,"onAnimationStart"),Kn("dblclick","onDoubleClick"),Kn("focusin","onFocus"),Kn("focusout","onBlur"),Kn(QT,"onTransitionRun"),Kn(KT,"onTransitionStart"),Kn(YT,"onTransitionCancel"),Kn(Ag,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),D1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ro));function Gy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],I=E.instance,z=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){_u(F)}h.currentTarget=null,f=I}else for(g=0;g<l.length;g++){if(E=l[g],I=E.instance,z=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){_u(F)}h.currentTarget=null,f=I}}}}function Ct(e,n){var s=n[Wr];s===void 0&&(s=n[Wr]=new Set);var l=e+"__bubble";s.has(l)||(Fy(n,e,2,!1),s.add(l))}function rd(e,n,s){var l=0;n&&(l|=4),Fy(s,e,l,n)}var sc="_reactListening"+Math.random().toString(36).slice(2);function ad(e){if(!e[sc]){e[sc]=!0,yl.forEach(function(s){s!=="selectionchange"&&(D1.has(s)||rd(s,!1,e),rd(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[sc]||(n[sc]=!0,rd("selectionchange",!1,n))}}function Fy(e,n,s,l){switch(E_(n)){case 2:var h=rb;break;case 8:h=ab;break;default:h=Td}s=h.bind(null,n,s,e),h=void 0,!pr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function ld(e,n,s,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=l.return;g!==null;){var I=g.tag;if((I===3||I===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=ai(E),g===null)return;if(I=g.tag,I===5||I===6||I===26||I===27){l=f=g;continue t}E=E.parentNode}}l=l.return}fs(function(){var z=f,F=wn(s),Y=[];t:{var j=Sg.get(e);if(j!==void 0){var q=di,rt=e;switch(e){case"keypress":if(_r(s)===0)break t;case"keydown":case"keyup":q=gu;break;case"focusin":rt="focus",q=Er;break;case"focusout":rt="blur",q=Er;break;case"beforeblur":case"afterblur":q=Er;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=xl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=au;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Eg:case Tg:case bg:q=ou;break;case Ag:q=T;break;case"scroll":case"scrollend":q=Nl;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=uu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Vi;break;case"toggle":case"beforetoggle":q=At}var dt=(n&4)!==0,Zt=!dt&&(e==="scroll"||e==="scrollend"),U=dt?j!==null?j+"Capture":null:j;dt=[];for(var O=z,P;O!==null;){var K=O;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||U===null||(K=Hn(O,U),K!=null&&dt.push(ao(O,K,P))),Zt)break;O=O.return}0<dt.length&&(j=new q(j,rt,null,s,F),Y.push({event:j,listeners:dt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&s!==Rl&&(rt=s.relatedTarget||s.fromElement)&&(ai(rt)||rt[si]))break t;if((q||j)&&(j=F.window===F?F:(j=F.ownerDocument)?j.defaultView||j.parentWindow:window,q?(rt=s.relatedTarget||s.toElement,q=z,rt=rt?ai(rt):null,rt!==null&&(Zt=c(rt),dt=rt.tag,rt!==Zt||dt!==5&&dt!==27&&dt!==6)&&(rt=null)):(q=null,rt=z),q!==rt)){if(dt=xl,K="onMouseLeave",U="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(dt=Vi,K="onPointerLeave",U="onPointerEnter",O="pointer"),Zt=q==null?j:dn(q),P=rt==null?j:dn(rt),j=new dt(K,O+"leave",q,s,F),j.target=Zt,j.relatedTarget=P,K=null,ai(F)===z&&(dt=new dt(U,O+"enter",rt,s,F),dt.target=P,dt.relatedTarget=Zt,K=dt),Zt=K,q&&rt)e:{for(dt=O1,U=q,O=rt,P=0,K=U;K;K=dt(K))P++;K=0;for(var ct=O;ct;ct=dt(ct))K++;for(;0<P-K;)U=dt(U),P--;for(;0<K-P;)O=dt(O),K--;for(;P--;){if(U===O||O!==null&&U===O.alternate){dt=U;break e}U=dt(U),O=dt(O)}dt=null}else dt=null;q!==null&&Qy(Y,j,q,dt,!1),rt!==null&&Zt!==null&&Qy(Y,Zt,rt,dt,!0)}}t:{if(j=z?dn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var zt=ug;else if(lg(j))if(cg)zt=HT;else{zt=BT;var at=jT}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&ia(z.elementType)&&(zt=ug):zt=qT;if(zt&&(zt=zt(e,z))){og(Y,zt,s,F);break t}at&&at(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Al(j,"number",j.value)}switch(at=z?dn(z):window,e){case"focusin":(lg(at)||at.contentEditable==="true")&&(ha=at,kh=z,kl=null);break;case"focusout":kl=kh=ha=null;break;case"mousedown":Uh=!0;break;case"contextmenu":case"mouseup":case"dragend":Uh=!1,_g(Y,s,F);break;case"selectionchange":if(FT)break;case"keydown":case"keyup":_g(Y,s,F)}var wt;if(Bt)t:{switch(e){case"compositionstart":var Dt="onCompositionStart";break t;case"compositionend":Dt="onCompositionEnd";break t;case"compositionupdate":Dt="onCompositionUpdate";break t}Dt=void 0}else ca?Tr(e,s)&&(Dt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Dt="onCompositionStart");Dt&&(pi&&s.locale!=="ko"&&(ca||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&ca&&(wt=Il()):(fi=F,Cl="value"in fi?fi.value:fi.textContent,ca=!0)),at=rc(z,Dt),0<at.length&&(Dt=new gi(Dt,e,null,s,F),Y.push({event:Dt,listeners:at}),wt?Dt.data=wt:(wt=ua(s),wt!==null&&(Dt.data=wt)))),(wt=Cn?UT(e,s):LT(e,s))&&(Dt=rc(z,"onBeforeInput"),0<Dt.length&&(at=new gi("onBeforeInput","beforeinput",null,s,F),Y.push({event:at,listeners:Dt}),at.data=wt)),I1(Y,e,z,s,F)}Gy(Y,n)})}function ao(e,n,s){return{instance:e,listener:n,currentTarget:s}}function rc(e,n){for(var s=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Hn(e,s),h!=null&&l.unshift(ao(e,h,f)),h=Hn(e,n),h!=null&&l.push(ao(e,h,f))),e.tag===3)return l;e=e.return}return[]}function O1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Qy(e,n,s,l,h){for(var f=n._reactName,g=[];s!==null&&s!==l;){var E=s,I=E.alternate,z=E.stateNode;if(E=E.tag,I!==null&&I===l)break;E!==5&&E!==26&&E!==27||z===null||(I=z,h?(z=Hn(s,f),z!=null&&g.unshift(ao(s,z,I))):h||(z=Hn(s,f),z!=null&&g.push(ao(s,z,I)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var M1=/\r\n?/g,V1=/\u0000|\uFFFD/g;function Ky(e){return(typeof e=="string"?e:""+e).replace(M1,`
`).replace(V1,"")}function Yy(e,n){return n=Ky(n),Ky(e)===n}function Xt(e,n,s,l,h,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||rn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&rn(e,""+l);break;case"className":mn(e,"class",l);break;case"tabIndex":mn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(e,s,l);break;case"style":wl(e,l,f);break;case"data":if(n!=="object"){mn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=sa(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Xt(e,n,"name",h.name,h,null),Xt(e,n,"formEncType",h.formEncType,h,null),Xt(e,n,"formMethod",h.formMethod,h,null),Xt(e,n,"formTarget",h.formTarget,h,null)):(Xt(e,n,"encType",h.encType,h,null),Xt(e,n,"method",h.method,h,null),Xt(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=sa(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=qn);break;case"onScroll":l!=null&&Ct("scroll",e);break;case"onScrollEnd":l!=null&&Ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=sa(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Ct("beforetoggle",e),Ct("toggle",e),ea(e,"popover",l);break;case"xlinkActuate":Te(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Te(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Te(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Te(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Te(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Te(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Te(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Te(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Te(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ea(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=ru.get(s)||s,ea(e,s,l))}}function od(e,n,s,l,h,f){switch(s){case"style":wl(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?rn(e,l):(typeof l=="number"||typeof l=="bigint")&&rn(e,""+l);break;case"onScroll":l!=null&&Ct("scroll",e);break;case"onScrollEnd":l!=null&&Ct("scrollend",e);break;case"onClick":l!=null&&(e.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_l.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Ve]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,h);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):ea(e,s,l)}}}function Ge(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",e),Ct("load",e);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xt(e,n,f,g,s,null)}}h&&Xt(e,n,"srcSet",s.srcSet,s,null),l&&Xt(e,n,"src",s.src,s,null);return;case"input":Ct("invalid",e);var E=f=g=h=null,I=null,z=null;for(l in s)if(s.hasOwnProperty(l)){var F=s[l];if(F!=null)switch(l){case"name":h=F;break;case"type":g=F;break;case"checked":I=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:Xt(e,n,l,F,s,null)}}nu(e,f,E,I,z,g,h,!1);return;case"select":Ct("invalid",e),l=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:Xt(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!l,n!=null?os(e,!!l,n,!1):s!=null&&os(e,!!l,s,!0);return;case"textarea":Ct("invalid",e),f=h=l=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Xt(e,n,g,E,s,null)}us(e,l,h,f);return;case"option":for(I in s)s.hasOwnProperty(I)&&(l=s[I],l!=null)&&(I==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Xt(e,n,I,l,s,null));return;case"dialog":Ct("beforetoggle",e),Ct("toggle",e),Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":Ct("load",e);break;case"video":case"audio":for(l=0;l<ro.length;l++)Ct(ro[l],e);break;case"image":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"embed":case"source":case"link":Ct("error",e),Ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(l=s[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xt(e,n,z,l,s,null)}return;default:if(ia(n)){for(F in s)s.hasOwnProperty(F)&&(l=s[F],l!==void 0&&od(e,n,F,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&Xt(e,n,E,l,s,null))}function k1(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,I=null,z=null,F=null;for(q in s){var Y=s[q];if(s.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":I=Y;default:l.hasOwnProperty(q)||Xt(e,n,q,null,l,Y)}}for(var j in l){var q=l[j];if(Y=s[j],l.hasOwnProperty(j)&&(q!=null||Y!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":F=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Y&&Xt(e,n,j,q,l,Y)}}na(e,g,E,I,z,F,f,h);return;case"select":q=g=E=j=null;for(f in s)if(I=s[f],s.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":q=I;default:l.hasOwnProperty(f)||Xt(e,n,f,null,l,I)}for(h in l)if(f=l[h],I=s[h],l.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==I&&Xt(e,n,h,f,l,I)}n=E,s=g,l=q,j!=null?os(e,!!s,j,!1):!!l!=!!s&&(n!=null?os(e,!!s,n,!0):os(e,!!s,s?[]:"",!1));return;case"textarea":q=j=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(e,n,E,null,l,h)}for(g in l)if(h=l[g],f=s[g],l.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Xt(e,n,g,h,l,f)}iu(e,j,q);return;case"option":for(var rt in s)j=s[rt],s.hasOwnProperty(rt)&&j!=null&&!l.hasOwnProperty(rt)&&(rt==="selected"?e.selected=!1:Xt(e,n,rt,null,l,j));for(I in l)j=l[I],q=s[I],l.hasOwnProperty(I)&&j!==q&&(j!=null||q!=null)&&(I==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":Xt(e,n,I,j,l,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in s)j=s[dt],s.hasOwnProperty(dt)&&j!=null&&!l.hasOwnProperty(dt)&&Xt(e,n,dt,null,l,j);for(z in l)if(j=l[z],q=s[z],l.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:Xt(e,n,z,j,l,q)}return;default:if(ia(n)){for(var Zt in s)j=s[Zt],s.hasOwnProperty(Zt)&&j!==void 0&&!l.hasOwnProperty(Zt)&&od(e,n,Zt,void 0,l,j);for(F in l)j=l[F],q=s[F],!l.hasOwnProperty(F)||j===q||j===void 0&&q===void 0||od(e,n,F,j,l,q);return}}for(var U in s)j=s[U],s.hasOwnProperty(U)&&j!=null&&!l.hasOwnProperty(U)&&Xt(e,n,U,null,l,j);for(Y in l)j=l[Y],q=s[Y],!l.hasOwnProperty(Y)||j===q||j==null&&q==null||Xt(e,n,Y,j,l,q)}function Xy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function U1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&Xy(g)){for(g=0,E=h.responseEnd,l+=1;l<s.length;l++){var I=s[l],z=I.startTime;if(z>E)break;var F=I.transferSize,Y=I.initiatorType;F&&Xy(Y)&&(I=I.responseEnd,g+=F*(I<E?1:(E-z)/(I-z)))}if(--l,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ud=null,cd=null;function ac(e){return e.nodeType===9?e:e.ownerDocument}function Zy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function $y(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function hd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var fd=null;function L1(){var e=window.event;return e&&e.type==="popstate"?e===fd?!1:(fd=e,!0):(fd=null,!1)}var Jy=typeof setTimeout=="function"?setTimeout:void 0,P1=typeof clearTimeout=="function"?clearTimeout:void 0,Wy=typeof Promise=="function"?Promise:void 0,z1=typeof queueMicrotask=="function"?queueMicrotask:typeof Wy<"u"?function(e){return Wy.resolve(null).then(e).catch(j1)}:Jy;function j1(e){setTimeout(function(){throw e})}function Os(e){return e==="head"}function t_(e,n){var s=n,l=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(h),Pa(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")lo(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,lo(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ri]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&lo(e.ownerDocument.body);s=h}while(s);Pa(n)}function e_(e,n){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function dd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":dd(s),ta(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function B1(e,n,s,l){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ri])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Vn(e.nextSibling),e===null)break}return null}function q1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Vn(e.nextSibling),e===null))return null;return e}function n_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Vn(e.nextSibling),e===null))return null;return e}function md(e){return e.data==="$?"||e.data==="$~"}function gd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function H1(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Vn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var pd=null;function i_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Vn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function s_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function r_(e,n,s){switch(n=ac(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function lo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ta(e)}var kn=new Map,a_=new Set;function lc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Xi=it.d;it.d={f:G1,r:F1,D:Q1,C:K1,L:Y1,m:X1,X:$1,S:Z1,M:J1};function G1(){var e=Xi.f(),n=Ju();return e||n}function F1(e){var n=Sn(e);n!==null&&n.tag===5&&n.type==="form"?Ap(n):Xi.r(e)}var ka=typeof document>"u"?null:document;function l_(e,n,s){var l=ka;if(l&&typeof n=="string"&&n){var h=sn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),a_.has(h)||(a_.add(h),e={rel:e,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Ge(n,"link",e),Ee(n),l.head.appendChild(n)))}}function Q1(e){Xi.D(e),l_("dns-prefetch",e,null)}function K1(e,n){Xi.C(e,n),l_("preconnect",e,n)}function Y1(e,n,s){Xi.L(e,n,s);var l=ka;if(l&&e&&n){var h='link[rel="preload"][as="'+sn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+sn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+sn(s.imageSizes)+'"]')):h+='[href="'+sn(e)+'"]';var f=h;switch(n){case"style":f=Ua(e);break;case"script":f=La(e)}kn.has(f)||(e=A({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),kn.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(oo(f))||n==="script"&&l.querySelector(uo(f))||(n=l.createElement("link"),Ge(n,"link",e),Ee(n),l.head.appendChild(n)))}}function X1(e,n){Xi.m(e,n);var s=ka;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+sn(l)+'"][href="'+sn(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=La(e)}if(!kn.has(f)&&(e=A({rel:"modulepreload",href:e},n),kn.set(f,e),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(uo(f)))return}l=s.createElement("link"),Ge(l,"link",e),Ee(l),s.head.appendChild(l)}}}function Z1(e,n,s){Xi.S(e,n,s);var l=ka;if(l&&e){var h=li(l).hoistableStyles,f=Ua(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(oo(f)))E.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":n},s),(s=kn.get(f))&&yd(e,s);var I=g=l.createElement("link");Ee(I),Ge(I,"link",e),I._p=new Promise(function(z,F){I.onload=z,I.onerror=F}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,oc(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function $1(e,n){Xi.X(e,n);var s=ka;if(s&&e){var l=li(s).hoistableScripts,h=La(e),f=l.get(h);f||(f=s.querySelector(uo(h)),f||(e=A({src:e,async:!0},n),(n=kn.get(h))&&_d(e,n),f=s.createElement("script"),Ee(f),Ge(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function J1(e,n){Xi.M(e,n);var s=ka;if(s&&e){var l=li(s).hoistableScripts,h=La(e),f=l.get(h);f||(f=s.querySelector(uo(h)),f||(e=A({src:e,async:!0,type:"module"},n),(n=kn.get(h))&&_d(e,n),f=s.createElement("script"),Ee(f),Ge(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function o_(e,n,s,l){var h=(h=bt.current)?lc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ua(s.href),s=li(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ua(s.href);var f=li(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(oo(e)))&&!f._p&&(g.instance=f,g.state.loading=5),kn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},kn.set(e,s),f||W1(h,e,s,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=La(s),s=li(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ua(e){return'href="'+sn(e)+'"'}function oo(e){return'link[rel="stylesheet"]['+e+"]"}function u_(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function W1(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ge(n,"link",s),Ee(n),e.head.appendChild(n))}function La(e){return'[src="'+sn(e)+'"]'}function uo(e){return"script[async]"+e}function c_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+sn(s.href)+'"]');if(l)return n.instance=l,Ee(l),l;var h=A({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ee(l),Ge(l,"style",h),oc(l,s.precedence,e),n.instance=l;case"stylesheet":h=Ua(s.href);var f=e.querySelector(oo(h));if(f)return n.state.loading|=4,n.instance=f,Ee(f),f;l=u_(s),(h=kn.get(h))&&yd(l,h),f=(e.ownerDocument||e).createElement("link"),Ee(f);var g=f;return g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),Ge(f,"link",l),n.state.loading|=4,oc(f,s.precedence,e),n.instance=f;case"script":return f=La(s.src),(h=e.querySelector(uo(f)))?(n.instance=h,Ee(h),h):(l=s,(h=kn.get(f))&&(l=A({},s),_d(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ee(h),Ge(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,oc(l,s.precedence,e));return n.instance}function oc(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function yd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function _d(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var uc=null;function h_(e,n,s){if(uc===null){var l=new Map,h=uc=new Map;h.set(s,l)}else h=uc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[ri]||f[ve]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function f_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function tb(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function d_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function eb(e,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ua(l.href),f=n.querySelector(oo(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=cc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Ee(f);return}f=n.ownerDocument||n,l=u_(l),(h=kn.get(h))&&yd(l,h),f=f.createElement("link"),Ee(f);var g=f;g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),Ge(f,"link",l),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=cc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var vd=0;function nb(e,n){return e.stylesheets&&e.count===0&&fc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&fc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&vd===0&&(vd=62500*U1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&fc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>vd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function cc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var hc=null;function fc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,hc=new Map,n.forEach(ib,e),hc=null,cc.call(e))}function ib(e,n){if(!(n.state.loading&4)){var s=hc.get(e);if(s)var l=s.get(null);else{s=new Map,hc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||l,f===l&&s.set(null,h),s.set(g,h),this.count++,l=cc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var co={$$typeof:mt,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function sb(e,n,s,l,h,f,g,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function m_(e,n,s,l,h,f,g,E,I,z,F,Y){return e=new sb(e,n,s,g,I,z,F,Y,E),n=1,f===!0&&(n|=24),f=pn(3,null,null,n),e.current=f,f.stateNode=e,n=$h(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},ef(f),e}function g_(e){return e?(e=ma,e):ma}function p_(e,n,s,l,h,f){h=g_(h),l.context===null?l.context=h:l.pendingContext=h,l=Ts(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=bs(e,l,n),s!==null&&(cn(s,e,n),ql(s,e,n))}function y_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Ed(e,n){y_(e,n),(e=e.alternate)&&y_(e,n)}function __(e){if(e.tag===13||e.tag===31){var n=Sr(e,67108864);n!==null&&cn(n,e,67108864),Ed(e,67108864)}}function v_(e){if(e.tag===13||e.tag===31){var n=Tn();n=fr(n);var s=Sr(e,n);s!==null&&cn(s,e,n),Ed(e,n)}}var dc=!0;function rb(e,n,s,l){var h=G.T;G.T=null;var f=it.p;try{it.p=2,Td(e,n,s,l)}finally{it.p=f,G.T=h}}function ab(e,n,s,l){var h=G.T;G.T=null;var f=it.p;try{it.p=8,Td(e,n,s,l)}finally{it.p=f,G.T=h}}function Td(e,n,s,l){if(dc){var h=bd(l);if(h===null)ld(e,n,l,mc,s),T_(e,l);else if(ob(h,e,n,s,l))l.stopPropagation();else if(T_(e,l),n&4&&-1<lb.indexOf(e)){for(;h!==null;){var f=Sn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ei(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var I=1<<31-fe(g);E.entanglements[1]|=I,g&=~I}Ei(f),(qt&6)===0&&(Zu=We()+500,so(0))}}break;case 31:case 13:E=Sr(f,2),E!==null&&cn(E,f,2),Ju(),Ed(f,2)}if(f=bd(l),f===null&&ld(e,n,l,mc,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else ld(e,n,l,null,s)}}function bd(e){return e=wn(e),Ad(e)}var mc=null;function Ad(e){if(mc=null,e=ai(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return mc=e,null}function E_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(or()){case dl:return 2;case ml:return 8;case as:case Ih:return 32;case Qo:return 268435456;default:return 32}default:return 32}}var Sd=!1,Ms=null,Vs=null,ks=null,ho=new Map,fo=new Map,Us=[],lb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function T_(e,n){switch(e){case"focusin":case"focusout":Ms=null;break;case"dragenter":case"dragleave":Vs=null;break;case"mouseover":case"mouseout":ks=null;break;case"pointerover":case"pointerout":ho.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":fo.delete(n.pointerId)}}function mo(e,n,s,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Sn(n),n!==null&&__(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function ob(e,n,s,l,h){switch(n){case"focusin":return Ms=mo(Ms,e,n,s,l,h),!0;case"dragenter":return Vs=mo(Vs,e,n,s,l,h),!0;case"mouseover":return ks=mo(ks,e,n,s,l,h),!0;case"pointerover":var f=h.pointerId;return ho.set(f,mo(ho.get(f)||null,e,n,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,fo.set(f,mo(fo.get(f)||null,e,n,s,l,h)),!0}return!1}function b_(e){var n=ai(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,jn(e.priority,function(){v_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,jn(e.priority,function(){v_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=bd(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Rl=l,s.target.dispatchEvent(l),Rl=null}else return n=Sn(s),n!==null&&__(n),e.blockedOn=s,!1;n.shift()}return!0}function A_(e,n,s){gc(e)&&s.delete(n)}function ub(){Sd=!1,Ms!==null&&gc(Ms)&&(Ms=null),Vs!==null&&gc(Vs)&&(Vs=null),ks!==null&&gc(ks)&&(ks=null),ho.forEach(A_),fo.forEach(A_)}function pc(e,n){e.blockedOn===n&&(e.blockedOn=null,Sd||(Sd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ub)))}var yc=null;function S_(e){yc!==e&&(yc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){yc===e&&(yc=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(Ad(l||s)===null)continue;break}var f=Sn(s);f!==null&&(e.splice(n,3),n-=3,bf(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Pa(e){function n(I){return pc(I,e)}Ms!==null&&pc(Ms,e),Vs!==null&&pc(Vs,e),ks!==null&&pc(ks,e),ho.forEach(n),fo.forEach(n);for(var s=0;s<Us.length;s++){var l=Us[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Us.length&&(s=Us[0],s.blockedOn===null);)b_(s),s.blockedOn===null&&Us.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],g=h[Ve]||null;if(typeof f=="function")g||S_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Ve]||null)E=g.formAction;else if(Ad(h)!==null)continue}else E=g.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),S_(s)}}}function w_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function wd(e){this._internalRoot=e}_c.prototype.render=wd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=Tn();p_(s,l,e,n,null,null)},_c.prototype.unmount=wd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;p_(e.current,2,null,e,null,null),Ju(),n[si]=null}};function _c(e){this._internalRoot=e}_c.prototype.unstable_scheduleHydration=function(e){if(e){var n=Jo();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Us.length&&n!==0&&n<Us[s].priority;s++);Us.splice(s,0,e),s===0&&b_(e)}};var R_=t.version;if(R_!=="19.2.3")throw Error(a(527,R_,"19.2.3"));it.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var cb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{Pn=vc.inject(cb),ze=vc}catch{}}return po.createRoot=function(e,n){if(!o(e))throw Error(a(299));var s=!1,l="",h=Mp,f=Vp,g=kp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=m_(e,1,!1,null,null,s,l,null,h,f,g,w_),e[si]=n.current,ad(e),new wd(n)},po.hydrateRoot=function(e,n,s){if(!o(e))throw Error(a(299));var l=!1,h="",f=Mp,g=Vp,E=kp,I=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),n=m_(e,1,!0,n,s??null,l,h,I,f,g,E,w_),n.context=g_(null),s=n.current,l=Tn(),l=fr(l),h=Ts(l),h.callback=null,bs(s,h,l),s=l,n.current.lanes=s,cr(n,s),Ei(n),e[si]=n.current,ad(e),new _c(n)},po.version="19.2.3",po}var U_;function Tb(){if(U_)return Id.exports;U_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Id.exports=Eb(),Id.exports}var bb=Tb();const Ab=f0(bb),Sb=()=>{};var L_={};const d0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},wb=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];t[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],p=r[i++],v=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(v>>10)),t[a++]=String.fromCharCode(56320+(v&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return t.join("")},m0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,p=d?r[o+1]:0,v=o+2<r.length,y=v?r[o+2]:0,b=c>>2,A=(c&3)<<4|p>>4;let M=(p&15)<<2|y>>6,Q=y&63;v||(Q=64,d||(M=64)),a.push(i[b],i[A],i[M],i[Q])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(d0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):wb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],p=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const A=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||p==null||y==null||A==null)throw new Rb;const M=c<<2|p>>4;if(a.push(M),y!==64){const Q=p<<4&240|y>>2;if(a.push(Q),A!==64){const W=y<<6&192|A;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Rb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Cb=function(r){const t=d0(r);return m0.encodeByteArray(t,!0)},Uc=function(r){return Cb(r).replace(/\./g,"")},g0=function(r){try{return m0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Ib(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Nb=()=>Ib().__FIREBASE_DEFAULTS__,xb=()=>{if(typeof process>"u"||typeof L_>"u")return;const r=L_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Db=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&g0(r[1]);return t&&JSON.parse(t)},ih=()=>{try{return Sb()||Nb()||xb()||Db()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},p0=r=>ih()?.emulatorHosts?.[r],Ob=r=>{const t=p0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},y0=()=>ih()?.config,_0=r=>ih()?.[`_${r}`];class Mb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function il(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function v0(r){return(await fetch(r,{credentials:"include"})).ok}function Vb(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Uc(JSON.stringify(i)),Uc(JSON.stringify(d)),""].join(".")}const To={};function kb(){const r={prod:[],emulator:[]};for(const t of Object.keys(To))To[t]?r.emulator.push(t):r.prod.push(t);return r}function Ub(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let P_=!1;function E0(r,t){if(typeof window>"u"||typeof document>"u"||!il(window.location.host)||To[r]===t||To[r]||P_)return;To[r]=t;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=kb().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function v(M,Q){M.setAttribute("width","24"),M.setAttribute("id",Q),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function y(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{P_=!0,d()},M}function b(M,Q){M.setAttribute("id",Q),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function A(){const M=Ub(a),Q=i("text"),W=document.getElementById(Q)||document.createElement("span"),Z=i("learnmore"),tt=document.getElementById(Z)||document.createElement("a"),ft=i("preprendIcon"),vt=document.getElementById(ft)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const mt=M.element;p(mt),b(tt,Z);const It=y();v(vt,ft),mt.append(vt,W,tt,It),document.body.appendChild(mt)}c?(W.innerText="Preview backend disconnected.",vt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(vt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}function Je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Lb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function Pb(){const r=ih()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Bb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qb(){const r=Je();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Hb(){return!Pb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Gb(){try{return typeof indexedDB=="object"}catch{return!1}}function Fb(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const Qb="FirebaseError";class ss extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=Qb,Object.setPrototypeOf(this,ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vo.prototype.create)}}class Vo{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?Kb(c,a):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new ss(o,p,a)}}function Kb(r,t){return r.replace(Yb,(i,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const Yb=/\{\$([^}]+)}/g;function Xb(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Zs(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const o of i){if(!a.includes(o))return!1;const c=r[o],d=t[o];if(z_(c)&&z_(d)){if(!Zs(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function z_(r){return r!==null&&typeof r=="object"}function ko(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function Zb(r,t){const i=new $b(r,t);return i.subscribe.bind(i)}class $b{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let o;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");Jb(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:a},o.next===void 0&&(o.next=Od),o.error===void 0&&(o.error=Od),o.complete===void 0&&(o.complete=Od);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Jb(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Od(){}function nn(r){return r&&r._delegate?r._delegate:r}class qr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Lr="[DEFAULT]";class Wb{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new Mb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(eA(t))try{this.getOrInitializeService({instanceIdentifier:Lr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(t=Lr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Lr){return this.instances.has(t)}getOptions(t=Lr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(o)}return o}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(t),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&t(c,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:tA(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Lr){return this.component?this.component.multipleInstances?t:Lr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tA(r){return r===Lr?void 0:r}function eA(r){return r.instantiationMode==="EAGER"}class nA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new Wb(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Ot;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ot||(Ot={}));const iA={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},sA=Ot.INFO,rA={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},aA=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),o=rA[t];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Em{constructor(t){this.name=t,this._logLevel=sA,this._logHandler=aA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?iA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const lA=(r,t)=>t.some(i=>r instanceof i);let j_,B_;function oA(){return j_||(j_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uA(){return B_||(B_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const T0=new WeakMap,Qd=new WeakMap,b0=new WeakMap,Md=new WeakMap,Tm=new WeakMap;function cA(r){const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Gs(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&T0.set(i,r)}).catch(()=>{}),Tm.set(t,r),t}function hA(r){if(Qd.has(r))return;const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Qd.set(r,t)}let Kd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Qd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||b0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Gs(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function fA(r){Kd=r(Kd)}function dA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Vd(this),t,...i);return b0.set(a,t.sort?t.sort():[t]),Gs(a)}:uA().includes(r)?function(...t){return r.apply(Vd(this),t),Gs(T0.get(this))}:function(...t){return Gs(r.apply(Vd(this),t))}}function mA(r){return typeof r=="function"?dA(r):(r instanceof IDBTransaction&&hA(r),lA(r,oA())?new Proxy(r,Kd):r)}function Gs(r){if(r instanceof IDBRequest)return cA(r);if(Md.has(r))return Md.get(r);const t=mA(r);return t!==r&&(Md.set(r,t),Tm.set(t,r)),t}const Vd=r=>Tm.get(r);function gA(r,t,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(r,t),p=Gs(d);return a&&d.addEventListener("upgradeneeded",v=>{a(Gs(d.result),v.oldVersion,v.newVersion,Gs(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),p.then(v=>{c&&v.addEventListener("close",()=>c()),o&&v.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const pA=["get","getKey","getAll","getAllKeys","count"],yA=["put","add","delete","clear"],kd=new Map;function q_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(kd.get(t))return kd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,o=yA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||pA.includes(i)))return;const c=async function(d,...p){const v=this.transaction(d,o?"readwrite":"readonly");let y=v.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),o&&v.done]))[0]};return kd.set(t,c),c}fA(r=>({...r,get:(t,i,a)=>q_(t,i)||r.get(t,i,a),has:(t,i)=>!!q_(t,i)||r.has(t,i)}));class _A{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(vA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function vA(r){return r.getComponent()?.type==="VERSION"}const Yd="@firebase/app",H_="0.14.6";const Wi=new Em("@firebase/app"),EA="@firebase/app-compat",TA="@firebase/analytics-compat",bA="@firebase/analytics",AA="@firebase/app-check-compat",SA="@firebase/app-check",wA="@firebase/auth",RA="@firebase/auth-compat",CA="@firebase/database",IA="@firebase/data-connect",NA="@firebase/database-compat",xA="@firebase/functions",DA="@firebase/functions-compat",OA="@firebase/installations",MA="@firebase/installations-compat",VA="@firebase/messaging",kA="@firebase/messaging-compat",UA="@firebase/performance",LA="@firebase/performance-compat",PA="@firebase/remote-config",zA="@firebase/remote-config-compat",jA="@firebase/storage",BA="@firebase/storage-compat",qA="@firebase/firestore",HA="@firebase/ai",GA="@firebase/firestore-compat",FA="firebase",QA="12.6.0";const Xd="[DEFAULT]",KA={[Yd]:"fire-core",[EA]:"fire-core-compat",[bA]:"fire-analytics",[TA]:"fire-analytics-compat",[SA]:"fire-app-check",[AA]:"fire-app-check-compat",[wA]:"fire-auth",[RA]:"fire-auth-compat",[CA]:"fire-rtdb",[IA]:"fire-data-connect",[NA]:"fire-rtdb-compat",[xA]:"fire-fn",[DA]:"fire-fn-compat",[OA]:"fire-iid",[MA]:"fire-iid-compat",[VA]:"fire-fcm",[kA]:"fire-fcm-compat",[UA]:"fire-perf",[LA]:"fire-perf-compat",[PA]:"fire-rc",[zA]:"fire-rc-compat",[jA]:"fire-gcs",[BA]:"fire-gcs-compat",[qA]:"fire-fst",[GA]:"fire-fst-compat",[HA]:"fire-vertex","fire-js":"fire-js",[FA]:"fire-js-all"};const Lc=new Map,YA=new Map,Zd=new Map;function G_(r,t){try{r.container.addComponent(t)}catch(i){Wi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Xa(r){const t=r.name;if(Zd.has(t))return Wi.debug(`There were multiple attempts to register component ${t}.`),!1;Zd.set(t,r);for(const i of Lc.values())G_(i,r);for(const i of YA.values())G_(i,r);return!0}function bm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function $n(r){return r==null?!1:r.settings!==void 0}const XA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fs=new Vo("app","Firebase",XA);class ZA{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new qr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Fs.create("app-deleted",{appName:this._name})}}const sl=QA;function A0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Xd,automaticDataCollectionEnabled:!0,...t},o=a.name;if(typeof o!="string"||!o)throw Fs.create("bad-app-name",{appName:String(o)});if(i||(i=y0()),!i)throw Fs.create("no-options");const c=Lc.get(o);if(c){if(Zs(i,c.options)&&Zs(a,c.config))return c;throw Fs.create("duplicate-app",{appName:o})}const d=new nA(o);for(const v of Zd.values())d.addComponent(v);const p=new ZA(i,a,d);return Lc.set(o,p),p}function S0(r=Xd){const t=Lc.get(r);if(!t&&r===Xd&&y0())return A0();if(!t)throw Fs.create("no-app",{appName:r});return t}function Qs(r,t,i){let a=KA[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${t}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Wi.warn(d.join(" "));return}Xa(new qr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const $A="firebase-heartbeat-database",JA=1,Co="firebase-heartbeat-store";let Ud=null;function w0(){return Ud||(Ud=gA($A,JA,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Co)}catch(i){console.warn(i)}}}}).catch(r=>{throw Fs.create("idb-open",{originalErrorMessage:r.message})})),Ud}async function WA(r){try{const i=(await w0()).transaction(Co),a=await i.objectStore(Co).get(R0(r));return await i.done,a}catch(t){if(t instanceof ss)Wi.warn(t.message);else{const i=Fs.create("idb-get",{originalErrorMessage:t?.message});Wi.warn(i.message)}}}async function F_(r,t){try{const a=(await w0()).transaction(Co,"readwrite");await a.objectStore(Co).put(t,R0(r)),await a.done}catch(i){if(i instanceof ss)Wi.warn(i.message);else{const a=Fs.create("idb-set",{originalErrorMessage:i?.message});Wi.warn(a.message)}}}function R0(r){return`${r.name}!${r.options.appId}`}const tS=1024,eS=30;class nS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new sS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Q_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>eS){const o=rS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Wi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Q_(),{heartbeatsToSend:i,unsentEntries:a}=iS(this._heartbeatsCache.heartbeats),o=Uc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Wi.warn(t),""}}}function Q_(){return new Date().toISOString().substring(0,10)}function iS(r,t=tS){const i=[];let a=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),K_(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),K_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class sS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Gb()?Fb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await WA(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return F_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return F_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function K_(r){return Uc(JSON.stringify({version:2,heartbeats:r})).length}function rS(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function aS(r){Xa(new qr("platform-logger",t=>new _A(t),"PRIVATE")),Xa(new qr("heartbeat",t=>new nS(t),"PRIVATE")),Qs(Yd,H_,r),Qs(Yd,H_,"esm2020"),Qs("fire-js","")}aS("");var lS="firebase",oS="12.7.0";Qs(lS,oS,"app");var Y_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ks,C0;(function(){var r;function t(x,S){function N(){}N.prototype=S.prototype,x.F=S.prototype,x.prototype=new N,x.prototype.constructor=x,x.D=function(V,D,k){for(var R=Array(arguments.length-2),te=2;te<arguments.length;te++)R[te-2]=arguments[te];return S.prototype[D].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,S,N){N||(N=0);const V=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)V[D]=S.charCodeAt(N++)|S.charCodeAt(N++)<<8|S.charCodeAt(N++)<<16|S.charCodeAt(N++)<<24;else for(D=0;D<16;++D)V[D]=S[N++]|S[N++]<<8|S[N++]<<16|S[N++]<<24;S=x.g[0],N=x.g[1],D=x.g[2];let k=x.g[3],R;R=S+(k^N&(D^k))+V[0]+3614090360&4294967295,S=N+(R<<7&4294967295|R>>>25),R=k+(D^S&(N^D))+V[1]+3905402710&4294967295,k=S+(R<<12&4294967295|R>>>20),R=D+(N^k&(S^N))+V[2]+606105819&4294967295,D=k+(R<<17&4294967295|R>>>15),R=N+(S^D&(k^S))+V[3]+3250441966&4294967295,N=D+(R<<22&4294967295|R>>>10),R=S+(k^N&(D^k))+V[4]+4118548399&4294967295,S=N+(R<<7&4294967295|R>>>25),R=k+(D^S&(N^D))+V[5]+1200080426&4294967295,k=S+(R<<12&4294967295|R>>>20),R=D+(N^k&(S^N))+V[6]+2821735955&4294967295,D=k+(R<<17&4294967295|R>>>15),R=N+(S^D&(k^S))+V[7]+4249261313&4294967295,N=D+(R<<22&4294967295|R>>>10),R=S+(k^N&(D^k))+V[8]+1770035416&4294967295,S=N+(R<<7&4294967295|R>>>25),R=k+(D^S&(N^D))+V[9]+2336552879&4294967295,k=S+(R<<12&4294967295|R>>>20),R=D+(N^k&(S^N))+V[10]+4294925233&4294967295,D=k+(R<<17&4294967295|R>>>15),R=N+(S^D&(k^S))+V[11]+2304563134&4294967295,N=D+(R<<22&4294967295|R>>>10),R=S+(k^N&(D^k))+V[12]+1804603682&4294967295,S=N+(R<<7&4294967295|R>>>25),R=k+(D^S&(N^D))+V[13]+4254626195&4294967295,k=S+(R<<12&4294967295|R>>>20),R=D+(N^k&(S^N))+V[14]+2792965006&4294967295,D=k+(R<<17&4294967295|R>>>15),R=N+(S^D&(k^S))+V[15]+1236535329&4294967295,N=D+(R<<22&4294967295|R>>>10),R=S+(D^k&(N^D))+V[1]+4129170786&4294967295,S=N+(R<<5&4294967295|R>>>27),R=k+(N^D&(S^N))+V[6]+3225465664&4294967295,k=S+(R<<9&4294967295|R>>>23),R=D+(S^N&(k^S))+V[11]+643717713&4294967295,D=k+(R<<14&4294967295|R>>>18),R=N+(k^S&(D^k))+V[0]+3921069994&4294967295,N=D+(R<<20&4294967295|R>>>12),R=S+(D^k&(N^D))+V[5]+3593408605&4294967295,S=N+(R<<5&4294967295|R>>>27),R=k+(N^D&(S^N))+V[10]+38016083&4294967295,k=S+(R<<9&4294967295|R>>>23),R=D+(S^N&(k^S))+V[15]+3634488961&4294967295,D=k+(R<<14&4294967295|R>>>18),R=N+(k^S&(D^k))+V[4]+3889429448&4294967295,N=D+(R<<20&4294967295|R>>>12),R=S+(D^k&(N^D))+V[9]+568446438&4294967295,S=N+(R<<5&4294967295|R>>>27),R=k+(N^D&(S^N))+V[14]+3275163606&4294967295,k=S+(R<<9&4294967295|R>>>23),R=D+(S^N&(k^S))+V[3]+4107603335&4294967295,D=k+(R<<14&4294967295|R>>>18),R=N+(k^S&(D^k))+V[8]+1163531501&4294967295,N=D+(R<<20&4294967295|R>>>12),R=S+(D^k&(N^D))+V[13]+2850285829&4294967295,S=N+(R<<5&4294967295|R>>>27),R=k+(N^D&(S^N))+V[2]+4243563512&4294967295,k=S+(R<<9&4294967295|R>>>23),R=D+(S^N&(k^S))+V[7]+1735328473&4294967295,D=k+(R<<14&4294967295|R>>>18),R=N+(k^S&(D^k))+V[12]+2368359562&4294967295,N=D+(R<<20&4294967295|R>>>12),R=S+(N^D^k)+V[5]+4294588738&4294967295,S=N+(R<<4&4294967295|R>>>28),R=k+(S^N^D)+V[8]+2272392833&4294967295,k=S+(R<<11&4294967295|R>>>21),R=D+(k^S^N)+V[11]+1839030562&4294967295,D=k+(R<<16&4294967295|R>>>16),R=N+(D^k^S)+V[14]+4259657740&4294967295,N=D+(R<<23&4294967295|R>>>9),R=S+(N^D^k)+V[1]+2763975236&4294967295,S=N+(R<<4&4294967295|R>>>28),R=k+(S^N^D)+V[4]+1272893353&4294967295,k=S+(R<<11&4294967295|R>>>21),R=D+(k^S^N)+V[7]+4139469664&4294967295,D=k+(R<<16&4294967295|R>>>16),R=N+(D^k^S)+V[10]+3200236656&4294967295,N=D+(R<<23&4294967295|R>>>9),R=S+(N^D^k)+V[13]+681279174&4294967295,S=N+(R<<4&4294967295|R>>>28),R=k+(S^N^D)+V[0]+3936430074&4294967295,k=S+(R<<11&4294967295|R>>>21),R=D+(k^S^N)+V[3]+3572445317&4294967295,D=k+(R<<16&4294967295|R>>>16),R=N+(D^k^S)+V[6]+76029189&4294967295,N=D+(R<<23&4294967295|R>>>9),R=S+(N^D^k)+V[9]+3654602809&4294967295,S=N+(R<<4&4294967295|R>>>28),R=k+(S^N^D)+V[12]+3873151461&4294967295,k=S+(R<<11&4294967295|R>>>21),R=D+(k^S^N)+V[15]+530742520&4294967295,D=k+(R<<16&4294967295|R>>>16),R=N+(D^k^S)+V[2]+3299628645&4294967295,N=D+(R<<23&4294967295|R>>>9),R=S+(D^(N|~k))+V[0]+4096336452&4294967295,S=N+(R<<6&4294967295|R>>>26),R=k+(N^(S|~D))+V[7]+1126891415&4294967295,k=S+(R<<10&4294967295|R>>>22),R=D+(S^(k|~N))+V[14]+2878612391&4294967295,D=k+(R<<15&4294967295|R>>>17),R=N+(k^(D|~S))+V[5]+4237533241&4294967295,N=D+(R<<21&4294967295|R>>>11),R=S+(D^(N|~k))+V[12]+1700485571&4294967295,S=N+(R<<6&4294967295|R>>>26),R=k+(N^(S|~D))+V[3]+2399980690&4294967295,k=S+(R<<10&4294967295|R>>>22),R=D+(S^(k|~N))+V[10]+4293915773&4294967295,D=k+(R<<15&4294967295|R>>>17),R=N+(k^(D|~S))+V[1]+2240044497&4294967295,N=D+(R<<21&4294967295|R>>>11),R=S+(D^(N|~k))+V[8]+1873313359&4294967295,S=N+(R<<6&4294967295|R>>>26),R=k+(N^(S|~D))+V[15]+4264355552&4294967295,k=S+(R<<10&4294967295|R>>>22),R=D+(S^(k|~N))+V[6]+2734768916&4294967295,D=k+(R<<15&4294967295|R>>>17),R=N+(k^(D|~S))+V[13]+1309151649&4294967295,N=D+(R<<21&4294967295|R>>>11),R=S+(D^(N|~k))+V[4]+4149444226&4294967295,S=N+(R<<6&4294967295|R>>>26),R=k+(N^(S|~D))+V[11]+3174756917&4294967295,k=S+(R<<10&4294967295|R>>>22),R=D+(S^(k|~N))+V[2]+718787259&4294967295,D=k+(R<<15&4294967295|R>>>17),R=N+(k^(D|~S))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+S&4294967295,x.g[1]=x.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,x.g[2]=x.g[2]+D&4294967295,x.g[3]=x.g[3]+k&4294967295}a.prototype.v=function(x,S){S===void 0&&(S=x.length);const N=S-this.blockSize,V=this.C;let D=this.h,k=0;for(;k<S;){if(D==0)for(;k<=N;)o(this,x,k),k+=this.blockSize;if(typeof x=="string"){for(;k<S;)if(V[D++]=x.charCodeAt(k++),D==this.blockSize){o(this,V),D=0;break}}else for(;k<S;)if(V[D++]=x[k++],D==this.blockSize){o(this,V),D=0;break}}this.h=D,this.o+=S},a.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var S=1;S<x.length-8;++S)x[S]=0;S=this.o*8;for(var N=x.length-8;N<x.length;++N)x[N]=S&255,S/=256;for(this.v(x),x=Array(16),S=0,N=0;N<4;++N)for(let V=0;V<32;V+=8)x[S++]=this.g[N]>>>V&255;return x};function c(x,S){var N=p;return Object.prototype.hasOwnProperty.call(N,x)?N[x]:N[x]=S(x)}function d(x,S){this.h=S;const N=[];let V=!0;for(let D=x.length-1;D>=0;D--){const k=x[D]|0;V&&k==S||(N[D]=k,V=!1)}this.g=N}var p={};function v(x){return-128<=x&&x<128?c(x,function(S){return new d([S|0],S<0?-1:0)}):new d([x|0],x<0?-1:0)}function y(x){if(isNaN(x)||!isFinite(x))return A;if(x<0)return tt(y(-x));const S=[];let N=1;for(let V=0;x>=N;V++)S[V]=x/N|0,N*=4294967296;return new d(S,0)}function b(x,S){if(x.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(x.charAt(0)=="-")return tt(b(x.substring(1),S));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=y(Math.pow(S,8));let V=A;for(let k=0;k<x.length;k+=8){var D=Math.min(8,x.length-k);const R=parseInt(x.substring(k,k+D),S);D<8?(D=y(Math.pow(S,D)),V=V.j(D).add(y(R))):(V=V.j(N),V=V.add(y(R)))}return V}var A=v(0),M=v(1),Q=v(16777216);r=d.prototype,r.m=function(){if(Z(this))return-tt(this).m();let x=0,S=1;for(let N=0;N<this.g.length;N++){const V=this.i(N);x+=(V>=0?V:4294967296+V)*S,S*=4294967296}return x},r.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(W(this))return"0";if(Z(this))return"-"+tt(this).toString(x);const S=y(Math.pow(x,6));var N=this;let V="";for(;;){const D=It(N,S).g;N=ft(N,D.j(S));let k=((N.g.length>0?N.g[0]:N.h)>>>0).toString(x);if(N=D,W(N))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},r.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function W(x){if(x.h!=0)return!1;for(let S=0;S<x.g.length;S++)if(x.g[S]!=0)return!1;return!0}function Z(x){return x.h==-1}r.l=function(x){return x=ft(this,x),Z(x)?-1:W(x)?0:1};function tt(x){const S=x.g.length,N=[];for(let V=0;V<S;V++)N[V]=~x.g[V];return new d(N,~x.h).add(M)}r.abs=function(){return Z(this)?tt(this):this},r.add=function(x){const S=Math.max(this.g.length,x.g.length),N=[];let V=0;for(let D=0;D<=S;D++){let k=V+(this.i(D)&65535)+(x.i(D)&65535),R=(k>>>16)+(this.i(D)>>>16)+(x.i(D)>>>16);V=R>>>16,k&=65535,R&=65535,N[D]=R<<16|k}return new d(N,N[N.length-1]&-2147483648?-1:0)};function ft(x,S){return x.add(tt(S))}r.j=function(x){if(W(this)||W(x))return A;if(Z(this))return Z(x)?tt(this).j(tt(x)):tt(tt(this).j(x));if(Z(x))return tt(this.j(tt(x)));if(this.l(Q)<0&&x.l(Q)<0)return y(this.m()*x.m());const S=this.g.length+x.g.length,N=[];for(var V=0;V<2*S;V++)N[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<x.g.length;D++){const k=this.i(V)>>>16,R=this.i(V)&65535,te=x.i(D)>>>16,he=x.i(D)&65535;N[2*V+2*D]+=R*he,vt(N,2*V+2*D),N[2*V+2*D+1]+=k*he,vt(N,2*V+2*D+1),N[2*V+2*D+1]+=R*te,vt(N,2*V+2*D+1),N[2*V+2*D+2]+=k*te,vt(N,2*V+2*D+2)}for(x=0;x<S;x++)N[x]=N[2*x+1]<<16|N[2*x];for(x=S;x<2*S;x++)N[x]=0;return new d(N,0)};function vt(x,S){for(;(x[S]&65535)!=x[S];)x[S+1]+=x[S]>>>16,x[S]&=65535,S++}function mt(x,S){this.g=x,this.h=S}function It(x,S){if(W(S))throw Error("division by zero");if(W(x))return new mt(A,A);if(Z(x))return S=It(tt(x),S),new mt(tt(S.g),tt(S.h));if(Z(S))return S=It(x,tt(S)),new mt(tt(S.g),S.h);if(x.g.length>30){if(Z(x)||Z(S))throw Error("slowDivide_ only works with positive integers.");for(var N=M,V=S;V.l(x)<=0;)N=Jt(N),V=Jt(V);var D=kt(N,1),k=kt(V,1);for(V=kt(V,2),N=kt(N,2);!W(V);){var R=k.add(V);R.l(x)<=0&&(D=D.add(N),k=R),V=kt(V,1),N=kt(N,1)}return S=ft(x,D.j(S)),new mt(D,S)}for(D=A;x.l(S)>=0;){for(N=Math.max(1,Math.floor(x.m()/S.m())),V=Math.ceil(Math.log(N)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=y(N),R=k.j(S);Z(R)||R.l(x)>0;)N-=V,k=y(N),R=k.j(S);W(k)&&(k=M),D=D.add(k),x=ft(x,R)}return new mt(D,x)}r.B=function(x){return It(this,x).h},r.and=function(x){const S=Math.max(this.g.length,x.g.length),N=[];for(let V=0;V<S;V++)N[V]=this.i(V)&x.i(V);return new d(N,this.h&x.h)},r.or=function(x){const S=Math.max(this.g.length,x.g.length),N=[];for(let V=0;V<S;V++)N[V]=this.i(V)|x.i(V);return new d(N,this.h|x.h)},r.xor=function(x){const S=Math.max(this.g.length,x.g.length),N=[];for(let V=0;V<S;V++)N[V]=this.i(V)^x.i(V);return new d(N,this.h^x.h)};function Jt(x){const S=x.g.length+1,N=[];for(let V=0;V<S;V++)N[V]=x.i(V)<<1|x.i(V-1)>>>31;return new d(N,x.h)}function kt(x,S){const N=S>>5;S%=32;const V=x.g.length-N,D=[];for(let k=0;k<V;k++)D[k]=S>0?x.i(k+N)>>>S|x.i(k+N+1)<<32-S:x.i(k+N);return new d(D,x.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,C0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=b,Ks=d}).apply(typeof Y_<"u"?Y_:typeof self<"u"?self:typeof window<"u"?window:{});var Ec=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var I0,yo,N0,Rc,$d,x0,D0,O0;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ec=="object"&&Ec];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var _=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in _))break t;_=_[L]}u=u[u.length-1],T=_[u],m=m(T),m!=T&&m!=null&&t(_,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var _=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&_.push([T,m[T]]);return _}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function v(u,m,_){return u.call.apply(u.bind,arguments)}function y(u,m,_){return y=v,y.apply(null,arguments)}function b(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var T=_.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function A(u,m){function _(){}_.prototype=m.prototype,u.Z=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var et=Array(arguments.length-2),At=2;At<arguments.length;At++)et[At-2]=arguments[At];return m.prototype[L].apply(T,et)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const _=Array(m);for(let T=0;T<m;T++)_[T]=u[T];return _}return[]}function W(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var _=typeof L;if(_=_!="object"?_:L?Array.isArray(L)?"array":_:"null",_=="array"||_=="object"&&typeof L.length=="number"){_=u.length||0;const B=L.length||0;u.length=_+B;for(let et=0;et<B;et++)u[_+et]=L[et]}else u.push(L)}}class Z{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function tt(u){d.setTimeout(()=>{throw u},0)}function ft(){var u=x;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class vt{constructor(){this.h=this.g=null}add(m,_){const T=mt.get();T.set(m,_),this.h?this.h.next=T:this.g=T,this.h=T}}var mt=new Z(()=>new It,u=>u.reset());class It{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Jt,kt=!1,x=new vt,S=()=>{const u=Promise.resolve(void 0);Jt=()=>{u.then(N)}};function N(){for(var u;u=ft();){try{u.h.call(u.g)}catch(_){tt(_)}var m=mt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}kt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function te(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}A(te,D),te.prototype.init=function(u,m){const _=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(_=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&te.Z.h.call(this)},te.prototype.h=function(){te.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var he="closure_listenable_"+(Math.random()*1e6|0),G=0;function it(u,m,_,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!T,this.ha=L,this.key=++G,this.da=this.fa=!1}function ot(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ut(u,m,_){for(const T in u)m.call(_,u[T],T,u)}function ut(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function C(u){const m={};for(const _ in u)m[_]=u[_];return m}const H="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(u,m){let _,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(_ in T)u[_]=T[_];for(let B=0;B<H.length;B++)_=H[B],Object.prototype.hasOwnProperty.call(T,_)&&(u[_]=T[_])}}function nt(u){this.src=u,this.g={},this.h=0}nt.prototype.add=function(u,m,_,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const et=bt(u,m,T,L);return et>-1?(m=u[et],_||(m.fa=!1)):(m=new it(m,this.src,B,!!T,L),m.fa=_,u.push(m)),m};function pt(u,m){const _=m.type;if(_ in u.g){var T=u.g[_],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ot(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function bt(u,m,_,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!_&&B.ha==T)return L}return-1}var Nt="closure_lm_"+(Math.random()*1e6|0),Ne={};function re(u,m,_,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)re(u,m[B],_,T,L);return null}return _=fl(_),u&&u[he]?u.J(m,_,p(T)?!!T.capture:!1,L):ar(u,m,_,!1,T,L)}function ar(u,m,_,T,L,B){if(!m)throw Error("Invalid event type");const et=p(L)?!!L.capture:!!L;let At=lr(u);if(At||(u[Nt]=At=new nt(u)),_=At.add(m,_,T,et,B),_.proxy)return _;if(T=Xr(),_.proxy=T,T.src=u,T.listener=_,u.addEventListener)k||(L=et),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Wn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return _}function Xr(){function u(_){return m.call(u.src,u.listener,_)}const m=cl;return u}function Zr(u,m,_,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Zr(u,m[B],_,T,L);else T=p(T)?!!T.capture:!!T,_=fl(_),u&&u[he]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],_=bt(m,_,T,L),_>-1&&(ot(m[_]),Array.prototype.splice.call(m,_,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=lr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=bt(m,_,T,L)),(_=u>-1?m[u]:null)&&$r(_))}function $r(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[he])pt(m.i,u);else{var _=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(_,T,u.capture):m.detachEvent?m.detachEvent(Wn(_),T):m.addListener&&m.removeListener&&m.removeListener(T),(_=lr(m))?(pt(_,u),_.h==0&&(_.src=null,m[Nt]=null)):ot(u)}}}function Wn(u){return u in Ne?Ne[u]:Ne[u]="on"+u}function cl(u,m){if(u.da)u=!0;else{m=new te(m,this);const _=u.listener,T=u.ha||u.src;u.fa&&$r(u),u=_.call(T,m)}return u}function lr(u){return u=u[Nt],u instanceof nt?u:null}var hl="__closure_events_fn_"+(Math.random()*1e9>>>0);function fl(u){return typeof u=="function"?u:(u[hl]||(u[hl]=function(m){return u.handleEvent(m)}),u[hl])}function ye(){V.call(this),this.i=new nt(this),this.M=this,this.G=null}A(ye,V),ye.prototype[he]=!0,ye.prototype.removeEventListener=function(u,m,_,T){Zr(this,u,m,_,T)};function xe(u,m){var _,T=u.G;if(T)for(_=[];T;T=T.G)_.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(T,u),J(m,L)}L=!0;let B,et;if(_)for(et=_.length-1;et>=0;et--)B=m.g=_[et],L=rs(B,T,!0,m)&&L;if(B=m.g=u,L=rs(B,T,!0,m)&&L,L=rs(B,T,!1,m)&&L,_)for(et=0;et<_.length;et++)B=m.g=_[et],L=rs(B,T,!1,m)&&L}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const _=u.g[m];for(let T=0;T<_.length;T++)ot(_[T]);delete u.g[m],u.h--}}this.G=null},ye.prototype.J=function(u,m,_,T){return this.i.add(String(u),m,!1,_,T)},ye.prototype.K=function(u,m,_,T){return this.i.add(String(u),m,!0,_,T)};function rs(u,m,_,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const et=m[B];if(et&&!et.da&&et.capture==_){const At=et.listener,de=et.ha||et.src;et.fa&&pt(u.i,et),L=At.call(de,T)!==!1&&L}}return L&&!T.defaultPrevented}function Ch(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Fo(u){u.g=Ch(()=>{u.g=null,u.i&&(u.i=!1,Fo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class We extends V{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Fo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function or(u){V.call(this),this.h=u,this.g={}}A(or,V);var dl=[];function ml(u){Ut(u.g,function(m,_){this.g.hasOwnProperty(_)&&$r(m)},u),u.g={}}or.prototype.N=function(){or.Z.N.call(this),ml(this)},or.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var as=d.JSON.stringify,Ih=d.JSON.parse,Qo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Ko(){}function Yo(){}var Pn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){D.call(this,"d")}A(ze,D);function An(){D.call(this,"c")}A(An,D);var fe={},Xo=null;function Jr(){return Xo=Xo||new ye}fe.Ia="serverreachability";function Zo(u){D.call(this,fe.Ia,u)}A(Zo,D);function ti(u){const m=Jr();xe(m,new Zo(m))}fe.STAT_EVENT="statevent";function ur(u,m){D.call(this,fe.STAT_EVENT,u),this.stat=m}A(ur,D);function _e(u){const m=Jr();xe(m,new ur(m,u))}fe.Ja="timingevent";function ei(u,m){D.call(this,fe.Ja,u),this.size=m}A(ei,D);function ni(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function Nh(u,m,_,T,L,B){u.info(function(){if(u.g)if(B){var et="",At=B.split("&");for(let Bt=0;Bt<At.length;Bt++){var de=At[Bt].split("=");if(de.length>1){const ae=de[0];de=de[1];const Cn=ae.split("_");et=Cn.length>=2&&Cn[1]=="type"?et+(ae+"="+de+"&"):et+(ae+"=redacted&")}}}else et=null;else et=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+_+`
`+et})}function $o(u,m,_,T,L,B,et){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+_+`
`+B+" "+et})}function ii(u,m,_,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+xh(u,_)+(T?" "+T:"")})}function cr(u,m){u.info(function(){return"TIMEOUT: "+m})}zn.prototype.info=function(){};function xh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var _=B[u];if(!(_.length<2)){var T=_[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let et=1;et<T.length;et++)T[et]=""}}}}return as(B)}catch{return m}}var hr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},gl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},pl;function fr(){}A(fr,Ko),fr.prototype.g=function(){return new XMLHttpRequest},pl=new fr;function Di(u){return encodeURIComponent(String(u))}function Jo(u){var m=1;u=u.split(":");const _=[];for(;m>0&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function jn(u,m,_,T){this.j=u,this.i=m,this.l=_,this.S=T||1,this.V=new or(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Bn}function Bn(){this.i=null,this.g="",this.h=!1}var ve={},Ve={};function si(u,m,_){u.M=1,u.A=dr(Te(m)),u.u=_,u.R=!0,Wr(u,null)}function Wr(u,m){u.F=Date.now(),ri(u),u.B=Te(u.A);var _=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ia(_.i,"t",T),u.C=0,_=u.j.L,u.h=new Bn,u.g=du(u.j,_?m:null,!u.u),u.P>0&&(u.O=new We(y(u.Y,u,u.g),u.P)),m=u.V,_=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(dl[0]=L.toString()),L=dl);for(let B=0;B<L.length;B++){const et=re(_,L[B],T||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.J?C(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ti(),Nh(u.i,u.v,u.B,u.l,u.S,u.u)}jn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Gn(u)==3?m.j():this.Y(u)},jn.prototype.Y=function(u){try{if(u==this.g)t:{const At=Gn(this.g),de=this.g.ya(),Bt=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||je(this.g)))){this.K||At!=4||de==7||(de==8||Bt<=0?ti(3):ti(2)),ai(this);var m=this.g.ca();this.X=m;var _=Dh(this);if(this.o=m==200,$o(this.i,this.v,this.B,this.l,this.S,At,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var B=T;break e}}B=null}if(u=B)ii(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,li(this,u);else{this.o=!1,this.m=3,_e(12),dn(this),Sn(this);break t}}if(this.R){u=!0;let ae;for(;!this.K&&this.C<_.length;)if(ae=tu(this,_),ae==Ve){At==4&&(this.m=4,_e(14),u=!1),ii(this.i,this.l,null,"[Incomplete Response]");break}else if(ae==ve){this.m=4,_e(15),ii(this.i,this.l,_,"[Invalid Chunk]"),u=!1;break}else ii(this.i,this.l,ae,null),li(this,ae);if(Wo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||_.length!=0||this.h.h||(this.m=1,_e(16),u=!1),this.o=this.o&&u,!u)ii(this.i,this.l,_,"[Invalid Chunked Response]"),dn(this),Sn(this);else if(_.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+_.length),Dl(et),et.P=!0,_e(11))}}else ii(this.i,this.l,_,null),li(this,_);At==4&&dn(this),this.o&&!this.K&&(At==4?uu(this.j,this):(this.o=!1,ri(this)))}else Mi(this.g),m==400&&_.indexOf("Unknown SID")>0?(this.m=3,_e(12)):(this.m=0,_e(13)),dn(this),Sn(this)}}}catch{}};function Dh(u){if(!Wo(u))return u.g.la();const m=je(u.g);if(m==="")return"";let _="";const T=m.length,L=Gn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return dn(u),Sn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,_+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=_,u.C=0,u.h.g}function Wo(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function tu(u,m){var _=u.C,T=m.indexOf(`
`,_);return T==-1?Ve:(_=Number(m.substring(_,T)),isNaN(_)?ve:(T+=1,T+_>m.length?Ve:(m=m.slice(T,T+_),u.C=T+_,m)))}jn.prototype.cancel=function(){this.K=!0,dn(this)};function ri(u){u.T=Date.now()+u.H,ta(u,u.H)}function ta(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ni(y(u.aa,u),m)}function ai(u){u.D&&(d.clearTimeout(u.D),u.D=null)}jn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(cr(this.i,this.B),this.M!=2&&(ti(),_e(17)),dn(this),this.m=2,Sn(this)):ta(this,this.T-u)};function Sn(u){u.j.I==0||u.K||uu(u.j,u)}function dn(u){ai(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,ml(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function li(u,m){try{var _=u.j;if(_.I!=0&&(_.g==u||ui(_.h,u))){if(!u.L&&ui(_.h,u)&&_.I==3){try{var T=_.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!_.v){if(_.g)if(_.g.F+3e3<u.F)oa(_),ms(_);else break t;Er(_),_e(18)}}else _.xa=L[1],0<_.xa-_.K&&L[2]<37500&&_.F&&_.A==0&&!_.C&&(_.C=ni(y(_.Va,_),6e3));oi(_.h)<=1&&_.ta&&(_.ta=void 0)}else gi(_,11)}else if((u.L||_.g==u)&&oa(_),!R(m))for(L=_.Ba.g.parse(m),m=0;m<L.length;m++){let Bt=L[m];const ae=Bt[0];if(!(ae<=_.K))if(_.K=ae,Bt=Bt[1],_.I==2)if(Bt[0]=="c"){_.M=Bt[1],_.ba=Bt[2];const Cn=Bt[3];Cn!=null&&(_.ka=Cn,_.j.info("VER="+_.ka));const pi=Bt[4];pi!=null&&(_.za=pi,_.j.info("SVER="+_.za));const Fn=Bt[5];Fn!=null&&typeof Fn=="number"&&Fn>0&&(T=1.5*Fn,_.O=T,_.j.info("backChannelRequestTimeoutMs_="+T)),T=_;const Qn=u.g;if(Qn){const Tr=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tr){var B=T.h;B.g||Tr.indexOf("spdy")==-1&&Tr.indexOf("quic")==-1&&Tr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(vl(B,B.h),B.h=null))}if(T.G){const ua=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;ua&&(T.wa=ua,Gt(T.J,T.G,ua))}}_.I=3,_.l&&_.l.ra(),_.aa&&(_.T=Date.now()-u.F,_.j.info("Handshake RTT: "+_.T+"ms")),T=_;var et=u;if(T.na=fu(T,T.L?T.ba:null,T.W),et.L){El(T.h,et);var At=et,de=T.O;de&&(At.H=de),At.D&&(ai(At),ri(At)),T.g=et}else lu(T);_.i.length>0&&mi(_)}else Bt[0]!="stop"&&Bt[0]!="close"||gi(_,7);else _.I==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?gi(_,7):Nl(_):Bt[0]!="noop"&&_.l&&_.l.qa(Bt),_.A=0)}}ti(4)}catch{}}var Ee=class{constructor(u,m){this.g=u,this.map=m}};function yl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _l(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function oi(u){return u.h?1:u.g?u.g.size:0}function ui(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function vl(u,m){u.g?u.g.add(m):u.h=m}function El(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}yl.prototype.cancel=function(){if(this.i=Tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Tl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.G);return m}return Q(u.i)}var eu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ea(u,m){if(u){u=u.split("&");for(let _=0;_<u.length;_++){const T=u[_].indexOf("=");let L,B=null;T>=0?(L=u[_].substring(0,T),B=u[_].substring(T+1)):L=u[_],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function mn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof mn?(this.l=u.l,ke(this,u.j),this.o=u.o,this.g=u.g,ls(this,u.u),this.h=u.h,bl(this,ru(u.i)),this.m=u.m):u&&(m=String(u).match(eu))?(this.l=!1,ke(this,m[1]||"",!0),this.o=ci(m[2]||""),this.g=ci(m[3]||"",!0),ls(this,m[4]),this.h=ci(m[5]||"",!0),bl(this,m[6]||"",!0),this.m=ci(m[7]||"")):(this.l=!1,this.i=new us(null,this.l))}mn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(mr(m,na,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(mr(m,na,!0),"@"),u.push(Di(_).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.u,_!=null&&u.push(":",String(_))),(_=this.h)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(mr(_,_.charAt(0)=="/"?Al:nu,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",mr(_,iu)),u.join("")},mn.prototype.resolve=function(u){const m=Te(this);let _=!!u.j;_?ke(m,u.j):_=!!u.o,_?m.o=u.o:_=!!u.g,_?m.g=u.g:_=u.u!=null;var T=u.h;if(_)ls(m,u.u);else if(_=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let et=0;et<L.length;){const At=L[et++];At=="."?T&&et==L.length&&B.push(""):At==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&et==L.length&&B.push("")):(B.push(At),T=!0)}T=B.join("/")}else T=L}return _?m.h=T:_=u.i.toString()!=="",_?bl(m,ru(u.i)):_=!!u.m,_&&(m.m=u.m),m};function Te(u){return new mn(u)}function ke(u,m,_){u.j=_?ci(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ls(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function bl(u,m,_){m instanceof us?(u.i=m,sa(u.i,u.l)):(_||(m=mr(m,os)),u.i=new us(m,u.l))}function Gt(u,m,_){u.i.set(m,_)}function dr(u){return Gt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ci(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function mr(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,sn),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function sn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var na=/[#\/\?@]/g,nu=/[#\?:]/g,Al=/[#\?]/g,os=/[#\?@]/g,iu=/#/g;function us(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function rn(u){u.g||(u.g=new Map,u.h=0,u.i&&ea(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}r=us.prototype,r.add=function(u,m){rn(this),this.i=null,u=cs(this,u);let _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function su(u,m){rn(u),m=cs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Sl(u,m){return rn(u),m=cs(u,m),u.g.has(m)}r.forEach=function(u,m){rn(this),this.g.forEach(function(_,T){_.forEach(function(L){u.call(m,L,T,this)},this)},this)};function wl(u,m){rn(u);let _=[];if(typeof m=="string")Sl(u,m)&&(_=_.concat(u.g.get(cs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)_=_.concat(u[m]);return _}r.set=function(u,m){return rn(this),this.i=null,u=cs(this,u),Sl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=wl(this,u),u.length>0?String(u[0]):m):m};function ia(u,m,_){su(u,m),_.length>0&&(u.i=null,u.g.set(cs(u,m),Q(_)),u.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var _=m[T];const L=Di(_);_=wl(this,_);for(let B=0;B<_.length;B++){let et=L;_[B]!==""&&(et+="="+Di(_[B])),u.push(et)}}return this.i=u.join("&")};function ru(u){const m=new us;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function cs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function sa(u,m){m&&!u.j&&(rn(u),u.i=null,u.g.forEach(function(_,T){const L=T.toLowerCase();T!=L&&(su(this,T),ia(this,L,_))},u)),u.j=m}function qn(u,m){const _=new zn;if(d.Image){const T=new Image;T.onload=b(wn,_,"TestLoadImage: loaded",!0,m,T),T.onerror=b(wn,_,"TestLoadImage: error",!1,m,T),T.onabort=b(wn,_,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(wn,_,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Rl(u,m){const _=new zn,T=new AbortController,L=setTimeout(()=>{T.abort(),wn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?wn(_,"TestPingServer: ok",!0,m):wn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),wn(_,"TestPingServer: error",!1,m)})}function wn(u,m,_,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(_)}catch{}}function hs(){this.g=new Qo}function hi(u){this.i=u.Sb||null,this.h=u.ab||!1}A(hi,Ko),hi.prototype.g=function(){return new gr(this.i,this.h)};function gr(u,m){ye.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(gr,ye),r=gr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Hn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fs(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ra(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ra(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?fs(this):Hn(this),this.readyState==3&&ra(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,fs(this))},r.Na=function(u){this.g&&(this.response=u,fs(this))},r.ga=function(){this.g&&fs(this)};function fs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Hn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function Hn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(gr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Rn(u){let m="";return Ut(u,function(_,T){m+=T,m+=":",m+=_,m+=`\r
`}),m}function pr(u,m,_){t:{for(T in _){var T=!1;break t}T=!0}T||(_=Rn(_),typeof u=="string"?_!=null&&Di(_):Gt(u,m,_))}function Kt(u){ye.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(Kt,ye);var fi=/^https?$/i,Cl=["POST","PUT"];r=Kt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,_,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():pl.g(),this.g.onreadystatechange=M(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){yr(this,B);return}if(u=_||"",_=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)_.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())_.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(_.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Cl,m,void 0)>=0)||T||L||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,et]of _)this.g.setRequestHeader(B,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){yr(this,B)}};function yr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Il(u),Oi(u)}function Il(u){u.A||(u.A=!0,xe(u,"complete"),xe(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,xe(this,"complete"),xe(this,"abort"),Oi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oi(this,!0)),Kt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?_r(this):this.Xa())},r.Xa=function(){_r(this)};function _r(u){if(u.h&&typeof c<"u"){if(u.v&&Gn(u)==4)setTimeout(u.Ca.bind(u),0);else if(xe(u,"readystatechange"),Gn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var _;if(!(_=m)){var T;if(T=B===0){let et=String(u.D).match(eu)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),T=!fi.test(et?et.toLowerCase():"")}_=T}if(_)xe(u,"complete"),xe(u,"success");else{u.o=6;try{var L=Gn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Il(u)}}finally{Oi(u)}}}}function Oi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const _=u.g;u.g=null,m||xe(u,"ready");try{_.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Gn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Gn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ih(m)}};function je(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Mi(u){const m={};u=(u.g&&Gn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var _=Jo(u[T]);const L=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const B=m[L]||[];m[L]=B,B.push(_)}ut(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function di(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function ds(u){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=di("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=di("baseRetryDelayMs",5e3,u),this.Za=di("retryDelaySeedMs",1e4,u),this.Ta=di("forwardChannelMaxRetries",2,u),this.va=di("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new yl(u&&u.concurrentRequestLimit),this.Ba=new hs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ds.prototype,r.ka=8,r.I=1,r.connect=function(u,m,_,T){_e(0),this.W=u,this.H=m||{},_&&T!==void 0&&(this.H.OSID=_,this.H.OAID=T),this.F=this.X,this.J=fu(this,null,this.W),mi(this)};function Nl(u){if(aa(u),u.I==3){var m=u.V++,_=Te(u.J);if(Gt(_,"SID",u.M),Gt(_,"RID",m),Gt(_,"TYPE","terminate"),vr(u,_),m=new jn(u,u.j,m),m.M=2,m.A=dr(Te(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.A,_=!0),_||(m.g=du(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ri(m)}hu(u)}function ms(u){u.g&&(Dl(u),u.g.cancel(),u.g=null)}function aa(u){ms(u),u.v&&(d.clearTimeout(u.v),u.v=null),oa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function mi(u){if(!_l(u.h)&&!u.m){u.m=!0;var m=u.Ea;Jt||S(),kt||(Jt(),kt=!0),x.add(m,u),u.D=0}}function la(u,m){return oi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ni(y(u.Ea,u,m),cu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new jn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=C(B),J(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,_=0;_<this.i.length;_++){e:{var T=this.i[_];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=_;break t}if(m===4096||_===this.i.length-1){m=_+1;break t}}m=1e3}else m=1e3;m=au(this,L,m),_=Te(this.J),Gt(_,"RID",u),Gt(_,"CVER",22),this.G&&Gt(_,"X-HTTP-Session-Id",this.G),vr(this,_),B&&(this.R?m="headers="+Di(Rn(B))+"&"+m:this.u&&pr(_,this.u,B)),vl(this.h,L),this.Ra&&Gt(_,"TYPE","init"),this.S?(Gt(_,"$req",m),Gt(_,"SID","null"),L.U=!0,si(L,_,null)):si(L,_,m),this.I=2}}else this.I==3&&(u?xl(this,u):this.i.length==0||_l(this.h)||xl(this))};function xl(u,m){var _;m?_=m.l:_=u.V++;const T=Te(u.J);Gt(T,"SID",u.M),Gt(T,"RID",_),Gt(T,"AID",u.K),vr(u,T),u.u&&u.o&&pr(T,u.u,u.o),_=new jn(u,u.j,_,u.D+1),u.u===null&&(_.J=u.o),m&&(u.i=m.G.concat(u.i)),m=au(u,_,1e3),_.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),vl(u.h,_),si(_,T,m)}function vr(u,m){u.H&&Ut(u.H,function(_,T){Gt(m,T,_)}),u.l&&Ut({},function(_,T){Gt(m,T,_)})}function au(u,m,_){_=Math.min(u.i.length,_);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var L=u.i;let At=-1;for(;;){const de=["count="+_];At==-1?_>0?(At=L[0].g,de.push("ofs="+At)):At=0:de.push("ofs="+At);let Bt=!0;for(let ae=0;ae<_;ae++){var B=L[ae].g;const Cn=L[ae].map;if(B-=At,B<0)At=Math.max(0,L[ae].g-100),Bt=!1;else try{B="req"+B+"_"||"";try{var et=Cn instanceof Map?Cn:Object.entries(Cn);for(const[pi,Fn]of et){let Qn=Fn;p(Fn)&&(Qn=as(Fn)),de.push(B+pi+"="+encodeURIComponent(Qn))}}catch(pi){throw de.push(B+"type="+encodeURIComponent("_badmap")),pi}}catch{T&&T(Cn)}}if(Bt){et=de.join("&");break t}}et=void 0}return u=u.i.splice(0,_),m.G=u,et}function lu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Jt||S(),kt||(Jt(),kt=!0),x.add(m,u),u.A=0}}function Er(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ni(y(u.Da,u),cu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,ou(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ni(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_e(10),ms(this),ou(this))};function Dl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function ou(u){u.g=new jn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Te(u.na);Gt(m,"RID","rpc"),Gt(m,"SID",u.M),Gt(m,"AID",u.K),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Gt(m,"TO",u.ia),Gt(m,"TYPE","xmlhttp"),vr(u,m),u.u&&u.o&&pr(m,u.u,u.o),u.O&&(u.g.H=u.O);var _=u.g;u=u.ba,_.M=1,_.A=dr(Te(m)),_.u=null,_.R=!0,Wr(_,u)}r.Va=function(){this.C!=null&&(this.C=null,ms(this),Er(this),_e(19))};function oa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function uu(u,m){var _=null;if(u.g==m){oa(u),Dl(u),u.g=null;var T=2}else if(ui(u.h,m))_=m.G,El(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){_=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Jr(),xe(T,new ei(T,_)),mi(u)}else lu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&la(u,m)||T==2&&Er(u)))switch(_&&_.length>0&&(m=u.h,m.i=m.i.concat(_)),L){case 1:gi(u,5);break;case 4:gi(u,10);break;case 3:gi(u,6);break;default:gi(u,2)}}}function cu(u,m){let _=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(_*=2),_*m}function gi(u,m){if(u.j.info("Error code "+m),m==2){var _=y(u.bb,u),T=u.Ua;const L=!T;T=new mn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ke(T,"https"),dr(T),L?qn(T.toString(),_):Rl(T.toString(),_)}else _e(2);u.I=0,u.l&&u.l.pa(m),hu(u),aa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function hu(u){if(u.I=0,u.ja=[],u.l){const m=Tl(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function fu(u,m,_){var T=_ instanceof mn?Te(_):new mn(_);if(T.g!="")m&&(T.g=m+"."+T.g),ls(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new mn(null);T&&ke(B,T),m&&(B.g=m),L&&ls(B,L),_&&(B.h=_),T=B}return _=u.G,m=u.wa,_&&m&&Gt(T,_,m),Gt(T,"VER",u.ka),vr(u,T),T}function du(u,m,_){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Kt(new hi({ab:_})):new Kt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function mu(){}r=mu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function gs(){}gs.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){ye.call(this),this.g=new ds(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Vi(this)}A(tn,ye),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Nl(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.v&&(_={},_.__data__=as(u),u=_);m.i.push(new Ee(m.Ya++,u)),m.I==3&&mi(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,Nl(this.g),delete this.g,tn.Z.N.call(this)};function gu(u){ze.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const _ in m){u=_;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}A(gu,ze);function pu(){An.call(this),this.status=1}A(pu,An);function Vi(u){this.g=u}A(Vi,mu),Vi.prototype.ra=function(){xe(this.g,"a")},Vi.prototype.qa=function(u){xe(this.g,new gu(u))},Vi.prototype.pa=function(u){xe(this.g,new pu)},Vi.prototype.oa=function(){xe(this.g,"b")},gs.prototype.createWebChannel=gs.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,O0=function(){return new gs},D0=function(){return Jr()},x0=fe,$d={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},hr.NO_ERROR=0,hr.TIMEOUT=8,hr.HTTP_ERROR=6,Rc=hr,gl.COMPLETE="complete",N0=gl,Yo.EventType=Pn,Pn.OPEN="a",Pn.CLOSE="b",Pn.ERROR="c",Pn.MESSAGE="d",ye.prototype.listen=ye.prototype.J,yo=Yo,Kt.prototype.listenOnce=Kt.prototype.K,Kt.prototype.getLastError=Kt.prototype.Ha,Kt.prototype.getLastErrorCode=Kt.prototype.ya,Kt.prototype.getStatus=Kt.prototype.ca,Kt.prototype.getResponseJson=Kt.prototype.La,Kt.prototype.getResponseText=Kt.prototype.la,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Fa,I0=Kt}).apply(typeof Ec<"u"?Ec:typeof self<"u"?self:typeof window<"u"?window:{});const X_="@firebase/firestore",Z_="4.9.3";class Ze{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");let rl="12.7.0";const Hr=new Em("@firebase/firestore");function za(){return Hr.logLevel}function st(r,...t){if(Hr.logLevel<=Ot.DEBUG){const i=t.map(Am);Hr.debug(`Firestore (${rl}): ${r}`,...i)}}function ts(r,...t){if(Hr.logLevel<=Ot.ERROR){const i=t.map(Am);Hr.error(`Firestore (${rl}): ${r}`,...i)}}function Za(r,...t){if(Hr.logLevel<=Ot.WARN){const i=t.map(Am);Hr.warn(`Firestore (${rl}): ${r}`,...i)}}function Am(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function gt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,M0(r,a,i)}function M0(r,t,i){let a=`FIRESTORE (${rl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ts(a),new Error(a)}function Ht(r,t,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||M0(t,o,a)}function Tt(r,t){return r}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends ss{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class jr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class V0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class uS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Ze.UNAUTHENTICATED)))}shutdown(){}}class cS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class hS{constructor(t){this.t=t,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ht(this.o===void 0,42304);let a=this.i;const o=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let c=new jr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new jr,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const v=c;t.enqueueRetryable((async()=>{await v.promise,await o(this.currentUser)}))},p=v=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((v=>p(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new jr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ht(typeof a.accessToken=="string",31837,{l:a}),new V0(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new Ze(t)}}class fS{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class dS{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new fS(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Ze.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class $_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mS{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$n(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ht(this.o===void 0,3512);const a=c=>{c.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const o=c=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new $_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new $_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function gS(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Sm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=gS(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=t.charAt(o[c]%62))}return a}}function Mt(r,t){return r<t?-1:r>t?1:0}function Jd(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const o=r.charAt(a),c=t.charAt(a);if(o!==c)return Ld(o)===Ld(c)?Mt(o,c):Ld(o)?1:-1}return Mt(r.length,t.length)}const pS=55296,yS=57343;function Ld(r){const t=r.charCodeAt(0);return t>=pS&&t<=yS}function $a(r,t,i){return r.length===t.length&&r.every(((a,o)=>i(a,t[o])))}const J_="__name__";class Ti{constructor(t,i,a){i===void 0?i=0:i>t.length&&gt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&gt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ti.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ti?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let o=0;o<a;o++){const c=Ti.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return Mt(t.length,i.length)}static compareSegments(t,i){const a=Ti.isNumericId(t),o=Ti.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Ti.extractNumericId(t).compare(Ti.extractNumericId(i)):Jd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ks.fromString(t.substring(4,t.length-2))}}class ie extends Ti{construct(t,i,a){return new ie(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new lt($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new ie(i)}static emptyPath(){return new ie([])}}const _S=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Ti{construct(t,i,a){return new Qe(t,i,a)}static isValidIdentifier(t){return _S.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===J_}static keyField(){return new Qe([J_])}static fromServerFormat(t){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new lt($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new lt($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[o+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new lt($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=v,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(a+=p,o++):(c(),o++)}if(c(),d)throw new lt($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(i)}static emptyPath(){return new Qe([])}}class ht{constructor(t){this.path=t}static fromPath(t){return new ht(ie.fromString(t))}static fromName(t){return new ht(ie.fromString(t).popFirst(5))}static empty(){return new ht(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ie.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ie.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new ie(t.slice()))}}function k0(r,t,i){if(!i)throw new lt($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function vS(r,t,i,a){if(t===!0&&a===!0)throw new lt($.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function W_(r){if(!ht.isDocumentKey(r))throw new lt($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function tv(r){if(ht.isDocumentKey(r))throw new lt($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function U0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function wm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":gt(12329,{type:typeof r})}function bi(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new lt($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=wm(r);throw new lt($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ce(r,t){const i={typeString:r};return t&&(i.value=t),i}function Uo(r,t){if(!U0(r))throw new lt($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const o=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new lt($.INVALID_ARGUMENT,i);return!0}const ev=-62135596800,nv=1e6;class se{static now(){return se.fromMillis(Date.now())}static fromDate(t){return se.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*nv);return new se(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new lt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<ev)throw new lt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/nv}_compareTo(t){return this.seconds===t.seconds?Mt(this.nanoseconds,t.nanoseconds):Mt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:se._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Uo(t,se._jsonSchema))return new se(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-ev;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}se._jsonSchemaVersion="firestore/timestamp/1.0",se._jsonSchema={type:Ce("string",se._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};class _t{static fromTimestamp(t){return new _t(t)}static min(){return new _t(new se(0,0))}static max(){return new _t(new se(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Io=-1;function ES(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=_t.fromTimestamp(a===1e9?new se(i+1,0):new se(i,a));return new $s(o,ht.empty(),t)}function TS(r){return new $s(r.readTime,r.key,Io)}class $s{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new $s(_t.min(),ht.empty(),Io)}static max(){return new $s(_t.max(),ht.empty(),Io)}}function bS(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=ht.comparator(r.documentKey,t.documentKey),i!==0?i:Mt(r.largestBatchId,t.largestBatchId))}const AS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function al(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==AS)throw r;st("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let o=0,c=0,d=!1;t.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&i()}),(v=>a(v)))})),d=!0,c===o&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((o=>o?X.resolve(o):a()));return i}static forEach(t,i){const a=[];return t.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,o)=>{const c=t.length,d=new Array(c);let p=0;for(let v=0;v<c;v++){const y=v;i(t[y]).next((b=>{d[y]=b,++p,p===c&&a(d)}),(b=>o(b)))}}))}static doWhile(t,i){return new X(((a,o)=>{const c=()=>{t()===!0?i().next((()=>{c()}),o):a()};c()}))}}function wS(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ll(r){return r.name==="IndexedDbTransactionError"}class sh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}sh.ce=-1;const Rm=-1;function rh(r){return r==null}function Pc(r){return r===0&&1/r==-1/0}function RS(r){return typeof r=="number"&&Number.isInteger(r)&&!Pc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const L0="";function CS(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=iv(t)),t=IS(r.get(i),t);return iv(t)}function IS(r,t){let i=t;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case L0:i+="";break;default:i+=c}}return i}function iv(r){return r+L0+""}function sv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function sr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function P0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class oe{constructor(t,i){this.comparator=t,this.root=i||Fe.EMPTY}insert(t,i){return new oe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(t){return new oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Tc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Tc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Tc(this.root,t,this.comparator,!0)}}class Tc{constructor(t,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fe{constructor(t,i,a,o,c){this.key=t,this.value=i,this.color=a??Fe.RED,this.left=o??Fe.EMPTY,this.right=c??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,o,c){return new Fe(t??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const c=a(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return Fe.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,i,a,o,c){return this}insert(t,i,a){return new Fe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(t){this.comparator=t,this.data=new oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new rv(this.data.getIterator())}getIteratorFrom(t){return new rv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Me(this.comparator);return i.data=t,i}}class rv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class bn{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new bn([])}unionWith(t){let i=new Me(Qe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new bn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return $a(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class z0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new z0("Invalid base64 string: "+c):c}})(t);return new Ke(i)}static fromUint8Array(t){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(t);return new Ke(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const NS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Js(r){if(Ht(!!r,39018),typeof r=="string"){let t=0;const i=NS.exec(r);if(Ht(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:pe(r.seconds),nanos:pe(r.nanos)}}function pe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ws(r){return typeof r=="string"?Ke.fromBase64String(r):Ke.fromUint8Array(r)}const j0="server_timestamp",B0="__type__",q0="__previous_value__",H0="__local_write_time__";function Cm(r){return(r?.mapValue?.fields||{})[B0]?.stringValue===j0}function ah(r){const t=r.mapValue.fields[q0];return Cm(t)?ah(t):t}function No(r){const t=Js(r.mapValue.fields[H0].timestampValue);return new se(t.seconds,t.nanos)}class xS{constructor(t,i,a,o,c,d,p,v,y,b){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=v,this.useFetchStreams=y,this.isUsingEmulator=b}}const zc="(default)";class xo{constructor(t,i){this.projectId=t,this.database=i||zc}static empty(){return new xo("","")}get isDefaultDatabase(){return this.database===zc}isEqual(t){return t instanceof xo&&t.projectId===this.projectId&&t.database===this.database}}const G0="__type__",DS="__max__",bc={mapValue:{}},F0="__vector__",jc="value";function tr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Cm(r)?4:MS(r)?9007199254740991:OS(r)?10:11:gt(28295,{value:r})}function Ni(r,t){if(r===t)return!0;const i=tr(r);if(i!==tr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return No(r).isEqual(No(t));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Js(o.timestampValue),p=Js(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,c){return Ws(o.bytesValue).isEqual(Ws(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,c){return pe(o.geoPointValue.latitude)===pe(c.geoPointValue.latitude)&&pe(o.geoPointValue.longitude)===pe(c.geoPointValue.longitude)})(r,t);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return pe(o.integerValue)===pe(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=pe(o.doubleValue),p=pe(c.doubleValue);return d===p?Pc(d)===Pc(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return $a(r.arrayValue.values||[],t.arrayValue.values||[],Ni);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(sv(d)!==sv(p))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(p[v]===void 0||!Ni(d[v],p[v])))return!1;return!0})(r,t);default:return gt(52216,{left:r})}}function Do(r,t){return(r.values||[]).find((i=>Ni(i,t)))!==void 0}function Ja(r,t){if(r===t)return 0;const i=tr(r),a=tr(t);if(i!==a)return Mt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=pe(c.integerValue||c.doubleValue),v=pe(d.integerValue||d.doubleValue);return p<v?-1:p>v?1:p===v?0:isNaN(p)?isNaN(v)?0:-1:1})(r,t);case 3:return av(r.timestampValue,t.timestampValue);case 4:return av(No(r),No(t));case 5:return Jd(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=Ws(c),v=Ws(d);return p.compareTo(v)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),v=d.split("/");for(let y=0;y<p.length&&y<v.length;y++){const b=Mt(p[y],v[y]);if(b!==0)return b}return Mt(p.length,v.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Mt(pe(c.latitude),pe(d.latitude));return p!==0?p:Mt(pe(c.longitude),pe(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return lv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},v=d.fields||{},y=p[jc]?.arrayValue,b=v[jc]?.arrayValue,A=Mt(y?.values?.length||0,b?.values?.length||0);return A!==0?A:lv(y,b)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===bc.mapValue&&d===bc.mapValue)return 0;if(c===bc.mapValue)return 1;if(d===bc.mapValue)return-1;const p=c.fields||{},v=Object.keys(p),y=d.fields||{},b=Object.keys(y);v.sort(),b.sort();for(let A=0;A<v.length&&A<b.length;++A){const M=Jd(v[A],b[A]);if(M!==0)return M;const Q=Ja(p[v[A]],y[b[A]]);if(Q!==0)return Q}return Mt(v.length,b.length)})(r.mapValue,t.mapValue);default:throw gt(23264,{he:i})}}function av(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Mt(r,t);const i=Js(r),a=Js(t),o=Mt(i.seconds,a.seconds);return o!==0?o:Mt(i.nanos,a.nanos)}function lv(r,t){const i=r.values||[],a=t.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=Ja(i[o],a[o]);if(c)return c}return Mt(i.length,a.length)}function Wa(r){return Wd(r)}function Wd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Js(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Ws(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ht.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=Wd(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${Wd(i.fields[d])}`;return o+"}"})(r.mapValue):gt(61005,{value:r})}function Cc(r){switch(tr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ah(r);return t?16+Cc(t):16;case 5:return 2*r.stringValue.length;case 6:return Ws(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Cc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return sr(a.fields,((c,d)=>{o+=c.length+Cc(d)})),o})(r.mapValue);default:throw gt(13486,{value:r})}}function tm(r){return!!r&&"integerValue"in r}function Im(r){return!!r&&"arrayValue"in r}function ov(r){return!!r&&"nullValue"in r}function uv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ic(r){return!!r&&"mapValue"in r}function OS(r){return(r?.mapValue?.fields||{})[G0]?.stringValue===F0}function bo(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return sr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=bo(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=bo(r.arrayValue.values[i]);return t}return{...r}}function MS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===DS}class fn{constructor(t){this.value=t}static empty(){return new fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Ic(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=bo(i)}setAll(t){let i=Qe.emptyPath(),a={},o=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const v=this.getFieldsMap(i);this.applyChanges(v,a,o),a={},o=[],i=p.popLast()}d?a[p.lastSegment()]=bo(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(t){const i=this.field(t.popLast());Ic(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ni(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=i.mapValue.fields[t.get(a)];Ic(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,a){sr(i,((o,c)=>t[o]=c));for(const o of a)delete t[o]}clone(){return new fn(bo(this.value))}}function Q0(r){const t=[];return sr(r.fields,((i,a)=>{const o=new Qe([i]);if(Ic(a)){const c=Q0(a.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)})),new bn(t)}class $e{constructor(t,i,a,o,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new $e(t,0,_t.min(),_t.min(),_t.min(),fn.empty(),0)}static newFoundDocument(t,i,a,o){return new $e(t,1,i,_t.min(),a,o,0)}static newNoDocument(t,i){return new $e(t,2,i,_t.min(),_t.min(),fn.empty(),0)}static newUnknownDocument(t,i){return new $e(t,3,i,_t.min(),_t.min(),fn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof $e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new $e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Bc{constructor(t,i){this.position=t,this.inclusive=i}}function cv(r,t,i){let a=0;for(let o=0;o<r.position.length;o++){const c=t[o],d=r.position[o];if(c.field.isKeyField()?a=ht.comparator(ht.fromName(d.referenceValue),i.key):a=Ja(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function hv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ni(r.position[i],t.position[i]))return!1;return!0}class qc{constructor(t,i="asc"){this.field=t,this.dir=i}}function VS(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class K0{}class Oe extends K0{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new US(t,i,a):i==="array-contains"?new zS(t,a):i==="in"?new jS(t,a):i==="not-in"?new BS(t,a):i==="array-contains-any"?new qS(t,a):new Oe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new LS(t,a):new PS(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ja(i,this.value)):i!==null&&tr(this.value)===tr(i)&&this.matchesComparison(Ja(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xi extends K0{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new xi(t,i)}matches(t){return Y0(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Y0(r){return r.op==="and"}function X0(r){return kS(r)&&Y0(r)}function kS(r){for(const t of r.filters)if(t instanceof xi)return!1;return!0}function em(r){if(r instanceof Oe)return r.field.canonicalString()+r.op.toString()+Wa(r.value);if(X0(r))return r.filters.map((t=>em(t))).join(",");{const t=r.filters.map((i=>em(i))).join(",");return`${r.op}(${t})`}}function Z0(r,t){return r instanceof Oe?(function(a,o){return o instanceof Oe&&a.op===o.op&&a.field.isEqual(o.field)&&Ni(a.value,o.value)})(r,t):r instanceof xi?(function(a,o){return o instanceof xi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,p)=>c&&Z0(d,o.filters[p])),!0):!1})(r,t):void gt(19439)}function $0(r){return r instanceof Oe?(function(i){return`${i.field.canonicalString()} ${i.op} ${Wa(i.value)}`})(r):r instanceof xi?(function(i){return i.op.toString()+" {"+i.getFilters().map($0).join(" ,")+"}"})(r):"Filter"}class US extends Oe{constructor(t,i,a){super(t,i,a),this.key=ht.fromName(a.referenceValue)}matches(t){const i=ht.comparator(t.key,this.key);return this.matchesComparison(i)}}class LS extends Oe{constructor(t,i){super(t,"in",i),this.keys=J0("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class PS extends Oe{constructor(t,i){super(t,"not-in",i),this.keys=J0("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function J0(r,t){return(t.arrayValue?.values||[]).map((i=>ht.fromName(i.referenceValue)))}class zS extends Oe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Im(i)&&Do(i.arrayValue,this.value)}}class jS extends Oe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Do(this.value.arrayValue,i)}}class BS extends Oe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Do(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Do(this.value.arrayValue,i)}}class qS extends Oe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Im(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Do(this.value.arrayValue,a)))}}class HS{constructor(t,i=null,a=[],o=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function fv(r,t=null,i=[],a=[],o=null,c=null,d=null){return new HS(r,t,i,a,o,c,d)}function Nm(r){const t=Tt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>em(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),rh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Wa(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Wa(a))).join(",")),t.Te=i}return t.Te}function xm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!VS(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!Z0(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!hv(r.startAt,t.startAt)&&hv(r.endAt,t.endAt)}function nm(r){return ht.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class lh{constructor(t,i=null,a=[],o=[],c=null,d="F",p=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function GS(r,t,i,a,o,c,d,p){return new lh(r,t,i,a,o,c,d,p)}function Dm(r){return new lh(r)}function dv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function FS(r){return r.collectionGroup!==null}function Ao(r){const t=Tt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Me(Qe.comparator);return d.filters.forEach((v=>{v.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new qc(c,a))})),i.has(Qe.keyField().canonicalString())||t.Ie.push(new qc(Qe.keyField(),a))}return t.Ie}function Ai(r){const t=Tt(r);return t.Ee||(t.Ee=QS(t,Ao(r))),t.Ee}function QS(r,t){if(r.limitType==="F")return fv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new qc(o.field,c)}));const i=r.endAt?new Bc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Bc(r.startAt.position,r.startAt.inclusive):null;return fv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function im(r,t,i){return new lh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function oh(r,t){return xm(Ai(r),Ai(t))&&r.limitType===t.limitType}function W0(r){return`${Nm(Ai(r))}|lt:${r.limitType}`}function ja(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>$0(o))).join(", ")}]`),rh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>Wa(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>Wa(o))).join(",")),`Target(${a})`})(Ai(r))}; limitType=${r.limitType})`}function uh(r,t){return t.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ht.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,o){for(const c of Ao(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(r,t)&&(function(a,o){return!(a.startAt&&!(function(d,p,v){const y=cv(d,p,v);return d.inclusive?y<=0:y<0})(a.startAt,Ao(a),o)||a.endAt&&!(function(d,p,v){const y=cv(d,p,v);return d.inclusive?y>=0:y>0})(a.endAt,Ao(a),o))})(r,t)}function KS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function tE(r){return(t,i)=>{let a=!1;for(const o of Ao(r)){const c=YS(o,t,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function YS(r,t,i){const a=r.field.isKeyField()?ht.comparator(t.key,i.key):(function(c,d,p){const v=d.data.field(c),y=p.data.field(c);return v!==null&&y!==null?Ja(v,y):gt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return gt(19790,{direction:r.dir})}}class Kr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){sr(this.inner,((i,a)=>{for(const[o,c]of a)t(o,c)}))}isEmpty(){return P0(this.inner)}size(){return this.innerSize}}const XS=new oe(ht.comparator);function es(){return XS}const eE=new oe(ht.comparator);function _o(...r){let t=eE;for(const i of r)t=t.insert(i.key,i);return t}function nE(r){let t=eE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function zr(){return So()}function iE(){return So()}function So(){return new Kr((r=>r.toString()),((r,t)=>r.isEqual(t)))}const ZS=new oe(ht.comparator),$S=new Me(ht.comparator);function Vt(...r){let t=$S;for(const i of r)t=t.add(i);return t}const JS=new Me(Mt);function WS(){return JS}function Om(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pc(t)?"-0":t}}function sE(r){return{integerValue:""+r}}function tw(r,t){return RS(t)?sE(t):Om(r,t)}class ch{constructor(){this._=void 0}}function ew(r,t,i){return r instanceof Hc?(function(o,c){const d={fields:{[B0]:{stringValue:j0},[H0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Cm(c)&&(c=ah(c)),c&&(d.fields[q0]=c),{mapValue:d}})(i,t):r instanceof tl?aE(r,t):r instanceof Oo?lE(r,t):(function(o,c){const d=rE(o,c),p=mv(d)+mv(o.Ae);return tm(d)&&tm(o.Ae)?sE(p):Om(o.serializer,p)})(r,t)}function nw(r,t,i){return r instanceof tl?aE(r,t):r instanceof Oo?lE(r,t):i}function rE(r,t){return r instanceof Gc?(function(a){return tm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Hc extends ch{}class tl extends ch{constructor(t){super(),this.elements=t}}function aE(r,t){const i=oE(t);for(const a of r.elements)i.some((o=>Ni(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Oo extends ch{constructor(t){super(),this.elements=t}}function lE(r,t){let i=oE(t);for(const a of r.elements)i=i.filter((o=>!Ni(o,a)));return{arrayValue:{values:i}}}class Gc extends ch{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function mv(r){return pe(r.integerValue||r.doubleValue)}function oE(r){return Im(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class iw{constructor(t,i){this.field=t,this.transform=i}}function sw(r,t){return r.field.isEqual(t.field)&&(function(a,o){return a instanceof tl&&o instanceof tl||a instanceof Oo&&o instanceof Oo?$a(a.elements,o.elements,Ni):a instanceof Gc&&o instanceof Gc?Ni(a.Ae,o.Ae):a instanceof Hc&&o instanceof Hc})(r.transform,t.transform)}class rw{constructor(t,i){this.version=t,this.transformResults=i}}class Ln{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Ln}static exists(t){return new Ln(void 0,t)}static updateTime(t){return new Ln(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Nc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class hh{}function uE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Mm(r.key,Ln.none()):new Lo(r.key,r.data,Ln.none());{const i=r.data,a=fn.empty();let o=new Me(Qe.comparator);for(let c of t.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new rr(r.key,a,new bn(o.toArray()),Ln.none())}}function aw(r,t,i){r instanceof Lo?(function(o,c,d){const p=o.value.clone(),v=pv(o.fieldTransforms,c,d.transformResults);p.setAll(v),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof rr?(function(o,c,d){if(!Nc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=pv(o.fieldTransforms,c,d.transformResults),v=c.data;v.setAll(cE(o)),v.setAll(p),c.convertToFoundDocument(d.version,v).setHasCommittedMutations()})(r,t,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function wo(r,t,i,a){return r instanceof Lo?(function(c,d,p,v){if(!Nc(c.precondition,d))return p;const y=c.value.clone(),b=yv(c.fieldTransforms,v,d);return y.setAll(b),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,a):r instanceof rr?(function(c,d,p,v){if(!Nc(c.precondition,d))return p;const y=yv(c.fieldTransforms,v,d),b=d.data;return b.setAll(cE(c)),b.setAll(y),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((A=>A.field)))})(r,t,i,a):(function(c,d,p){return Nc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function lw(r,t){let i=null;for(const a of r.fieldTransforms){const o=t.data.field(a.field),c=rE(a.transform,o||null);c!=null&&(i===null&&(i=fn.empty()),i.set(a.field,c))}return i||null}function gv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&$a(a,o,((c,d)=>sw(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Lo extends hh{constructor(t,i,a,o=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class rr extends hh{constructor(t,i,a,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function cE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function pv(r,t,i){const a=new Map;Ht(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,p=t.data.field(c.field);a.set(c.field,nw(d,p,i[o]))}return a}function yv(r,t,i){const a=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);a.set(o.field,ew(c,d,t))}return a}class Mm extends hh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ow extends hh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class uw{constructor(t,i,a,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&aw(c,t,a[o])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=wo(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=wo(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=iE();return this.mutations.forEach((o=>{const c=t.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(o.key)?null:p;const v=uE(d,p);v!==null&&a.set(o.key,v),d.isValidDocument()||d.convertToNoDocument(_t.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Vt())}isEqual(t){return this.batchId===t.batchId&&$a(this.mutations,t.mutations,((i,a)=>gv(i,a)))&&$a(this.baseMutations,t.baseMutations,((i,a)=>gv(i,a)))}}class Vm{constructor(t,i,a,o){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(t,i,a){Ht(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let o=(function(){return ZS})();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Vm(t,i,a,o)}}class cw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class hw{constructor(t,i){this.count=t,this.unchangedNames=i}}var Re,Pt;function fw(r){switch(r){case $.OK:return gt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return gt(15467,{code:r})}}function hE(r){if(r===void 0)return ts("GRPC error has no .code"),$.UNKNOWN;switch(r){case Re.OK:return $.OK;case Re.CANCELLED:return $.CANCELLED;case Re.UNKNOWN:return $.UNKNOWN;case Re.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case Re.INTERNAL:return $.INTERNAL;case Re.UNAVAILABLE:return $.UNAVAILABLE;case Re.UNAUTHENTICATED:return $.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case Re.NOT_FOUND:return $.NOT_FOUND;case Re.ALREADY_EXISTS:return $.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return $.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case Re.ABORTED:return $.ABORTED;case Re.OUT_OF_RANGE:return $.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return $.UNIMPLEMENTED;case Re.DATA_LOSS:return $.DATA_LOSS;default:return gt(39323,{code:r})}}(Pt=Re||(Re={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";function dw(){return new TextEncoder}const mw=new Ks([4294967295,4294967295],0);function _v(r){const t=dw().encode(r),i=new C0;return i.update(t),new Uint8Array(i.digest())}function vv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Ks([i,a],0),new Ks([o,c],0)]}class km{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new vo(`Invalid padding: ${i}`);if(a<0)throw new vo(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new vo(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new vo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Ks.fromNumber(this.ge)}ye(t,i,a){let o=t.add(i.multiply(Ks.fromNumber(a)));return o.compare(mw)===1&&(o=new Ks([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=_v(t),[a,o]=vv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new km(c,o,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=_v(t),[a,o]=vv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class vo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class fh{constructor(t,i,a,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const o=new Map;return o.set(t,Po.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new fh(_t.min(),o,new oe(Mt),es(),Vt())}}class Po{constructor(t,i,a,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Po(a,i,Vt(),Vt(),Vt())}}class xc{constructor(t,i,a,o){this.be=t,this.removedTargetIds=i,this.key=a,this.De=o}}class fE{constructor(t,i){this.targetId=t,this.Ce=i}}class dE{constructor(t,i,a=Ke.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=o}}class Ev{constructor(){this.ve=0,this.Fe=Tv(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Vt(),i=Vt(),a=Vt();return this.Fe.forEach(((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:gt(38017,{changeType:c})}})),new Po(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=Tv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class gw{constructor(t){this.Ge=t,this.ze=new Map,this.je=es(),this.Je=Ac(),this.He=Ac(),this.Ye=new oe(Mt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:gt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,a=t.Ce.count,o=this.ot(i);if(o){const c=o.target;if(nm(c))if(a===0){const d=new ht(c.path);this.et(i,d,$e.newNoDocument(d,_t.min()))}else Ht(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),v=p?this.ct(p,t,d):1;if(v!==0){this.it(i);const y=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,p;try{d=Ws(a).toUint8Array()}catch(v){if(v instanceof z0)return Za("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{p=new km(d,o,c)}catch(v){return Za(v instanceof vo?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&nm(p.target)){const v=new ht(p.target.path);this.It(v).has(d)||this.Et(d,v)||this.et(d,v,$e.newNoDocument(v,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Vt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((v=>{const y=this.ot(v);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const o=new fh(t,i,this.Ye,this.je,a);return this.je=es(),this.Je=Ac(),this.He=Ac(),this.Ye=new oe(Mt),o}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Ev,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Me(Mt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Me(Mt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||st("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Ev),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Ac(){return new oe(ht.comparator)}function Tv(){return new oe(ht.comparator)}const pw={asc:"ASCENDING",desc:"DESCENDING"},yw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_w={and:"AND",or:"OR"};class vw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function sm(r,t){return r.useProto3Json||rh(t)?t:{value:t}}function Fc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function mE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Ew(r,t){return Fc(r,t.toTimestamp())}function Si(r){return Ht(!!r,49232),_t.fromTimestamp((function(i){const a=Js(i);return new se(a.seconds,a.nanos)})(r))}function Um(r,t){return rm(r,t).canonicalString()}function rm(r,t){const i=(function(o){return new ie(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?i:i.child(t)}function gE(r){const t=ie.fromString(r);return Ht(EE(t),10190,{key:t.toString()}),t}function am(r,t){return Um(r.databaseId,t.path)}function Pd(r,t){const i=gE(t);if(i.get(1)!==r.databaseId.projectId)throw new lt($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new lt($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ht(yE(i))}function pE(r,t){return Um(r.databaseId,t)}function Tw(r){const t=gE(r);return t.length===4?ie.emptyPath():yE(t)}function lm(r){return new ie(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function yE(r){return Ht(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function bv(r,t,i){return{name:am(r,t),fields:i.value.mapValue.fields}}function bw(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:gt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=(function(y,b){return y.useProto3Json?(Ht(b===void 0||typeof b=="string",58123),Ke.fromBase64String(b||"")):(Ht(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Ke.fromUint8Array(b||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const b=y.code===void 0?$.UNKNOWN:hE(y.code);return new lt(b,y.message||"")})(d);i=new dE(a,o,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=Pd(r,a.document.name),c=Si(a.document.updateTime),d=a.document.createTime?Si(a.document.createTime):_t.min(),p=new fn({mapValue:{fields:a.document.fields}}),v=$e.newFoundDocument(o,c,d,p),y=a.targetIds||[],b=a.removedTargetIds||[];i=new xc(y,b,v.key,v)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=Pd(r,a.document),c=a.readTime?Si(a.readTime):_t.min(),d=$e.newNoDocument(o,c),p=a.removedTargetIds||[];i=new xc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=Pd(r,a.document),c=a.removedTargetIds||[];i=new xc([],c,o,null)}else{if(!("filter"in t))return gt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new hw(o,c),p=a.targetId;i=new fE(p,d)}}return i}function Aw(r,t){let i;if(t instanceof Lo)i={update:bv(r,t.key,t.value)};else if(t instanceof Mm)i={delete:am(r,t.key)};else if(t instanceof rr)i={update:bv(r,t.key,t.data),updateMask:Ow(t.fieldMask)};else{if(!(t instanceof ow))return gt(16599,{Vt:t.type});i={verify:am(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof Hc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof tl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Oo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Gc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw gt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:Ew(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:gt(27497)})(r,t.precondition)),i}function Sw(r,t){return r&&r.length>0?(Ht(t!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?Si(o.updateTime):Si(c);return d.isEqual(_t.min())&&(d=Si(c)),new rw(d,o.transformResults||[])})(i,t)))):[]}function ww(r,t){return{documents:[pE(r,t.path)]}}function Rw(r,t){const i={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=pE(r,o);const c=(function(y){if(y.length!==0)return vE(xi.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((b=>(function(M){return{field:Ba(M.field),direction:Nw(M.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=sm(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:o}}function Cw(r){let t=Tw(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Ht(a===1,65062);const b=i.from[0];b.allDescendants?o=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(A){const M=_E(A);return M instanceof xi&&X0(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(A){return A.map((M=>(function(W){return new qc(qa(W.field),(function(tt){switch(tt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(A){let M;return M=typeof A=="object"?A.value:A,rh(M)?null:M})(i.limit));let v=null;i.startAt&&(v=(function(A){const M=!!A.before,Q=A.values||[];return new Bc(Q,M)})(i.startAt));let y=null;return i.endAt&&(y=(function(A){const M=!A.before,Q=A.values||[];return new Bc(Q,M)})(i.endAt)),GS(t,o,d,c,p,"F",v,y)}function Iw(r,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function _E(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=qa(i.unaryFilter.field);return Oe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=qa(i.unaryFilter.field);return Oe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=qa(i.unaryFilter.field);return Oe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=qa(i.unaryFilter.field);return Oe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Oe.create(qa(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return xi.create(i.compositeFilter.filters.map((a=>_E(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(i.compositeFilter.op))})(r):gt(30097,{filter:r})}function Nw(r){return pw[r]}function xw(r){return yw[r]}function Dw(r){return _w[r]}function Ba(r){return{fieldPath:r.canonicalString()}}function qa(r){return Qe.fromServerFormat(r.fieldPath)}function vE(r){return r instanceof Oe?(function(i){if(i.op==="=="){if(uv(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NAN"}};if(ov(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(uv(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NOT_NAN"}};if(ov(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ba(i.field),op:xw(i.op),value:i.value}}})(r):r instanceof xi?(function(i){const a=i.getFilters().map((o=>vE(o)));return a.length===1?a[0]:{compositeFilter:{op:Dw(i.op),filters:a}}})(r):gt(54877,{filter:r})}function Ow(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function EE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Hs{constructor(t,i,a,o,c=_t.min(),d=_t.min(),p=Ke.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=v}withSequenceNumber(t){return new Hs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Mw{constructor(t){this.yt=t}}function Vw(r){const t=Cw({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?im(t,t.limit,"L"):t}class kw{constructor(){this.Cn=new Uw}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve($s.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve($s.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class Uw{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i]||new Me(ie.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(t){return(this.index[t]||new Me(ie.comparator)).toArray()}}const Av={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},TE=41943040;class hn{static withCacheSize(t){return new hn(t,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(TE,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class el{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new el(0)}static cr(){return new el(-1)}}const Sv="LruGarbageCollector",Lw=1048576;function wv([r,t],[i,a]){const o=Mt(r,i);return o===0?Mt(t,a):o}class Pw{constructor(t){this.Ir=t,this.buffer=new Me(wv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();wv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class zw{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){st(Sv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ll(i)?st(Sv,"Ignoring IndexedDB error during garbage collection: ",i):await al(i)}await this.Vr(3e5)}))}}class jw{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(sh.ce);const a=new Pw(i);return this.mr.forEachTarget(t,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Av)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Av):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,o,c,d,p,v,y;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,d=Date.now(),this.nthSequenceNumber(t,o)))).next((A=>(a=A,p=Date.now(),this.removeTargets(t,a,i)))).next((A=>(c=A,v=Date.now(),this.removeOrphanedDocuments(t,a)))).next((A=>(y=Date.now(),za()<=Ot.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(v-p)+`ms
	Removed ${A} documents in `+(y-v)+`ms
Total Duration: ${y-b}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:A}))))}}function Bw(r,t){return new jw(r,t)}class qw{constructor(){this.changes=new Kr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,$e.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Hw{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class Gw{constructor(t,i,a,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(a!==null&&wo(a.mutation,o,bn.empty(),se.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Vt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Vt()){const o=zr();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,a).next((c=>{let d=_o();return c.forEach(((p,v)=>{d=d.insert(p,v.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=zr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Vt())))}populateOverlays(t,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(t,o).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,o){let c=es();const d=So(),p=(function(){return So()})();return i.forEach(((v,y)=>{const b=a.get(y.key);o.has(y.key)&&(b===void 0||b.mutation instanceof rr)?c=c.insert(y.key,y):b!==void 0?(d.set(y.key,b.mutation.getFieldMask()),wo(b.mutation,y,b.mutation.getFieldMask(),se.now())):d.set(y.key,bn.empty())})),this.recalculateAndSaveOverlays(t,c).next((v=>(v.forEach(((y,b)=>d.set(y,b))),i.forEach(((y,b)=>p.set(y,new Hw(b,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=So();let o=new oe(((d,p)=>d-p)),c=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((v=>{const y=i.get(v);if(y===null)return;let b=a.get(v)||bn.empty();b=p.applyToLocalView(y,b),a.set(v,b);const A=(o.get(p.batchId)||Vt()).add(v);o=o.insert(p.batchId,A)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const v=p.getNext(),y=v.key,b=v.value,A=iE();b.forEach((M=>{if(!c.has(M)){const Q=uE(i.get(M),a.get(M));Q!==null&&A.set(M,Q),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,A))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,o){return(function(d){return ht.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):FS(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,o):this.getDocumentsMatchingCollectionQuery(t,i,a,o)}getNextDocuments(t,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,o-c.size):X.resolve(zr());let p=Io,v=c;return d.next((y=>X.forEach(y,((b,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),c.get(b)?X.resolve():this.remoteDocumentCache.getEntry(t,b).next((M=>{v=v.insert(b,M)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,v,y,Vt()))).next((b=>({batchId:p,changes:nE(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ht(i)).next((a=>{let o=_o();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,o){const c=i.collectionGroup;let d=_o();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(v=>{const y=(function(A,M){return new lh(M,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(i,v.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,o).next((b=>{b.forEach(((A,M)=>{d=d.insert(A,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,o)))).next((d=>{c.forEach(((v,y)=>{const b=y.getKey();d.get(b)===null&&(d=d.insert(b,$e.newInvalidDocument(b)))}));let p=_o();return d.forEach(((v,y)=>{const b=c.get(v);b!==void 0&&wo(b.mutation,y,bn.empty(),se.now()),uh(i,y)&&(p=p.insert(v,y))})),p}))}}class Fw{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Si(o.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:Vw(o.bundledQuery),readTime:Si(o.readTime)}})(i)),X.resolve()}}class Qw{constructor(){this.overlays=new oe(ht.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=zr();return X.forEach(i,(o=>this.getOverlay(t,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((o,c)=>{this.St(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const o=zr(),c=i.length+1,d=new ht(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const v=p.getNext().value,y=v.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&v.largestBatchId>a&&o.set(v.getKey(),v)}return X.resolve(o)}getOverlaysForCollectionGroup(t,i,a,o){let c=new oe(((y,b)=>y-b));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let b=c.get(y.largestBatchId);b===null&&(b=zr(),c=c.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const p=zr(),v=c.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((y,b)=>p.set(y,b))),!(p.size()>=o)););return X.resolve(p)}St(t,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new cw(i,a));let c=this.qr.get(i);c===void 0&&(c=Vt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class Kw{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Lm{constructor(){this.Qr=new Me(Le.$r),this.Ur=new Me(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Le(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Le(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new ht(new ie([])),a=new Le(i,t),o=new Le(i,t+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ht(new ie([])),a=new Le(i,t),o=new Le(i,t+1);let c=Vt();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Le(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Le{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ht.comparator(t.key,i.key)||Mt(t.Yr,i.Yr)}static Kr(t,i){return Mt(t.Yr,i.Yr)||ht.comparator(t.key,i.key)}}class Yw{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Me(Le.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new uw(c,i,a,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new Le(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Rm:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Le(i,0),o=new Le(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const p=this.Xr(d.Yr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Me(Mt);return i.forEach((o=>{const c=new Le(o,0),d=new Le(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,o=a.length+1;let c=a;ht.isDocumentKey(c)||(c=c.child(""));const d=new Le(new ht(c),0);let p=new Me(Mt);return this.Zr.forEachWhile((v=>{const y=v.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(p=p.add(v.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){Ht(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(o=>{const c=new Le(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Le(i,0),o=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Xw{constructor(t){this.ri=t,this.docs=(function(){return new oe(ht.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():$e.newInvalidDocument(i))}getEntries(t,i){let a=es();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():$e.newInvalidDocument(o))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,o){let c=es();const d=i.path,p=new ht(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(p);for(;v.hasNext();){const{key:y,value:{document:b}}=v.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||bS(TS(b),a)<=0||(o.has(b.key)||uh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,o){gt(9500)}ii(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new Zw(this)}getSize(t){return X.resolve(this.size)}}class Zw extends qw{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class $w{constructor(t){this.persistence=t,this.si=new Kr((i=>Nm(i)),xm),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.oi=0,this._i=new Lm,this.targetCount=0,this.ai=el.ur()}forEachTarget(t,i){return this.si.forEach(((a,o)=>i(o))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new el(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let o=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)})),X.waitFor(c).next((()=>o))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}class bE{constructor(t,i){this.ui={},this.overlays={},this.ci=new sh(0),this.li=!1,this.li=!0,this.hi=new Kw,this.referenceDelegate=t(this),this.Pi=new $w(this),this.indexManager=new kw,this.remoteDocumentCache=(function(o){return new Xw(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new Mw(i),this.Ii=new Fw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Qw,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new Yw(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){st("MemoryPersistence","Starting transaction:",t);const o=new Jw(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(t,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class Jw extends SS{constructor(t){super(),this.currentSequenceNumber=t}}class Pm{constructor(t){this.persistence=t,this.Ri=new Lm,this.Vi=null}static mi(t){return new Pm(t)}get fi(){if(this.Vi)return this.Vi;throw gt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const o=ht.fromPath(a);return this.gi(t,o).next((c=>{c||i.removeEntry(o,_t.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Qc{constructor(t,i){this.persistence=t,this.pi=new Kr((a=>CS(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=Bw(this,i)}static mi(t,i){return new Qc(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((o=>a+o))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((a,o)=>this.br(t,a,o).next((c=>c?X.resolve():i(o)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,_t.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Cc(t.data.value)),i}br(t,i,a){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return X.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class zm{constructor(t,i,a,o){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=o}static As(t,i){let a=Vt(),o=Vt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new zm(t,i.fromCache,a,o)}}class Ww{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class t2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Hb()?8:wS(Je())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,o){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new Ww;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,o){return a.documentReadCount<this.fs?(za()<=Ot.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",ja(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(za()<=Ot.DEBUG&&st("QueryEngine","Query:",ja(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(za()<=Ot.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",ja(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ai(i))):X.resolve())}ys(t,i){if(dv(i))return X.resolve(null);let a=Ai(i);return this.indexManager.getIndexType(t,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=im(i,null,"F"),a=Ai(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Vt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((v=>{const y=this.Ds(i,p);return this.Cs(i,y,d,v.readTime)?this.ys(t,im(i,null,"F")):this.vs(t,y,i,v)}))))})))))}ws(t,i,a,o){return dv(i)||o.isEqual(_t.min())?X.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?X.resolve(null):(za()<=Ot.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ja(i)),this.vs(t,d,i,ES(o,Io)).next((p=>p)))}))}Ds(t,i){let a=new Me(tE(t));return i.forEach(((o,c)=>{uh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,o){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(t,i,a){return za()<=Ot.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",ja(i)),this.ps.getDocumentsMatchingQuery(t,i,$s.min(),a)}vs(t,i,a,o){return this.ps.getDocumentsMatchingQuery(t,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const jm="LocalStore",e2=3e8;class n2{constructor(t,i,a,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new oe(Mt),this.xs=new Kr((c=>Nm(c)),xm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Gw(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function i2(r,t,i,a){return new n2(r,t,i,a)}async function AE(r,t){const i=Tt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let v=Vt();for(const y of o){d.push(y.batchId);for(const b of y.mutations)v=v.add(b.key)}for(const y of c){p.push(y.batchId);for(const b of y.mutations)v=v.add(b.key)}return i.localDocuments.getDocuments(a,v).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function s2(r,t){const i=Tt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,v,y,b){const A=y.batch,M=A.keys();let Q=X.resolve();return M.forEach((W=>{Q=Q.next((()=>b.getEntry(v,W))).next((Z=>{const tt=y.docVersions.get(W);Ht(tt!==null,48541),Z.version.compareTo(tt)<0&&(A.applyToRemoteDocument(Z,y),Z.isValidDocument()&&(Z.setReadTime(y.commitVersion),b.addEntry(Z)))}))})),Q.next((()=>p.mutationQueue.removeMutationBatch(v,A)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let v=Vt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(v=v.add(p.batch.mutations[y].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function SE(r){const t=Tt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function r2(r,t){const i=Tt(r),a=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];t.targetChanges.forEach(((b,A)=>{const M=o.get(A);if(!M)return;p.push(i.Pi.removeMatchingKeys(c,b.removedDocuments,A).next((()=>i.Pi.addMatchingKeys(c,b.addedDocuments,A))));let Q=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(A)!==null?Q=Q.withResumeToken(Ke.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):b.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(b.resumeToken,a)),o=o.insert(A,Q),(function(Z,tt,ft){return Z.resumeToken.approximateByteSize()===0||tt.snapshotVersion.toMicroseconds()-Z.snapshotVersion.toMicroseconds()>=e2?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0})(M,Q,b)&&p.push(i.Pi.updateTargetData(c,Q))}));let v=es(),y=Vt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),p.push(a2(c,d,t.documentUpdates).next((b=>{v=b.ks,y=b.qs}))),!a.isEqual(_t.min())){const b=i.Pi.getLastRemoteSnapshotVersion(c).next((A=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(b)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,v,y))).next((()=>v))})).then((c=>(i.Ms=o,c)))}function a2(r,t,i){let a=Vt(),o=Vt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=es();return i.forEach(((p,v)=>{const y=c.get(p);v.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),v.isNoDocument()&&v.version.isEqual(_t.min())?(t.removeEntry(p,v.readTime),d=d.insert(p,v)):!y.isValidDocument()||v.version.compareTo(y.version)>0||v.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(v),d=d.insert(p,v)):st(jm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",v.version)})),{ks:d,qs:o}}))}function l2(r,t){const i=Tt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Rm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function o2(r,t){const i=Tt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,t).next((c=>c?(o=c,X.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new Hs(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function om(r,t,i){const a=Tt(r),o=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!ll(d))throw d;st(jm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(o.target)}function Rv(r,t,i){const a=Tt(r);let o=_t.min(),c=Vt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(v,y,b){const A=Tt(v),M=A.xs.get(b);return M!==void 0?X.resolve(A.Ms.get(M)):A.Pi.getTargetData(y,b)})(a,d,Ai(t)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((v=>{c=v}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?o:_t.min(),i?c:Vt()))).next((p=>(u2(a,KS(t),p),{documents:p,Qs:c})))))}function u2(r,t,i){let a=r.Os.get(t)||_t.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class Cv{constructor(){this.activeTargetIds=WS()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class c2{constructor(){this.Mo=new Cv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Cv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class h2{Oo(t){}shutdown(){}}const Iv="ConnectivityMonitor";class Nv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){st(Iv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){st(Iv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Sc=null;function um(){return Sc===null?Sc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Sc++,"0x"+Sc.toString(16)}const zd="RestConnection",f2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class d2{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===zc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(t,i,a,o,c){const d=um(),p=this.zo(t,i.toUriEncodedString());st(zd,`Sending RPC '${t}' ${d}:`,p,a);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,o,c);const{host:y}=new URL(p),b=il(y);return this.Jo(t,p,v,a,b).then((A=>(st(zd,`Received RPC '${t}' ${d}: `,A),A)),(A=>{throw Za(zd,`RPC '${t}' ${d} failed with error: `,A,"url: ",p,"request:",a),A}))}Ho(t,i,a,o,c,d){return this.Go(t,i,a,o,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+rl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>t[c]=o)),a&&a.headers.forEach(((o,c)=>t[c]=o))}zo(t,i){const a=f2[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class m2{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Xe="WebChannelConnection";class g2 extends d2{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,o,c){const d=um();return new Promise(((p,v)=>{const y=new I0;y.setWithCredentials(!0),y.listenOnce(N0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Rc.NO_ERROR:const A=y.getResponseJson();st(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(A)),p(A);break;case Rc.TIMEOUT:st(Xe,`RPC '${t}' ${d} timed out`),v(new lt($.DEADLINE_EXCEEDED,"Request time out"));break;case Rc.HTTP_ERROR:const M=y.getStatus();if(st(Xe,`RPC '${t}' ${d} failed with status:`,M,"response text:",y.getResponseText()),M>0){let Q=y.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const W=Q?.error;if(W&&W.status&&W.message){const Z=(function(ft){const vt=ft.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(vt)>=0?vt:$.UNKNOWN})(W.status);v(new lt(Z,W.message))}else v(new lt($.UNKNOWN,"Server responded with status "+y.getStatus()))}else v(new lt($.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{st(Xe,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(o);st(Xe,`RPC '${t}' ${d} sending request:`,o),y.send(i,"POST",b,a,15)}))}T_(t,i,a){const o=um(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=O0(),p=D0(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(v.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,a),v.encodeInitMessageHeaders=!0;const b=c.join("");st(Xe,`Creating RPC '${t}' stream ${o}: ${b}`,v);const A=d.createWebChannel(b,v);this.I_(A);let M=!1,Q=!1;const W=new m2({Yo:tt=>{Q?st(Xe,`Not sending because RPC '${t}' stream ${o} is closed:`,tt):(M||(st(Xe,`Opening RPC '${t}' stream ${o} transport.`),A.open(),M=!0),st(Xe,`RPC '${t}' stream ${o} sending:`,tt),A.send(tt))},Zo:()=>A.close()}),Z=(tt,ft,vt)=>{tt.listen(ft,(mt=>{try{vt(mt)}catch(It){setTimeout((()=>{throw It}),0)}}))};return Z(A,yo.EventType.OPEN,(()=>{Q||(st(Xe,`RPC '${t}' stream ${o} transport opened.`),W.o_())})),Z(A,yo.EventType.CLOSE,(()=>{Q||(Q=!0,st(Xe,`RPC '${t}' stream ${o} transport closed`),W.a_(),this.E_(A))})),Z(A,yo.EventType.ERROR,(tt=>{Q||(Q=!0,Za(Xe,`RPC '${t}' stream ${o} transport errored. Name:`,tt.name,"Message:",tt.message),W.a_(new lt($.UNAVAILABLE,"The operation could not be completed")))})),Z(A,yo.EventType.MESSAGE,(tt=>{if(!Q){const ft=tt.data[0];Ht(!!ft,16349);const vt=ft,mt=vt?.error||vt[0]?.error;if(mt){st(Xe,`RPC '${t}' stream ${o} received error:`,mt);const It=mt.status;let Jt=(function(S){const N=Re[S];if(N!==void 0)return hE(N)})(It),kt=mt.message;Jt===void 0&&(Jt=$.INTERNAL,kt="Unknown error status: "+It+" with message "+mt.message),Q=!0,W.a_(new lt(Jt,kt)),A.close()}else st(Xe,`RPC '${t}' stream ${o} received:`,ft),W.u_(ft)}})),Z(p,x0.STAT_EVENT,(tt=>{tt.stat===$d.PROXY?st(Xe,`RPC '${t}' stream ${o} detected buffering proxy`):tt.stat===$d.NOPROXY&&st(Xe,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function jd(){return typeof document<"u"?document:null}function dh(r){return new vw(r,!0)}class wE{constructor(t,i,a=1e3,o=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&st("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const xv="PersistentStream";class RE{constructor(t,i,a,o,c,d,p,v){this.Mi=t,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new wE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(ts(i.toString()),ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{t((()=>{const o=new lt($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return st(xv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(st(xv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class p2 extends RE{constructor(t,i,a,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=bw(this.serializer,t),a=(function(c){if(!("targetChange"in c))return _t.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?Si(d.readTime):_t.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=lm(this.serializer),i.addTarget=(function(c,d){let p;const v=d.target;if(p=nm(v)?{documents:ww(c,v)}:{query:Rw(c,v).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=mE(c,d.resumeToken);const y=sm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(_t.min())>0){p.readTime=Fc(c,d.snapshotVersion.toTimestamp());const y=sm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const a=Iw(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=lm(this.serializer),i.removeTarget=t,this.q_(i)}}class y2 extends RE{constructor(t,i,a,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=Sw(t.writeResults,t.commitTime),a=Si(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=lm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>Aw(this.serializer,a)))};this.q_(i)}}class _2{}class v2 extends _2{constructor(t,i,a,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new lt($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,rm(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new lt($.UNKNOWN,c.toString())}))}Ho(t,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,rm(i,a),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class E2{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ts(i),this.aa=!1):st("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Gr="RemoteStore";class T2{constructor(t,i,a,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Yr(this)&&(st(Gr,"Restarting streams for network reachability change."),await(async function(v){const y=Tt(v);y.Ea.add(4),await zo(y),y.Ra.set("Unknown"),y.Ea.delete(4),await mh(y)})(this))}))})),this.Ra=new E2(a,o)}}async function mh(r){if(Yr(r))for(const t of r.da)await t(!0)}async function zo(r){for(const t of r.da)await t(!1)}function CE(r,t){const i=Tt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Gm(i)?Hm(i):ol(i).O_()&&qm(i,t))}function Bm(r,t){const i=Tt(r),a=ol(i);i.Ia.delete(t),a.O_()&&IE(i,t),i.Ia.size===0&&(a.O_()?a.L_():Yr(i)&&i.Ra.set("Unknown"))}function qm(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_t.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}ol(r).Y_(t)}function IE(r,t){r.Va.Ue(t),ol(r).Z_(t)}function Hm(r){r.Va=new gw({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),ol(r).start(),r.Ra.ua()}function Gm(r){return Yr(r)&&!ol(r).x_()&&r.Ia.size>0}function Yr(r){return Tt(r).Ea.size===0}function NE(r){r.Va=void 0}async function b2(r){r.Ra.set("Online")}async function A2(r){r.Ia.forEach(((t,i)=>{qm(r,t)}))}async function S2(r,t){NE(r),Gm(r)?(r.Ra.ha(t),Hm(r)):r.Ra.set("Unknown")}async function w2(r,t,i){if(r.Ra.set("Online"),t instanceof dE&&t.state===2&&t.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(r,t)}catch(a){st(Gr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Kc(r,a)}else if(t instanceof xc?r.Va.Ze(t):t instanceof fE?r.Va.st(t):r.Va.tt(t),!i.isEqual(_t.min()))try{const a=await SE(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((v,y)=>{if(v.resumeToken.approximateByteSize()>0){const b=c.Ia.get(y);b&&c.Ia.set(y,b.withResumeToken(v.resumeToken,d))}})),p.targetMismatches.forEach(((v,y)=>{const b=c.Ia.get(v);if(!b)return;c.Ia.set(v,b.withResumeToken(Ke.EMPTY_BYTE_STRING,b.snapshotVersion)),IE(c,v);const A=new Hs(b.target,v,y,b.sequenceNumber);qm(c,A)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){st(Gr,"Failed to raise snapshot:",a),await Kc(r,a)}}async function Kc(r,t,i){if(!ll(t))throw t;r.Ea.add(1),await zo(r),r.Ra.set("Offline"),i||(i=()=>SE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{st(Gr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await mh(r)}))}function xE(r,t){return t().catch((i=>Kc(r,i,t)))}async function gh(r){const t=Tt(r),i=er(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Rm;for(;R2(t);)try{const o=await l2(t.localStore,a);if(o===null){t.Ta.length===0&&i.L_();break}a=o.batchId,C2(t,o)}catch(o){await Kc(t,o)}DE(t)&&OE(t)}function R2(r){return Yr(r)&&r.Ta.length<10}function C2(r,t){r.Ta.push(t);const i=er(r);i.O_()&&i.X_&&i.ea(t.mutations)}function DE(r){return Yr(r)&&!er(r).x_()&&r.Ta.length>0}function OE(r){er(r).start()}async function I2(r){er(r).ra()}async function N2(r){const t=er(r);for(const i of r.Ta)t.ea(i.mutations)}async function x2(r,t,i){const a=r.Ta.shift(),o=Vm.from(a,t,i);await xE(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await gh(r)}async function D2(r,t){t&&er(r).X_&&await(async function(a,o){if((function(d){return fw(d)&&d!==$.ABORTED})(o.code)){const c=a.Ta.shift();er(a).B_(),await xE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await gh(a)}})(r,t),DE(r)&&OE(r)}async function Dv(r,t){const i=Tt(r);i.asyncQueue.verifyOperationInProgress(),st(Gr,"RemoteStore received new credentials");const a=Yr(i);i.Ea.add(3),await zo(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await mh(i)}async function O2(r,t){const i=Tt(r);t?(i.Ea.delete(2),await mh(i)):t||(i.Ea.add(2),await zo(i),i.Ra.set("Unknown"))}function ol(r){return r.ma||(r.ma=(function(i,a,o){const c=Tt(i);return c.sa(),new p2(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:b2.bind(null,r),t_:A2.bind(null,r),r_:S2.bind(null,r),H_:w2.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Gm(r)?Hm(r):r.Ra.set("Unknown")):(await r.ma.stop(),NE(r))}))),r.ma}function er(r){return r.fa||(r.fa=(function(i,a,o){const c=Tt(i);return c.sa(),new y2(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:I2.bind(null,r),r_:D2.bind(null,r),ta:N2.bind(null,r),na:x2.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await gh(r)):(await r.fa.stop(),r.Ta.length>0&&(st(Gr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Fm{constructor(t,i,a,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,o,c){const d=Date.now()+a,p=new Fm(t,i,d,o,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qm(r,t){if(ts("AsyncQueue",`${t}: ${r}`),ll(r))return new lt($.UNAVAILABLE,`${t}: ${r}`);throw r}class Ga{static emptySet(t){return new Ga(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ht.comparator(i.key,a.key):(i,a)=>ht.comparator(i.key,a.key),this.keyedMap=_o(),this.sortedSet=new oe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ga)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ga;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Ov{constructor(){this.ga=new oe(ht.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):gt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class nl{constructor(t,i,a,o,c,d,p,v,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=v,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,o,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new nl(t,i,Ga.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&oh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class M2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class V2{constructor(){this.queries=Mv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Tt(i),c=o.queries;o.queries=Mv(),c.forEach(((d,p)=>{for(const v of p.Sa)v.onError(a)}))})(this,new lt($.ABORTED,"Firestore shutting down"))}}function Mv(){return new Kr((r=>W0(r)),oh)}async function k2(r,t){const i=Tt(r);let a=3;const o=t.query;let c=i.queries.get(o);c?!c.ba()&&t.Da()&&(a=2):(c=new M2,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=Qm(d,`Initialization of query '${ja(t.query)}' failed`);return void t.onError(p)}i.queries.set(o,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Km(i)}async function U2(r,t){const i=Tt(r),a=t.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=t.Da()?0:1:!c.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function L2(r,t){const i=Tt(r);let a=!1;for(const o of t){const c=o.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(o)&&(a=!0);d.wa=o}}a&&Km(i)}function P2(r,t,i){const a=Tt(r),o=a.queries.get(t);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(t)}function Km(r){r.Ca.forEach((t=>{t.next()}))}var cm,Vv;(Vv=cm||(cm={})).Ma="default",Vv.Cache="cache";class z2{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new nl(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=nl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==cm.Cache}}class ME{constructor(t){this.key=t}}class VE{constructor(t){this.key=t}}class j2{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Vt(),this.mutatedKeys=Vt(),this.eu=tE(t),this.tu=new Ga(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new Ov,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const v=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((b,A)=>{const M=o.get(b),Q=uh(this.query,A)?A:null,W=!!M&&this.mutatedKeys.has(M.key),Z=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let tt=!1;M&&Q?M.data.isEqual(Q.data)?W!==Z&&(a.track({type:3,doc:Q}),tt=!0):this.su(M,Q)||(a.track({type:2,doc:Q}),tt=!0,(v&&this.eu(Q,v)>0||y&&this.eu(Q,y)<0)&&(p=!0)):!M&&Q?(a.track({type:0,doc:Q}),tt=!0):M&&!Q&&(a.track({type:1,doc:M}),tt=!0,(v||y)&&(p=!0)),tt&&(Q?(d=d.add(Q),c=Z?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,o){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,A)=>(function(Q,W){const Z=tt=>{switch(tt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Rt:tt})}};return Z(Q)-Z(W)})(b.type,A.type)||this.eu(b.doc,A.doc))),this.ou(a),o=o??!1;const p=i&&!o?this._u():[],v=this.Xa.size===0&&this.current&&!o?1:0,y=v!==this.Za;return this.Za=v,d.length!==0||y?{snapshot:new nl(this.query,t.tu,c,d,t.mutatedKeys,v===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ov,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Vt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new VE(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new ME(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Vt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return nl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Ym="SyncEngine";class B2{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class q2{constructor(t){this.key=t,this.hu=!1}}class H2{constructor(t,i,a,o,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Kr((p=>W0(p)),oh),this.Iu=new Map,this.Eu=new Set,this.du=new oe(ht.comparator),this.Au=new Map,this.Ru=new Lm,this.Vu={},this.mu=new Map,this.fu=el.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function G2(r,t,i=!0){const a=jE(r);let o;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await kE(a,t,i,!0),o}async function F2(r,t){const i=jE(r);await kE(i,t,!0,!1)}async function kE(r,t,i,a){const o=await o2(r.localStore,Ai(t)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await Q2(r,t,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&CE(r.remoteStore,o),p}async function Q2(r,t,i,a,o){r.pu=(A,M,Q)=>(async function(Z,tt,ft,vt){let mt=tt.view.ru(ft);mt.Cs&&(mt=await Rv(Z.localStore,tt.query,!1).then((({documents:x})=>tt.view.ru(x,mt))));const It=vt&&vt.targetChanges.get(tt.targetId),Jt=vt&&vt.targetMismatches.get(tt.targetId)!=null,kt=tt.view.applyChanges(mt,Z.isPrimaryClient,It,Jt);return Uv(Z,tt.targetId,kt.au),kt.snapshot})(r,A,M,Q);const c=await Rv(r.localStore,t,!0),d=new j2(t,c.Qs),p=d.ru(c.documents),v=Po.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),y=d.applyChanges(p,r.isPrimaryClient,v);Uv(r,i,y.au);const b=new B2(t,i,d);return r.Tu.set(t,b),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function K2(r,t,i){const a=Tt(r),o=a.Tu.get(t),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!oh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await om(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Bm(a.remoteStore,o.targetId),hm(a,o.targetId)})).catch(al)):(hm(a,o.targetId),await om(a.localStore,o.targetId,!0))}async function Y2(r,t){const i=Tt(r),a=i.Tu.get(t),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Bm(i.remoteStore,a.targetId))}async function X2(r,t,i){const a=nR(r);try{const o=await(function(d,p){const v=Tt(d),y=se.now(),b=p.reduce(((Q,W)=>Q.add(W.key)),Vt());let A,M;return v.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let W=es(),Z=Vt();return v.Ns.getEntries(Q,b).next((tt=>{W=tt,W.forEach(((ft,vt)=>{vt.isValidDocument()||(Z=Z.add(ft))}))})).next((()=>v.localDocuments.getOverlayedDocuments(Q,W))).next((tt=>{A=tt;const ft=[];for(const vt of p){const mt=lw(vt,A.get(vt.key).overlayedDocument);mt!=null&&ft.push(new rr(vt.key,mt,Q0(mt.value.mapValue),Ln.exists(!0)))}return v.mutationQueue.addMutationBatch(Q,y,ft,p)})).next((tt=>{M=tt;const ft=tt.applyToLocalDocumentSet(A,Z);return v.documentOverlayCache.saveOverlays(Q,tt.batchId,ft)}))})).then((()=>({batchId:M.batchId,changes:nE(A)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),(function(d,p,v){let y=d.Vu[d.currentUser.toKey()];y||(y=new oe(Mt)),y=y.insert(p,v),d.Vu[d.currentUser.toKey()]=y})(a,o.batchId,i),await jo(a,o.changes),await gh(a.remoteStore)}catch(o){const c=Qm(o,"Failed to persist write");i.reject(c)}}async function UE(r,t){const i=Tt(r);try{const a=await r2(i.localStore,t);t.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ht(d.hu,14607):o.removedDocuments.size>0&&(Ht(d.hu,42227),d.hu=!1))})),await jo(i,a,t)}catch(a){await al(a)}}function kv(r,t,i){const a=Tt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const v=Tt(d);v.onlineState=p;let y=!1;v.queries.forEach(((b,A)=>{for(const M of A.Sa)M.va(p)&&(y=!0)})),y&&Km(v)})(a.eventManager,t),o.length&&a.Pu.H_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function Z2(r,t,i){const a=Tt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const o=a.Au.get(t),c=o&&o.key;if(c){let d=new oe(ht.comparator);d=d.insert(c,$e.newNoDocument(c,_t.min()));const p=Vt().add(c),v=new fh(_t.min(),new Map,new oe(Mt),d,p);await UE(a,v),a.du=a.du.remove(c),a.Au.delete(t),Xm(a)}else await om(a.localStore,t,!1).then((()=>hm(a,t,i))).catch(al)}async function $2(r,t){const i=Tt(r),a=t.batch.batchId;try{const o=await s2(i.localStore,t);PE(i,a,null),LE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await jo(i,o)}catch(o){await al(o)}}async function J2(r,t,i){const a=Tt(r);try{const o=await(function(d,p){const v=Tt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return v.mutationQueue.lookupMutationBatch(y,p).next((A=>(Ht(A!==null,37113),b=A.keys(),v.mutationQueue.removeMutationBatch(y,A)))).next((()=>v.mutationQueue.performConsistencyCheck(y))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(y,b,p))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>v.localDocuments.getDocuments(y,b)))}))})(a.localStore,t);PE(a,t,i),LE(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await jo(a,o)}catch(o){await al(o)}}function LE(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function PE(r,t,i){const a=Tt(r);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),a.Vu[a.currentUser.toKey()]=o}}function hm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||zE(r,a)}))}function zE(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(Bm(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),Xm(r))}function Uv(r,t,i){for(const a of i)a instanceof ME?(r.Ru.addReference(a.key,t),W2(r,a)):a instanceof VE?(st(Ym,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||zE(r,a.key)):gt(19791,{wu:a})}function W2(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(st(Ym,"New document in limbo: "+i),r.Eu.add(a),Xm(r))}function Xm(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new ht(ie.fromString(t)),a=r.fu.next();r.Au.set(a,new q2(i)),r.du=r.du.insert(i,a),CE(r.remoteStore,new Hs(Ai(Dm(i.path)),a,"TargetPurposeLimboResolution",sh.ce))}}async function jo(r,t,i){const a=Tt(r),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,v)=>{d.push(a.pu(v,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const b=y?!y.fromCache:i?.targetChanges.get(v.targetId)?.current;a.sharedClientState.updateQueryState(v.targetId,b?"current":"not-current")}if(y){o.push(y);const b=zm.As(v.targetId,y);c.push(b)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(v,y){const b=Tt(v);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>X.forEach(y,(M=>X.forEach(M.Es,(Q=>b.persistence.referenceDelegate.addReference(A,M.targetId,Q))).next((()=>X.forEach(M.ds,(Q=>b.persistence.referenceDelegate.removeReference(A,M.targetId,Q)))))))))}catch(A){if(!ll(A))throw A;st(jm,"Failed to update sequence numbers: "+A)}for(const A of y){const M=A.targetId;if(!A.fromCache){const Q=b.Ms.get(M),W=Q.snapshotVersion,Z=Q.withLastLimboFreeSnapshotVersion(W);b.Ms=b.Ms.insert(M,Z)}}})(a.localStore,c))}async function tR(r,t){const i=Tt(r);if(!i.currentUser.isEqual(t)){st(Ym,"User change. New user:",t.toKey());const a=await AE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((v=>{v.reject(new lt($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await jo(i,a.Ls)}}function eR(r,t){const i=Tt(r),a=i.Au.get(t);if(a&&a.hu)return Vt().add(a.key);{let o=Vt();const c=i.Iu.get(t);if(!c)return o;for(const d of c){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function jE(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=UE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=eR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Z2.bind(null,t),t.Pu.H_=L2.bind(null,t.eventManager),t.Pu.yu=P2.bind(null,t.eventManager),t}function nR(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=J2.bind(null,t),t}class Yc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=dh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return i2(this.persistence,new t2,t.initialUser,this.serializer)}Cu(t){return new bE(Pm.mi,this.serializer)}Du(t){return new c2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yc.provider={build:()=>new Yc};class iR extends Yc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ht(this.persistence.referenceDelegate instanceof Qc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new zw(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new bE((a=>Qc.mi(a,i)),this.serializer)}}class fm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>kv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=tR.bind(null,this.syncEngine),await O2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new V2})()}createDatastore(t){const i=dh(t.databaseInfo.databaseId),a=(function(c){return new g2(c)})(t.databaseInfo);return(function(c,d,p,v){return new v2(c,d,p,v)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,o,c,d,p){return new T2(a,o,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>kv(this.syncEngine,i,0)),(function(){return Nv.v()?new Nv:new h2})())}createSyncEngine(t,i){return(function(o,c,d,p,v,y,b){const A=new H2(o,c,d,p,v,y);return b&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Tt(i);st(Gr,"RemoteStore shutting down."),a.Ea.add(5),await zo(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}fm.provider={build:()=>new fm};class sR{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ts("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const nr="FirestoreClient";class rR{constructor(t,i,a,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=Ze.UNAUTHENTICATED,this.clientId=Sm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{st(nr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(st(nr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Qm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Bd(r,t){r.asyncQueue.verifyOperationInProgress(),st(nr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await AE(t.localStore,o),a=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function Lv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await aR(r);st(nr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Dv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>Dv(t.remoteStore,o))),r._onlineComponents=t}async function aR(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){st(nr,"Using user provided OfflineComponentProvider");try{await Bd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Za("Error using user provided cache. Falling back to memory cache: "+i),await Bd(r,new Yc)}}else st(nr,"Using default OfflineComponentProvider"),await Bd(r,new iR(void 0));return r._offlineComponents}async function BE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(st(nr,"Using user provided OnlineComponentProvider"),await Lv(r,r._uninitializedComponentsProvider._online)):(st(nr,"Using default OnlineComponentProvider"),await Lv(r,new fm))),r._onlineComponents}function lR(r){return BE(r).then((t=>t.syncEngine))}async function Pv(r){const t=await BE(r),i=t.eventManager;return i.onListen=G2.bind(null,t.syncEngine),i.onUnlisten=K2.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=F2.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=Y2.bind(null,t.syncEngine),i}function qE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const zv=new Map;const HE="firestore.googleapis.com",jv=!0;class Bv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new lt($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=HE,this.ssl=jv}else this.host=t.host,this.ssl=t.ssl??jv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=TE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Lw)throw new lt($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}vS("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qE(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new lt($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new lt($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new lt($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class ph{constructor(t,i,a,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Bv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Bv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new uS;switch(a.type){case"firstParty":return new dS(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new lt($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=zv.get(i);a&&(st("ComponentProvider","Removing Datastore"),zv.delete(i),a.terminate())})(this),Promise.resolve()}}function oR(r,t,i,a={}){r=bi(r,ph);const o=il(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;o&&(v0(`https://${p}`),E0("Firestore",!0)),c.host!==HE&&c.host!==p&&Za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...c,host:p,ssl:o,emulatorOptions:a};if(!Zs(v,d)&&(r._setSettings(v),a.mockUserToken)){let y,b;if(typeof a.mockUserToken=="string")y=a.mockUserToken,b=Ze.MOCK_USER;else{y=Vb(a.mockUserToken,r._app?.options.projectId);const A=a.mockUserToken.sub||a.mockUserToken.user_id;if(!A)throw new lt($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Ze(A)}r._authCredentials=new cS(new V0(y,b))}}class yh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new yh(this.firestore,t,this._query)}}class Ie{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ys(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ie(this.firestore,t,this._key)}toJSON(){return{type:Ie._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Uo(i,Ie._jsonSchema))return new Ie(t,a||null,new ht(ie.fromString(i.referencePath)))}}Ie._jsonSchemaVersion="firestore/documentReference/1.0",Ie._jsonSchema={type:Ce("string",Ie._jsonSchemaVersion),referencePath:Ce("string")};class Ys extends yh{constructor(t,i,a){super(t,i,Dm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ie(this.firestore,null,new ht(t))}withConverter(t){return new Ys(this.firestore,t,this._path)}}function qd(r,t,...i){if(r=nn(r),k0("collection","path",t),r instanceof ph){const a=ie.fromString(t,...i);return tv(a),new Ys(r,null,a)}{if(!(r instanceof Ie||r instanceof Ys))throw new lt($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ie.fromString(t,...i));return tv(a),new Ys(r.firestore,null,a)}}function Pr(r,t,...i){if(r=nn(r),arguments.length===1&&(t=Sm.newId()),k0("doc","path",t),r instanceof ph){const a=ie.fromString(t,...i);return W_(a),new Ie(r,null,new ht(a))}{if(!(r instanceof Ie||r instanceof Ys))throw new lt($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ie.fromString(t,...i));return W_(a),new Ie(r.firestore,r instanceof Ys?r.converter:null,new ht(a))}}const qv="AsyncQueue";class Hv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new wE(this,"async_queue_retry"),this._c=()=>{const a=jd();a&&st(qv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=jd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=jd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new jr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ll(t))throw t;st(qv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,ts("INTERNAL UNHANDLED ERROR: ",Gv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=Fm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&gt(47125,{Pc:Gv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Gv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function Fv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Fr extends ph{constructor(t,i,a,o){super(t,i,a,o),this.type="firestore",this._queue=new Hv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Hv(t),this._firestoreClient=void 0,await t}}}function uR(r,t){const i=typeof r=="object"?r:S0(),a=typeof r=="string"?r:zc,o=bm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=Ob("firestore");c&&oR(o,...c)}return o}function GE(r){if(r._terminated)throw new lt($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||cR(r),r._firestoreClient}function cR(r){const t=r._freezeSettings(),i=(function(o,c,d,p){return new xS(o,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,qE(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new rR(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class Un{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Un(Ke.fromBase64String(t))}catch(i){throw new lt($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Un(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Uo(t,Un._jsonSchema))return Un.fromBase64String(t.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:Ce("string",Un._jsonSchemaVersion),bytes:Ce("string")};class _h{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new lt($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class vh{constructor(t){this._methodName=t}}class wi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new lt($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new lt($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Mt(this._lat,t._lat)||Mt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wi._jsonSchemaVersion}}static fromJSON(t){if(Uo(t,wi._jsonSchema))return new wi(t.latitude,t.longitude)}}wi._jsonSchemaVersion="firestore/geoPoint/1.0",wi._jsonSchema={type:Ce("string",wi._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};class Ri{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Uo(t,Ri._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ri(t.vectorValues);throw new lt($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ri._jsonSchemaVersion="firestore/vectorValue/1.0",Ri._jsonSchema={type:Ce("string",Ri._jsonSchemaVersion),vectorValues:Ce("object")};const hR=/^__.*__$/;class fR{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new rr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Lo(t,this.data,i,this.fieldTransforms)}}class FE{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new rr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function QE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{Ac:r})}}class Eh{constructor(t,i,a,o,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Eh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Xc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(QE(this.Ac)&&hR.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class dR{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||dh(t)}Cc(t,i,a,o=!1){return new Eh({Ac:t,methodName:i,Dc:a,path:Qe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zm(r){const t=r._freezeSettings(),i=dh(r._databaseId);return new dR(r._databaseId,!!t.ignoreUndefinedProperties,i)}function KE(r,t,i,a,o,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,o);Jm("Data must be an object, but it was:",d,a);const p=YE(a,d);let v,y;if(c.merge)v=new bn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const A of c.mergeFields){const M=dm(t,A,i);if(!d.contains(M))throw new lt($.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);ZE(b,M)||b.push(M)}v=new bn(b),y=d.fieldTransforms.filter((A=>v.covers(A.field)))}else v=null,y=d.fieldTransforms;return new fR(new fn(p),v,y)}class Th extends vh{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Th}}function mR(r,t,i){return new Eh({Ac:3,Dc:t.settings.Dc,methodName:r._methodName,fc:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class $m extends vh{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=mR(this,t,!0),a=this.vc.map((c=>Bo(c,i))),o=new tl(a);return new iw(t.path,o)}isEqual(t){return t instanceof $m&&Zs(this.vc,t.vc)}}function gR(r,t,i,a){const o=r.Cc(1,t,i);Jm("Data must be an object, but it was:",o,a);const c=[],d=fn.empty();sr(a,((v,y)=>{const b=Wm(t,v,i);y=nn(y);const A=o.yc(b);if(y instanceof Th)c.push(b);else{const M=Bo(y,A);M!=null&&(c.push(b),d.set(b,M))}}));const p=new bn(c);return new FE(d,p,o.fieldTransforms)}function pR(r,t,i,a,o,c){const d=r.Cc(1,t,i),p=[dm(t,a,i)],v=[o];if(c.length%2!=0)throw new lt($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)p.push(dm(t,c[M])),v.push(c[M+1]);const y=[],b=fn.empty();for(let M=p.length-1;M>=0;--M)if(!ZE(y,p[M])){const Q=p[M];let W=v[M];W=nn(W);const Z=d.yc(Q);if(W instanceof Th)y.push(Q);else{const tt=Bo(W,Z);tt!=null&&(y.push(Q),b.set(Q,tt))}}const A=new bn(y);return new FE(b,A,d.fieldTransforms)}function Bo(r,t){if(XE(r=nn(r)))return Jm("Unsupported field value:",t,r),YE(r,t);if(r instanceof vh)return(function(a,o){if(!QE(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const p of a){let v=Bo(p,o.wc(d));v==null&&(v={nullValue:"NULL_VALUE"}),c.push(v),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,o){if((a=nn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return tw(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=se.fromDate(a);return{timestampValue:Fc(o.serializer,c)}}if(a instanceof se){const c=new se(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Fc(o.serializer,c)}}if(a instanceof wi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Un)return{bytesValue:mE(o.serializer,a._byteString)};if(a instanceof Ie){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Um(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Ri)return(function(d,p){return{mapValue:{fields:{[G0]:{stringValue:F0},[jc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Om(p.serializer,y)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${wm(a)}`)})(r,t)}function YE(r,t){const i={};return P0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):sr(r,((a,o)=>{const c=Bo(o,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function XE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof se||r instanceof wi||r instanceof Un||r instanceof Ie||r instanceof vh||r instanceof Ri)}function Jm(r,t,i){if(!XE(i)||!U0(i)){const a=wm(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function dm(r,t,i){if((t=nn(t))instanceof _h)return t._internalPath;if(typeof t=="string")return Wm(r,t);throw Xc("Field path arguments must be of type string or ",r,!1,void 0,i)}const yR=new RegExp("[~\\*/\\[\\]]");function Wm(r,t,i){if(t.search(yR)>=0)throw Xc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new _h(...t.split("."))._internalPath}catch{throw Xc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Xc(r,t,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let v="";return(c||d)&&(v+=" (found",c&&(v+=` in field ${a}`),d&&(v+=` in document ${o}`),v+=")"),new lt($.INVALID_ARGUMENT,p+r+v)}function ZE(r,t){return r.some((i=>i.isEqual(t)))}class $E{constructor(t,i,a,o,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ie(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new _R(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(JE("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class _R extends $E{data(){return super.data()}}function JE(r,t){return typeof t=="string"?Wm(r,t):t instanceof _h?t._internalPath:t._delegate._internalPath}function vR(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new lt($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ER{convertValue(t,i="none"){switch(tr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Ws(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return sr(t,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[jc].arrayValue?.values?.map((a=>pe(a.doubleValue)));return new Ri(i)}convertGeoPoint(t){return new wi(pe(t.latitude),pe(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=ah(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(No(t));default:return null}}convertTimestamp(t){const i=Js(t);return new se(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ie.fromString(t);Ht(EE(a),9688,{name:t});const o=new xo(a.get(1),a.get(3)),c=new ht(a.popFirst(5));return o.isEqual(i)||ts(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function WE(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class Eo{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Br extends $E{constructor(t,i,a,o,c,d){super(t,i,a,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Dc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(JE("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Br._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Br._jsonSchemaVersion="firestore/documentSnapshot/1.0",Br._jsonSchema={type:Ce("string",Br._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class Dc extends Br{data(t={}){return super.data(t)}}class Fa{constructor(t,i,a,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new Eo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Dc(this._firestore,this._userDataWriter,a.key,a,new Eo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const v=new Dc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Eo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const v=new Dc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Eo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,b=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:TR(p.type),doc:v,oldIndex:y,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Fa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Sm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function TR(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:r})}}Fa._jsonSchemaVersion="firestore/querySnapshot/1.0",Fa._jsonSchema={type:Ce("string",Fa._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class tT extends ER{constructor(t){super(),this.firestore=t}convertBytes(t){return new Un(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ie(this.firestore,null,i)}}function bR(r,t,i){r=bi(r,Ie);const a=bi(r.firestore,Fr),o=WE(r.converter,t);return bh(a,[KE(Zm(a),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,Ln.none())])}function Qv(r,t,i,...a){r=bi(r,Ie);const o=bi(r.firestore,Fr),c=Zm(o);let d;return d=typeof(t=nn(t))=="string"||t instanceof _h?pR(c,"updateDoc",r._key,t,i,a):gR(c,"updateDoc",r._key,t),bh(o,[d.toMutation(r._key,Ln.exists(!0))])}function mm(r){return bh(bi(r.firestore,Fr),[new Mm(r._key,Ln.none())])}function AR(r,t){const i=bi(r.firestore,Fr),a=Pr(r),o=WE(r.converter,t);return bh(i,[KE(Zm(r.firestore),"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,Ln.exists(!1))]).then((()=>a))}function Kv(r,...t){r=nn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||Fv(t[a])||(i=t[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Fv(t[a])){const v=t[a];t[a]=v.next?.bind(v),t[a+1]=v.error?.bind(v),t[a+2]=v.complete?.bind(v)}let c,d,p;if(r instanceof Ie)d=bi(r.firestore,Fr),p=Dm(r._key.path),c={next:v=>{t[a]&&t[a](SR(d,r,v))},error:t[a+1],complete:t[a+2]};else{const v=bi(r,yh);d=bi(v.firestore,Fr),p=v._query;const y=new tT(d);c={next:b=>{t[a]&&t[a](new Fa(d,y,v,b))},error:t[a+1],complete:t[a+2]},vR(r._query)}return(function(y,b,A,M){const Q=new sR(M),W=new z2(b,Q,A);return y.asyncQueue.enqueueAndForget((async()=>k2(await Pv(y),W))),()=>{Q.Nu(),y.asyncQueue.enqueueAndForget((async()=>U2(await Pv(y),W)))}})(GE(d),p,o,c)}function bh(r,t){return(function(a,o){const c=new jr;return a.asyncQueue.enqueueAndForget((async()=>X2(await lR(a),o,c))),c.promise})(GE(r),t)}function SR(r,t,i){const a=i.docs.get(t._key),o=new tT(r);return new Br(r,o,t._key,a,new Eo(i.hasPendingWrites,i.fromCache),t.converter)}function wR(...r){return new $m("arrayUnion",r)}(function(t,i=!0){(function(o){rl=o})(sl),Xa(new qr("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new Fr(new hS(a.getProvider("auth-internal")),new mS(d,a.getProvider("app-check-internal")),(function(y,b){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new lt($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xo(y.options.projectId,b)})(d,o),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Qs(X_,Z_,t),Qs(X_,Z_,"esm2020")})();function eT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RR=eT,nT=new Vo("auth","Firebase",eT());const Zc=new Em("@firebase/auth");function CR(r,...t){Zc.logLevel<=Ot.WARN&&Zc.warn(`Auth (${sl}): ${r}`,...t)}function Oc(r,...t){Zc.logLevel<=Ot.ERROR&&Zc.error(`Auth (${sl}): ${r}`,...t)}function ns(r,...t){throw tg(r,...t)}function Ci(r,...t){return tg(r,...t)}function iT(r,t,i){const a={...RR(),[t]:i};return new Vo("auth","Firebase",a).create(t,{appName:r.name})}function Xs(r){return iT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tg(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return nT.create(r,...t)}function yt(r,t,...i){if(!r)throw tg(t,...i)}function $i(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Oc(t),new Error(t)}function is(r,t){r||$i(t)}function gm(){return typeof self<"u"&&self.location?.href||""}function IR(){return Yv()==="http:"||Yv()==="https:"}function Yv(){return typeof self<"u"&&self.location?.protocol||null}function NR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IR()||jb()||"connection"in navigator)?navigator.onLine:!0}function xR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class qo{constructor(t,i){this.shortDelay=t,this.longDelay=i,is(i>t,"Short delay should be less than long delay!"),this.isMobile=Lb()||Bb()}get(){return NR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function eg(r,t){is(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class sT{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$i("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$i("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$i("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const DR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const OR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],MR=new qo(3e4,6e4);function Ah(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function ul(r,t,i,a,o={}){return rT(r,o,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=ko({key:r.config.apiKey,...d}).slice(1),v=await r._getAdditionalHeaders();v["Content-Type"]="application/json",r.languageCode&&(v["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:v,...c};return zb()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&il(r.emulatorConfig.host)&&(y.credentials="include"),sT.fetch()(await lT(r,r.config.apiHost,i,p),y)})}async function rT(r,t,i){r._canInitEmulator=!1;const a={...DR,...t};try{const o=new VR(r),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw wc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[v,y]=p.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw wc(r,"credential-already-in-use",d);if(v==="EMAIL_EXISTS")throw wc(r,"email-already-in-use",d);if(v==="USER_DISABLED")throw wc(r,"user-disabled",d);const b=a[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw iT(r,b,y);ns(r,b)}}catch(o){if(o instanceof ss)throw o;ns(r,"network-request-failed",{message:String(o)})}}async function aT(r,t,i,a,o={}){const c=await ul(r,t,i,a,o);return"mfaPendingCredential"in c&&ns(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function lT(r,t,i,a){const o=`${t}${i}?${a}`,c=r,d=c.config.emulator?eg(r.config,o):`${r.config.apiScheme}://${o}`;return OR.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class VR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ci(this.auth,"network-request-failed")),MR.get())})}}function wc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Ci(r,t,a);return o.customData._tokenResponse=i,o}async function kR(r,t){return ul(r,"POST","/v1/accounts:delete",t)}async function $c(r,t){return ul(r,"POST","/v1/accounts:lookup",t)}function Ro(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function UR(r,t=!1){const i=nn(r),a=await i.getIdToken(t),o=ng(a);yt(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:Ro(Hd(o.auth_time)),issuedAtTime:Ro(Hd(o.iat)),expirationTime:Ro(Hd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Hd(r){return Number(r)*1e3}function ng(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Oc("JWT malformed, contained fewer than 3 sections"),null;try{const o=g0(i);return o?JSON.parse(o):(Oc("Failed to decode base64 JWT payload"),null)}catch(o){return Oc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Xv(r){const t=ng(r);return yt(t,"internal-error"),yt(typeof t.exp<"u","internal-error"),yt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Mo(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof ss&&LR(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function LR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class PR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class pm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ro(this.lastLoginAt),this.creationTime=Ro(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Jc(r){const t=r.auth,i=await r.getIdToken(),a=await Mo(r,$c(t,{idToken:i}));yt(a?.users.length,t,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?oT(o.providerUserInfo):[],d=jR(r.providerData,c),p=r.isAnonymous,v=!(r.email&&o.passwordHash)&&!d?.length,y=p?v:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new pm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,b)}async function zR(r){const t=nn(r);await Jc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function jR(r,t){return[...r.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function oT(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function BR(r,t){const i=await rT(r,{},async()=>{const a=ko({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,d=await lT(r,o,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:p,body:a};return r.emulatorConfig&&il(r.emulatorConfig.host)&&(v.credentials="include"),sT.fetch()(d,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function qR(r,t){return ul(r,"POST","/v2/accounts:revokeToken",Ah(r,t))}class Qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){yt(t.idToken,"internal-error"),yt(typeof t.idToken<"u","internal-error"),yt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Xv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){yt(t.length!==0,"internal-error");const i=Xv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(yt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await BR(t,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new Qa;return a&&(yt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),o&&(yt(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),c&&(yt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Qa,this.toJSON())}_performRefresh(){return $i("not implemented")}}function Ps(r,t){yt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Jn{constructor({uid:t,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new PR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new pm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await Mo(this,this.stsTokenManager.getToken(this.auth,t));return yt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return UR(this,t)}reload(){return zR(this)}_assign(t){this!==t&&(yt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Jn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Jc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject(Xs(this.auth));const t=await this.getIdToken();return await Mo(this,kR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,v=i._redirectEventId??void 0,y=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:A,emailVerified:M,isAnonymous:Q,providerData:W,stsTokenManager:Z}=i;yt(A&&Z,t,"internal-error");const tt=Qa.fromJSON(this.name,Z);yt(typeof A=="string",t,"internal-error"),Ps(a,t.name),Ps(o,t.name),yt(typeof M=="boolean",t,"internal-error"),yt(typeof Q=="boolean",t,"internal-error"),Ps(c,t.name),Ps(d,t.name),Ps(p,t.name),Ps(v,t.name),Ps(y,t.name),Ps(b,t.name);const ft=new Jn({uid:A,auth:t,email:o,emailVerified:M,displayName:a,isAnonymous:Q,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:tt,createdAt:y,lastLoginAt:b});return W&&Array.isArray(W)&&(ft.providerData=W.map(vt=>({...vt}))),v&&(ft._redirectEventId=v),ft}static async _fromIdTokenResponse(t,i,a=!1){const o=new Qa;o.updateFromServerResponse(i);const c=new Jn({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await Jc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const o=i.users[0];yt(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?oT(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,p=new Qa;p.updateFromIdToken(a);const v=new Jn({uid:o.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new pm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(v,y),v}}const Zv=new Map;function Ji(r){is(r instanceof Function,"Expected a class definition");let t=Zv.get(r);return t?(is(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Zv.set(r,t),t)}class uT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}uT.type="NONE";const $v=uT;function Mc(r,t,i){return`firebase:${r}:${t}:${i}`}class Ka{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Mc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Mc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await $c(this.auth,{idToken:t}).catch(()=>{});return i?Jn._fromGetAccountInfoResponse(this.auth,i,t):null}return Jn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Ka(Ji($v),t,a);const o=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||Ji($v);const d=Mc(a,t.config.apiKey,t.name);let p=null;for(const y of i)try{const b=await y._get(d);if(b){let A;if(typeof b=="string"){const M=await $c(t,{idToken:b}).catch(()=>{});if(!M)break;A=await Jn._fromGetAccountInfoResponse(t,M,b)}else A=Jn._fromJSON(t,b);y!==c&&(p=A),c=y;break}}catch{}const v=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!v.length?new Ka(c,t,a):(c=v[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Ka(c,t,a))}}function Jv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(dT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(cT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(gT(t))return"Blackberry";if(pT(t))return"Webos";if(hT(t))return"Safari";if((t.includes("chrome/")||fT(t))&&!t.includes("edge/"))return"Chrome";if(mT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function cT(r=Je()){return/firefox\//i.test(r)}function hT(r=Je()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function fT(r=Je()){return/crios\//i.test(r)}function dT(r=Je()){return/iemobile/i.test(r)}function mT(r=Je()){return/android/i.test(r)}function gT(r=Je()){return/blackberry/i.test(r)}function pT(r=Je()){return/webos/i.test(r)}function ig(r=Je()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function HR(r=Je()){return ig(r)&&!!window.navigator?.standalone}function GR(){return qb()&&document.documentMode===10}function yT(r=Je()){return ig(r)||mT(r)||pT(r)||gT(r)||/windows phone/i.test(r)||dT(r)}function _T(r,t=[]){let i;switch(r){case"Browser":i=Jv(Je());break;case"Worker":i=`${Jv(Je())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${sl}/${a}`}class FR{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const v=t(c);d(v)}catch(v){p(v)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function QR(r,t={}){return ul(r,"GET","/v2/passwordPolicy",Ah(r,t))}const KR=6;class YR{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??KR,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class XR{constructor(t,i,a,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Wv(this),this.idTokenSubscription=new Wv(this),this.beforeStateQueue=new FR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Ji(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ka.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await $c(this,{idToken:t}),a=await Jn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if($n(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Jc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=xR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if($n(this.app))return Promise.reject(Xs(this));const i=t?nn(t):null;return i&&yt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&yt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject(Xs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return $n(this.app)?Promise.reject(Xs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ji(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await QR(this),i=new YR(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Vo("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await qR(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Ji(t)||this._popupRedirectResolver;yt(i,this,"argument-error"),this.redirectPersistenceManager=await Ka.create(this,[Ji(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(yt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,a,o);return()=>{d=!0,v()}}else{const v=t.addObserver(i);return()=>{d=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=_T(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&CR(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Sh(r){return nn(r)}class Wv{constructor(t){this.auth=t,this.observer=null,this.addObserver=Zb(i=>this.observer=i)}get next(){return yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let sg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZR(r){sg=r}function $R(r){return sg.loadJS(r)}function JR(){return sg.gapiScript}function WR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function tC(r,t){const i=bm(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Zs(c,t??{}))return o;ns(o,"already-initialized")}return i.initialize({options:t})}function eC(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Ji);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function nC(r,t,i){const a=Sh(r);yt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,c=vT(t),{host:d,port:p}=iC(t),v=p===null?"":`:${p}`,y={url:`${c}//${d}${v}/`},b=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){yt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),yt(Zs(y,a.config.emulator)&&Zs(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,il(d)?(v0(`${c}//${d}${v}`),E0("Auth",!0)):sC()}function vT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function iC(r){const t=vT(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:t0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:t0(d)}}}function t0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function sC(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class ET{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return $i("not implemented")}_getIdTokenResponse(t){return $i("not implemented")}_linkToIdToken(t,i){return $i("not implemented")}_getReauthenticationResolver(t){return $i("not implemented")}}async function Ya(r,t){return aT(r,"POST","/v1/accounts:signInWithIdp",Ah(r,t))}const rC="http://localhost";class Qr extends ET{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Qr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ns("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new Qr(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ya(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ya(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ya(t,i)}buildRequest(){const t={requestUri:rC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=ko(i)}return t}}class TT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Ho extends TT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class zs extends Ho{constructor(){super("facebook.com")}static credential(t){return Qr._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return zs.credentialFromTaggedObject(t)}static credentialFromError(t){return zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return zs.credential(t.oauthAccessToken)}catch{return null}}}zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";zs.PROVIDER_ID="facebook.com";class js extends Ho{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Qr._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return js.credentialFromTaggedObject(t)}static credentialFromError(t){return js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return js.credential(i,a)}catch{return null}}}js.GOOGLE_SIGN_IN_METHOD="google.com";js.PROVIDER_ID="google.com";class Bs extends Ho{constructor(){super("github.com")}static credential(t){return Qr._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Bs.credentialFromTaggedObject(t)}static credentialFromError(t){return Bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Bs.credential(t.oauthAccessToken)}catch{return null}}}Bs.GITHUB_SIGN_IN_METHOD="github.com";Bs.PROVIDER_ID="github.com";class qs extends Ho{constructor(){super("twitter.com")}static credential(t,i){return Qr._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return qs.credentialFromTaggedObject(t)}static credentialFromError(t){return qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return qs.credential(i,a)}catch{return null}}}qs.TWITTER_SIGN_IN_METHOD="twitter.com";qs.PROVIDER_ID="twitter.com";async function aC(r,t){return aT(r,"POST","/v1/accounts:signUp",Ah(r,t))}class ir{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,o=!1){const c=await Jn._fromIdTokenResponse(t,a,o),d=e0(a);return new ir({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const o=e0(a);return new ir({user:t,providerId:o,_tokenResponse:a,operationType:i})}}function e0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function lC(r){if($n(r.app))return Promise.reject(Xs(r));const t=Sh(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new ir({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await aC(t,{returnSecureToken:!0}),a=await ir._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class Wc extends ss{constructor(t,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Wc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,o){return new Wc(t,i,a,o)}}function bT(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Wc._fromErrorAndOperation(r,c,t,a):c})}async function oC(r,t,i=!1){const a=await Mo(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return ir._forOperation(r,"link",a)}async function uC(r,t,i=!1){const{auth:a}=r;if($n(a.app))return Promise.reject(Xs(a));const o="reauthenticate";try{const c=await Mo(r,bT(a,o,t,r),i);yt(c.idToken,a,"internal-error");const d=ng(c.idToken);yt(d,a,"internal-error");const{sub:p}=d;return yt(r.uid===p,a,"user-mismatch"),ir._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&ns(a,"user-mismatch"),c}}async function cC(r,t,i=!1){if($n(r.app))return Promise.reject(Xs(r));const a="signIn",o=await bT(r,a,t),c=await ir._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(c.user),c}function hC(r,t,i,a){return nn(r).onIdTokenChanged(t,i,a)}function fC(r,t,i){return nn(r).beforeAuthStateChanged(t,i)}const th="__sak";class AT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(th,"1"),this.storage.removeItem(th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const dC=1e3,mC=10;class ST extends AT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&t(i,o,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,v)=>{this.notifyListeners(d,v)});return}const a=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);GR()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,mC):o()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},dC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}ST.type="LOCAL";const gC=ST;class wT extends AT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}wT.type="SESSION";const RT=wT;function pC(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class wh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const a=new wh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const p=Array.from(d).map(async y=>y(i.origin,c)),v=await pC(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}wh.receivers=[];function rg(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class yC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,v)=>{const y=rg("",20);o.port1.start();const b=setTimeout(()=>{v(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(A){const M=A;if(M.data.eventId===y)switch(M.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(M.data.response);break;default:clearTimeout(b),clearTimeout(c),v(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ii(){return window}function _C(r){Ii().location.href=r}function CT(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}async function vC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function EC(){return navigator?.serviceWorker?.controller||null}function TC(){return CT()?self:null}const IT="firebaseLocalStorageDb",bC=1,eh="firebaseLocalStorage",NT="fbase_key";class Go{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Rh(r,t){return r.transaction([eh],t?"readwrite":"readonly").objectStore(eh)}function AC(){const r=indexedDB.deleteDatabase(IT);return new Go(r).toPromise()}function ym(){const r=indexedDB.open(IT,bC);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(eh,{keyPath:NT})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(eh)?t(a):(a.close(),await AC(),t(await ym()))})})}async function n0(r,t,i){const a=Rh(r,!0).put({[NT]:t,value:i});return new Go(a).toPromise()}async function SC(r,t){const i=Rh(r,!1).get(t),a=await new Go(i).toPromise();return a===void 0?null:a.value}function i0(r,t){const i=Rh(r,!0).delete(t);return new Go(i).toPromise()}const wC=800,RC=3;class xT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ym(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>RC)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=wh._getInstance(TC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await vC(),!this.activeServiceWorker)return;this.sender=new yC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||EC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await ym();return await n0(t,th,"1"),await i0(t,th),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>n0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>SC(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>i0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=Rh(o,!1).getAll();return new Go(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xT.type="LOCAL";const CC=xT;new qo(3e4,6e4);function IC(r,t){return t?Ji(t):(yt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class ag extends ET{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ya(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ya(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ya(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function NC(r){return cC(r.auth,new ag(r),r.bypassAuthState)}function xC(r){const{auth:t,user:i}=r;return yt(i,t,"internal-error"),uC(i,new ag(r),r.bypassAuthState)}async function DC(r){const{auth:t,user:i}=r;return yt(i,t,"internal-error"),oC(i,new ag(r),r.bypassAuthState)}class DT{constructor(t,i,a,o,c=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const v={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(v))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return NC;case"linkViaPopup":case"linkViaRedirect":return DC;case"reauthViaPopup":case"reauthViaRedirect":return xC;default:ns(this.auth,"internal-error")}}resolve(t){is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const OC=new qo(2e3,1e4);class Ha extends DT{constructor(t,i,a,o,c){super(t,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,Ha.currentPopupAction&&Ha.currentPopupAction.cancel(),Ha.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return yt(t,this.auth,"internal-error"),t}async onExecution(){is(this.filter.length===1,"Popup operations only handle one event");const t=rg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ha.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,OC.get())};t()}}Ha.currentPopupAction=null;const MC="pendingRedirect",Vc=new Map;class VC extends DT{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Vc.get(this.auth._key());if(!t){try{const a=await kC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Vc.set(this.auth._key(),t)}return this.bypassAuthState||Vc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kC(r,t){const i=PC(t),a=LC(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function UC(r,t){Vc.set(r._key(),t)}function LC(r){return Ji(r._redirectPersistence)}function PC(r){return Mc(MC,r.config.apiKey,r.name)}async function zC(r,t,i=!1){if($n(r.app))return Promise.reject(Xs(r));const a=Sh(r),o=IC(a,t),d=await new VC(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const jC=600*1e3;class BC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!qC(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!OT(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ci(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=jC&&this.cachedEventUids.clear(),this.cachedEventUids.has(s0(t))}saveEventToCache(t){this.cachedEventUids.add(s0(t)),this.lastProcessedEventTime=Date.now()}}function s0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function OT({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function qC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return OT(r);default:return!1}}async function HC(r,t={}){return ul(r,"GET","/v1/projects",t)}const GC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FC=/^https?/;async function QC(r){if(r.config.emulator)return;const{authorizedDomains:t}=await HC(r);for(const i of t)try{if(KC(i))return}catch{}ns(r,"unauthorized-domain")}function KC(r){const t=gm(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!FC.test(i))return!1;if(GC.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const YC=new qo(3e4,6e4);function r0(){const r=Ii().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function XC(r){return new Promise((t,i)=>{function a(){r0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{r0(),i(Ci(r,"network-request-failed"))},timeout:YC.get()})}if(Ii().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ii().gapi?.load)a();else{const o=WR("iframefcb");return Ii()[o]=()=>{gapi.load?a():i(Ci(r,"network-request-failed"))},$R(`${JR()}?onload=${o}`).catch(c=>i(c))}}).catch(t=>{throw kc=null,t})}let kc=null;function ZC(r){return kc=kc||XC(r),kc}const $C=new qo(5e3,15e3),JC="__/auth/iframe",WC="emulator/auth/iframe",tI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nI(r){const t=r.config;yt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?eg(t,WC):`https://${r.config.authDomain}/${JC}`,a={apiKey:t.apiKey,appName:r.name,v:sl},o=eI.get(r.config.apiHost);o&&(a.eid=o);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${ko(a).slice(1)}`}async function iI(r){const t=await ZC(r),i=Ii().gapi;return yt(i,r,"internal-error"),t.open({where:document.body,url:nI(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:tI,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ci(r,"network-request-failed"),p=Ii().setTimeout(()=>{c(d)},$C.get());function v(){Ii().clearTimeout(p),o(a)}a.ping(v).then(v,()=>{c(d)})}))}const sI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rI=500,aI=600,lI="_blank",oI="http://localhost";class a0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function uI(r,t,i,a=rI,o=aI){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const v={...sI,width:a.toString(),height:o.toString(),top:c,left:d},y=Je().toLowerCase();i&&(p=fT(y)?lI:i),cT(y)&&(t=t||oI,v.scrollbars="yes");const b=Object.entries(v).reduce((M,[Q,W])=>`${M}${Q}=${W},`,"");if(HR(y)&&p!=="_self")return cI(t||"",p),new a0(null);const A=window.open(t||"",p,b);yt(A,r,"popup-blocked");try{A.focus()}catch{}return new a0(A)}function cI(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const hI="__/auth/handler",fI="emulator/auth/handler",dI=encodeURIComponent("fac");async function l0(r,t,i,a,o,c){yt(r.config.authDomain,r,"auth-domain-config-required"),yt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:sl,eventId:o};if(t instanceof TT){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",Xb(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,A]of Object.entries({}))d[b]=A}if(t instanceof Ho){const b=t.getScopes().filter(A=>A!=="");b.length>0&&(d.scopes=b.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const v=await r._getAppCheckToken(),y=v?`#${dI}=${encodeURIComponent(v)}`:"";return`${mI(r)}?${ko(p).slice(1)}${y}`}function mI({config:r}){return r.emulator?eg(r,fI):`https://${r.authDomain}/${hI}`}const Gd="webStorageSupport";class gI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=RT,this._completeRedirectFn=zC,this._overrideRedirectResult=UC}async _openPopup(t,i,a,o){is(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await l0(t,i,a,gm(),o);return uI(t,c,rg())}async _openRedirect(t,i,a,o){await this._originValidation(t);const c=await l0(t,i,a,gm(),o);return _C(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(is(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await iI(t),a=new BC(t);return i.register("authEvent",o=>(yt(o?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Gd,{type:Gd},o=>{const c=o?.[0]?.[Gd];c!==void 0&&i(!!c),ns(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=QC(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return yT()||hT()||ig()}}const pI=gI;var o0="@firebase/auth",u0="1.12.0";class yI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function _I(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vI(r){Xa(new qr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;yt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const v={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_T(r)},y=new XR(a,o,c,v);return eC(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Xa(new qr("auth-internal",t=>{const i=Sh(t.getProvider("auth").getImmediate());return(a=>new yI(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qs(o0,u0,_I(r)),Qs(o0,u0,"esm2020")}const EI=300,TI=_0("authIdTokenMaxAge")||EI;let c0=null;const bI=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>TI)return;const o=i?.token;c0!==o&&(c0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function AI(r=S0()){const t=bm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=tC(r,{popupRedirectResolver:pI,persistence:[CC,gC,RT]}),a=_0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=bI(c.toString());fC(i,d,()=>d(i.currentUser)),hC(i,p=>d(p))}}const o=p0("auth");return o&&nC(i,`http://${o}`),i}function SI(){return document.getElementsByTagName("head")?.[0]??document}ZR({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=o=>{const c=Ci("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",SI().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vI("Browser");const wI=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),RI=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),h0=r=>{const t=RI(r);return t.charAt(0).toUpperCase()+t.slice(1)},MT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),CI=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var II={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const NI=$t.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...p},v)=>$t.createElement("svg",{ref:v,...II,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:MT("lucide",o),...!c&&!CI(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,b])=>$t.createElement(y,b)),...Array.isArray(c)?c:[c]]));const Pe=(r,t)=>{const i=$t.forwardRef(({className:a,...o},c)=>$t.createElement(NI,{ref:c,iconNode:t,className:MT(`lucide-${wI(h0(r))}`,`lucide-${r}`,a),...o}));return i.displayName=h0(r),i};const xI=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],DI=Pe("bell",xI);const OI=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],MI=Pe("chevron-right",OI);const VI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],kI=Pe("circle-alert",VI);const UI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],LI=Pe("circle-check",UI);const PI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],zI=Pe("circle-x",PI);const jI=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],BI=Pe("clock",jI);const qI=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],HI=Pe("layout-dashboard",qI);const GI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],FI=Pe("log-out",GI);const QI=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],KI=Pe("map-pin",QI);const YI=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],XI=Pe("message-square",YI);const ZI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$I=Pe("plus",ZI);const JI=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],WI=Pe("search",JI);const tN=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],eN=Pe("settings",tN);const nN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],iN=Pe("shield-alert",nN);const sN=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],rN=Pe("square-pen",sN);const aN=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],lN=Pe("star",aN);const oN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],nh=Pe("trash-2",oN);const uN=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],cN=Pe("upload",uN),_m={apiKey:"AIzaSyCe1kKepWLp8yzGf7A0hTiik3ww2dOl3U8",authDomain:"labor-emotional-apps-d4016.firebaseapp.com",projectId:"labor-emotional-apps-d4016",storageBucket:"labor-emotional-apps-d4016.firebasestorage.app",messagingSenderId:"466148209394",appId:"1:466148209394:web:2fbac969e9fa186c7f966b",measurementId:"G-KYHTYD41B8"},VT=_m.apiKey&&_m.apiKey!=="";let Fd,Zn,kT;if(VT)try{Fd=A0(_m),Zn=uR(Fd),kT=AI(Fd)}catch(r){console.error("Firebase initialization failed:",r)}const Zi="labor-emotional-registry",hN=({setView:r,user:t,notifications:i=[]})=>{const[a,o]=$t.useState(!1);return w.jsx("header",{className:"bg-blue-900 text-white shadow-lg sticky top-0 z-30",children:w.jsxs("div",{className:"container mx-auto px-6 py-3 flex justify-between items-center",children:[w.jsxs("div",{className:"flex items-center gap-4 cursor-pointer",onClick:()=>r("dashboard"),children:[w.jsx("div",{className:"bg-white p-1 rounded-md h-10 flex items-center",children:w.jsx("img",{src:"120_labor.png",alt:"",className:"h-8",onError:c=>c.target.src="https://www.gov.il/BlobFolder/office/labor/he/labor_logo.png"})}),w.jsx("h1",{className:"text-lg font-bold hidden sm:block",children:"  "})]}),w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsxs("div",{className:"relative",children:[w.jsxs("button",{onClick:()=>o(!a),className:"p-2 hover:bg-blue-800 rounded-full transition-colors relative",children:[w.jsx(DI,{size:20}),i.length>0&&w.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-[10px] w-4 h-4 flex items-center justify-center rounded-full border-2 border-blue-900 font-bold",children:i.length})]}),a&&w.jsxs("div",{className:"absolute left-0 mt-2 w-72 bg-white rounded-2xl shadow-2xl border border-slate-200 overflow-hidden z-50 text-slate-800",children:[w.jsx("div",{className:"p-3 border-b bg-slate-50 font-bold text-sm",children:" "}),w.jsx("div",{className:"max-h-64 overflow-y-auto",children:i.length>0?i.map((c,d)=>w.jsxs("div",{className:"p-3 text-xs border-b hover:bg-slate-50 transition-colors",children:[w.jsx("div",{className:"font-bold text-blue-800 mb-1",children:c.title}),w.jsx("p",{className:"text-slate-600",children:c.text})]},d)):w.jsx("div",{className:"p-10 text-center text-slate-400 italic text-xs",children:"  "})})]})]}),w.jsxs("div",{className:"hidden md:flex flex-col items-end ml-4 text-[10px] opacity-80 text-left",dir:"ltr",children:[w.jsxs("span",{className:"font-bold text-blue-200",children:[", ",t?.name]}),w.jsx("span",{children:t?.isAdmin?" ":t?.isProvider?" ":` : ${t?.id}`})]}),t?.isAdmin&&w.jsx("button",{onClick:()=>r("admin-settings"),className:"p-2 bg-blue-800 hover:bg-blue-700 rounded-lg transition-colors",title:" ",children:w.jsx(eN,{size:18})}),!t?.isProvider&&w.jsxs("button",{onClick:()=>r("my-workspace"),className:"flex items-center gap-2 bg-blue-800 hover:bg-blue-700 px-4 py-2 rounded-lg text-sm transition-colors",children:[w.jsx(HI,{size:16}),w.jsx("span",{className:"hidden md:inline",children:" "})]}),w.jsxs("button",{onClick:()=>r("login"),className:"flex items-center gap-2 bg-blue-800 hover:bg-red-600 px-4 py-2 rounded-lg text-sm transition-colors",children:[w.jsx(FI,{size:16}),""]})]})]})})},fN=({loginData:r,setLoginData:t,handleLogin:i,error:a,setView:o})=>w.jsx("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-4",dir:"rtl",children:w.jsxs("div",{className:"bg-white p-10 rounded-3xl shadow-2xl w-full max-w-md border border-slate-200",children:[w.jsxs("div",{className:"flex flex-col items-center mb-8 text-center",children:[w.jsx("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-slate-100 mb-6",children:w.jsx("img",{src:"120_labor.png",alt:"",className:"h-24",onError:c=>c.target.src="https://www.gov.il/BlobFolder/office/labor/he/labor_logo.png"})}),w.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"  "}),w.jsx("p",{className:"text-slate-500 font-medium",children:"  -  "})]}),a&&w.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg mb-4 text-xs font-bold border border-red-100",children:a}),w.jsxs("form",{onSubmit:i,className:"space-y-4",children:[w.jsx("input",{required:!0,className:"w-full p-4 border rounded-2xl outline-none focus:ring-2 focus:ring-blue-500",placeholder:"  /  ",value:r.semel,onChange:c=>t({...r,semel:c.target.value})}),w.jsx("input",{required:!0,type:"password",className:"w-full p-4 border rounded-2xl outline-none focus:ring-2 focus:ring-blue-500",placeholder:"",value:r.password,onChange:c=>t({...r,password:c.target.value})}),w.jsx("button",{type:"submit",className:"w-full bg-blue-700 hover:bg-blue-800 text-white font-bold py-4 rounded-xl shadow-lg active:scale-95 transition-all",children:" "})]}),w.jsxs("div",{className:"mt-8 text-center border-t pt-6",children:[w.jsx("p",{className:"text-sm text-slate-500 mb-3",children:"   ?"}),w.jsx("button",{onClick:()=>o("provider-register"),className:"text-blue-600 font-bold hover:underline",children:"   "})]})]})}),dN=({handleProviderApply:r,setView:t})=>{const[i,a]=$t.useState({name:"",id:"",password:"",contact:"",description:""});return w.jsx("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-4",dir:"rtl",children:w.jsxs("div",{className:"bg-white p-10 rounded-3xl shadow-2xl w-full max-w-lg border border-slate-200",children:[w.jsx("h2",{className:"text-2xl font-black text-slate-800 mb-2",children:"  "}),w.jsx("p",{className:"text-slate-500 mb-8",children:"       "}),w.jsxs("form",{onSubmit:o=>r(o,i),className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-bold text-slate-400 mb-1 mr-1 uppercase",children:"  / "}),w.jsx("input",{required:!0,className:"w-full p-4 border rounded-2xl outline-none",value:i.name,onChange:o=>a({...i,name:o.target.value})})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-bold text-slate-400 mb-1 mr-1 uppercase",children:'" /   ()'}),w.jsx("input",{required:!0,className:"w-full p-4 border rounded-2xl outline-none",value:i.id,onChange:o=>a({...i,id:o.target.value})})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-bold text-slate-400 mb-1 mr-1 uppercase",children:" "}),w.jsx("input",{required:!0,type:"password",className:"w-full p-4 border rounded-2xl outline-none",value:i.password,onChange:o=>a({...i,password:o.target.value})})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-bold text-slate-400 mb-1 mr-1 uppercase",children:"  "}),w.jsx("input",{required:!0,className:"w-full p-4 border rounded-2xl outline-none",value:i.contact,onChange:o=>a({...i,contact:o.target.value})})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-xs font-bold text-slate-400 mb-1 mr-1 uppercase",children:"   "}),w.jsx("textarea",{required:!0,className:"w-full p-4 border rounded-2xl outline-none h-24",value:i.description,onChange:o=>a({...i,description:o.target.value})})]}),w.jsx("button",{type:"submit",className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-4 rounded-xl shadow-lg transition-all",children:"  "}),w.jsx("button",{type:"button",onClick:()=>t("login"),className:"w-full text-slate-400 font-bold py-2",children:"  "})]})]})})},mN=({provider:r,setView:t,handleProviderApply:i})=>w.jsx("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-4",dir:"rtl",children:w.jsxs("div",{className:"bg-white p-10 rounded-3xl shadow-2xl w-full max-w-md border border-slate-200 text-center",children:[w.jsx("div",{className:`w-20 h-20 mx-auto rounded-full flex items-center justify-center mb-6 ${r.status==="pending"?"bg-amber-100 text-amber-600":r.status==="approved"?"bg-emerald-100 text-emerald-600":"bg-red-100 text-red-600"}`,children:r.status==="pending"?w.jsx(BI,{size:40}):r.status==="approved"?w.jsx(LI,{size:40}):w.jsx(kI,{size:40})}),w.jsxs("h2",{className:"text-2xl font-black text-slate-800 mb-2",children:[" : ",r.status==="pending"?"":r.status==="approved"?"":""]}),w.jsxs("p",{className:"text-slate-500 mb-6",children:[" ",r.name,",     ."]}),r.adminNote&&w.jsxs("div",{className:"bg-slate-50 p-4 rounded-2xl border mb-6 text-right",children:[w.jsx("p",{className:"text-xs font-bold text-slate-400 uppercase mb-1",children:"  :"}),w.jsxs("p",{className:"text-slate-800 text-sm italic",children:['"',r.adminNote,'"']})]}),r.status==="approved"&&w.jsx("button",{onClick:()=>t("dashboard"),className:"w-full bg-blue-700 text-white font-bold py-4 rounded-xl shadow-lg mb-4",children:" "}),r.status==="rejected"&&w.jsx("button",{onClick:()=>t("provider-register"),className:"w-full bg-emerald-600 text-white font-bold py-4 rounded-xl shadow-lg mb-4",children:"  "}),w.jsx("button",{onClick:()=>t("login"),className:"text-slate-400 font-bold py-2",children:""})]})}),gN=({schools:r,providers:t,importText:i,setImportText:a,handleImportExcel:o,handleDeleteSchool:c,editingSchool:d,setEditingSchool:p,db:v,appId:y,setView:b,handleUpdateProviderStatus:A})=>{const[M,Q]=$t.useState("requests"),W=t.filter(Z=>Z.status==="pending").length;return w.jsxs("div",{className:"min-h-screen bg-slate-50 pb-20",dir:"rtl",children:[w.jsxs("header",{className:"bg-slate-900 text-white p-4 flex justify-between items-center sticky top-0 z-40",children:[w.jsxs("div",{className:"flex items-center gap-6",children:[w.jsxs("h1",{className:"font-bold flex items-center gap-2 text-blue-400",children:[w.jsx(iN,{size:24}),"   "]}),w.jsxs("nav",{className:"flex gap-4 mr-6",children:[w.jsxs("button",{onClick:()=>Q("requests"),className:`px-4 py-2 rounded-lg text-sm font-bold relative ${M==="requests"?"bg-blue-600 text-white":"text-slate-400 hover:text-white"}`,children:[" ",W>0&&w.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-[10px] w-4 h-4 flex items-center justify-center rounded-full animate-pulse",children:W})]}),w.jsx("button",{onClick:()=>Q("schools"),className:`px-4 py-2 rounded-lg text-sm font-bold ${M==="schools"?"bg-blue-600 text-white":"text-slate-400 hover:text-white"}`,children:" "}),w.jsx("button",{onClick:()=>Q("all-providers"),className:`px-4 py-2 rounded-lg text-sm font-bold ${M==="all-providers"?"bg-blue-600 text-white":"text-slate-400 hover:text-white"}`,children:" "})]})]}),w.jsx("button",{onClick:()=>b("dashboard"),className:"text-sm bg-slate-800 px-4 py-2 rounded-lg hover:bg-red-900 transition-colors",children:" "})]}),w.jsxs("main",{className:"container mx-auto p-6 max-w-7xl",children:[M==="requests"&&w.jsxs("div",{className:"space-y-6",children:[w.jsx("h2",{className:"text-2xl font-black text-slate-800",children:"  "}),W===0&&w.jsx("p",{className:"bg-white p-10 rounded-3xl text-center text-slate-400 italic",children:"   "}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:t.filter(Z=>Z.status==="pending").map(Z=>w.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-slate-200",children:[w.jsxs("div",{className:"flex justify-between items-start mb-4",children:[w.jsx("h3",{className:"font-bold text-xl",children:Z.name}),w.jsx("span",{className:"text-[10px] bg-amber-100 text-amber-600 px-2 py-1 rounded-full font-bold",children:""})]}),w.jsxs("div",{className:"space-y-2 mb-6",children:[w.jsxs("p",{className:"text-sm text-slate-600 font-medium",children:[": ",w.jsx("span",{className:"text-slate-800",children:Z.semel})]}),w.jsxs("p",{className:"text-sm text-slate-600 font-medium",children:[" : ",w.jsx("span",{className:"text-slate-800",children:Z.contact})]}),w.jsx("p",{className:"text-sm text-slate-500 bg-slate-50 p-3 rounded-xl italic mt-2",children:Z.description})]}),w.jsxs("div",{className:"flex gap-3",children:[w.jsx("button",{onClick:()=>A(Z.id,"approved"),className:"flex-1 bg-emerald-600 text-white py-3 rounded-xl font-bold",children:" "}),w.jsx("button",{onClick:()=>{const tt=prompt(" :");tt&&A(Z.id,"rejected",tt)},className:"flex-1 bg-red-50 text-red-600 py-3 rounded-xl font-bold",children:" "})]})]},Z.id))})]}),M==="schools"&&w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[w.jsx("div",{className:"lg:col-span-1 space-y-6",children:w.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-slate-200",children:[w.jsxs("h3",{className:"font-bold mb-4 flex items-center gap-2 text-blue-800",children:[w.jsx(cN,{size:18}),"   "]}),w.jsx("textarea",{className:"w-full h-48 p-3 border rounded-xl mb-4 font-mono text-xs bg-slate-50 outline-none focus:ring-2 focus:ring-blue-500 text-right",placeholder:"  	12345	pass123",value:i,onChange:Z=>a(Z.target.value)}),w.jsx("button",{onClick:o,disabled:!i,className:"w-full bg-blue-600 text-white py-4 rounded-2xl font-bold shadow-md hover:bg-blue-700 disabled:opacity-50 transition-all",children:" "})]})}),w.jsx("div",{className:"lg:col-span-2",children:w.jsx("div",{className:"bg-white rounded-3xl shadow-sm border overflow-hidden",children:w.jsxs("table",{className:"w-full text-right",children:[w.jsx("thead",{className:"bg-slate-50 text-slate-500 text-[10px] font-black uppercase tracking-wider",children:w.jsxs("tr",{children:[w.jsx("th",{className:"p-4",children:" "}),w.jsx("th",{className:"p-4",children:""}),w.jsx("th",{className:"p-4",children:""}),w.jsx("th",{className:"p-4 text-center",children:""})]})}),w.jsx("tbody",{className:"divide-y text-sm",children:r.map(Z=>w.jsxs("tr",{className:"hover:bg-blue-50/30 transition-colors",children:[w.jsx("td",{className:"p-4 font-bold",children:Z.name}),w.jsx("td",{className:"p-4 font-mono",children:Z.semel}),w.jsx("td",{className:"p-4 font-mono",children:Z.password}),w.jsxs("td",{className:"p-4 flex justify-center gap-2",children:[w.jsx("button",{onClick:()=>p(Z),className:"p-2 text-blue-600",children:w.jsx(rN,{size:18})}),w.jsx("button",{onClick:()=>c(Z.id),className:"p-2 text-red-600",children:w.jsx(nh,{size:18})})]})]},Z.id))})]})})})]}),M==="all-providers"&&w.jsx("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-200 overflow-hidden",children:w.jsxs("table",{className:"w-full text-right border-collapse",children:[w.jsx("thead",{className:"bg-slate-50 text-slate-500 text-[10px] font-black tracking-wider",children:w.jsxs("tr",{children:[w.jsx("th",{className:"p-4 text-right",children:" "}),w.jsx("th",{className:"p-4 text-right",children:""}),w.jsx("th",{className:"p-4 text-right",children:" "}),w.jsx("th",{className:"p-4 text-center",children:""})]})}),w.jsx("tbody",{className:"divide-y text-sm",children:t.map(Z=>w.jsxs("tr",{className:"hover:bg-blue-50/30 transition-colors",children:[w.jsx("td",{className:"p-4 font-bold text-slate-800",children:Z.name}),w.jsx("td",{className:"p-4",children:w.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-bold ${Z.status==="approved"?"bg-emerald-100 text-emerald-700":Z.status==="rejected"?"bg-red-100 text-red-700":"bg-amber-100 text-amber-700"}`,children:Z.status==="approved"?"":Z.status==="rejected"?"":""})}),w.jsx("td",{className:"p-4 text-slate-600",children:Z.contact}),w.jsxs("td",{className:"p-4 flex justify-center gap-2",children:[Z.status!=="approved"&&w.jsx("button",{onClick:()=>A(Z.id,"approved"),className:"text-emerald-600 font-bold text-xs p-2",children:""}),w.jsx("button",{onClick:async()=>{window.confirm(" ?")&&await mm(Pr(v,"artifacts",y,"public","data","schools",Z.id))},className:"p-2 text-red-600",children:w.jsx(nh,{size:18})})]})]},Z.id))})]})})]})]})},pN=()=>{if(!VT)return w.jsx("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-4 text-center",dir:"rtl",children:w.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl border border-red-200 max-w-md",children:[w.jsx("div",{className:"w-16 h-16 bg-red-100 text-red-600 rounded-full flex items-center justify-center mx-auto mb-4",children:w.jsx(zI,{size:32})}),w.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-2",children:"   Firebase"}),w.jsx("p",{className:"text-slate-600 mb-6",children:"   -config   firebaseConfig  -Cursor."})]})});const[r,t]=$t.useState("login"),[i,a]=$t.useState(null),[o,c]=$t.useState([]),[d,p]=$t.useState([]),[v,y]=$t.useState([]),[b,A]=$t.useState([]),[M,Q]=$t.useState([]),[W,Z]=$t.useState(null),[tt,ft]=$t.useState(!0),[vt,mt]=$t.useState(""),[It,Jt]=$t.useState({semel:"",password:""}),[kt,x]=$t.useState(""),[S,N]=$t.useState(null),[V,D]=$t.useState({name:"",contactPerson:"",description:"",rating:5,recommends:!0,notes:"",grades:[],isZalash:!1,location:" "}),[k,R]=$t.useState({search:"",grade:"all",zalashOnly:!1,location:"all",minRating:0,minComments:0});$t.useEffect(()=>{(async()=>{try{await lC(kT)}catch(C){console.error(C)}})()},[]),$t.useEffect(()=>{if(!Zn)return;const ut=Kv(qd(Zn,"artifacts",Zi,"public","data","programs"),H=>{const J=H.docs.map(nt=>({id:nt.id,...nt.data()}));c(J),ft(!1)}),C=Kv(qd(Zn,"artifacts",Zi,"public","data","schools"),H=>{const J=H.docs.map(nt=>({id:nt.id,...nt.data()}));p(J.filter(nt=>!nt.isProvider)),y(J.filter(nt=>nt.isProvider))});return()=>{ut(),C()}},[]),$t.useEffect(()=>{if(!i||!i.isProvider)return;const ut=o.filter(H=>H.schoolId===i.id),C=[];ut.forEach(H=>{H.comments?.slice(-3).forEach(J=>{C.push({title:`  -${H.name}`,text:`${J.school}: ${J.text}`})})}),A(C)},[o,i]);const te=ut=>{if(ut.preventDefault(),mt(""),It.semel==="admin"&&It.password==="1234"){a({id:"admin",name:" ",isAdmin:!0}),t("dashboard");return}const C=d.find(J=>String(J.semel)===String(It.semel)&&String(J.password)===String(It.password));if(C){a({id:C.semel,name:C.name,isAdmin:!1}),t("dashboard");return}const H=v.find(J=>String(J.semel)===String(It.semel)&&String(J.password)===String(It.password));if(H){a({...H,id:H.semel,isAdmin:!1,isProvider:!0}),H.status==="approved"?t("dashboard"):t("provider-status");return}mt("  ")},he=async(ut,C)=>{ut.preventDefault();try{await bR(Pr(Zn,"artifacts",Zi,"public","data","schools",C.id),{...C,semel:C.id,isProvider:!0,status:"pending",createdAt:Date.now()}),alert("  "),t("login")}catch(H){console.error(H)}},G=async(ut,C,H="")=>{try{await Qv(Pr(Zn,"artifacts",Zi,"public","data","schools",ut),{status:C,adminNote:H})}catch(J){console.error(J)}},it=async ut=>{ut.preventDefault();try{await AR(qd(Zn,"artifacts",Zi,"public","data","programs"),{...V,schoolId:i.id,schoolName:i.name,comments:[],createdAt:new Date().toLocaleDateString("he-IL"),timestamp:Date.now()}),t("dashboard"),D({name:"",contactPerson:"",description:"",rating:5,recommends:!0,notes:"",grades:[],isZalash:!1,location:" "})}catch(C){console.error(C)}},ot=async(ut,C)=>{await Qv(Pr(Zn,"artifacts",Zi,"public","data","programs",ut),{comments:wR({id:Date.now(),school:i.name,text:C})})},Ut=$t.useMemo(()=>{let ut=o;return i?.isProvider&&(ut=ut.filter(C=>C.schoolId===i.id)),ut.filter(C=>{const H=C.name?.toLowerCase().includes(k.search.toLowerCase())||C.description?.toLowerCase().includes(k.search.toLowerCase()),J=k.grade==="all"||C.grades?.includes(k.grade),nt=!k.zalashOnly||C.isZalash,pt=k.location==="all"||C.location===k.location,bt=C.rating>=k.minRating,Nt=(C.comments?.length||0)>=k.minComments;return H&&J&&nt&&pt&&bt&&Nt})},[o,k,i]);return w.jsxs("div",{className:"font-sans antialiased text-slate-900 selection:bg-blue-100 overflow-x-hidden",children:[r==="admin-settings"&&w.jsx(gN,{setView:t,schools:d,providers:v,importText:kt,setImportText:x,handleImportExcel:()=>{},handleDeleteSchool:async ut=>await mm(Pr(Zn,"artifacts",Zi,"public","data","schools",ut)),editingSchool:S,setEditingSchool:N,db:Zn,appId:Zi,handleUpdateProviderStatus:G}),r==="login"&&w.jsx(fN,{loginData:It,setLoginData:Jt,handleLogin:te,error:vt,setView:t}),r==="provider-register"&&w.jsx(dN,{handleProviderApply:he,setView:t}),r==="provider-status"&&w.jsx(mN,{provider:i,setView:t}),r==="dashboard"&&w.jsx(yN,{setView:t,filters:k,setFilters:R,filteredPrograms:Ut,toggleFavorite:()=>{},savedProgramIds:[],setSelectedProgram:ut=>{Z(ut),t("details")},user:i,handleDeleteProgram:async ut=>await mm(Pr(Zn,"artifacts",Zi,"public","data","programs",ut))}),r==="add"&&w.jsx(AddProgram,{setView:t,handleAddProgram:it,formData:V,setFormData:D}),r==="details"&&W&&w.jsx(_N,{selectedProgram:W,setView:t,addComment:ot,removeComment:async(ut,C)=>{},user:i}),r!=="login"&&r!=="admin-settings"&&r!=="provider-register"&&r!=="provider-status"&&w.jsx(vN,{})]})},yN=({setView:r,filters:t,setFilters:i,filteredPrograms:a,toggleFavorite:o,savedProgramIds:c,setSelectedProgram:d,user:p,handleDeleteProgram:v})=>w.jsxs("div",{className:"min-h-screen bg-slate-50 pb-20",dir:"rtl",children:[w.jsx(hN,{setView:r,user:p}),w.jsxs("main",{className:"container mx-auto px-6 p-4 max-w-7xl",children:[w.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6 mb-10 mt-6 text-right",children:[w.jsxs("div",{children:[w.jsxs("h2",{className:"text-3xl font-black text-slate-800",children:[", ",p?.name]}),w.jsx("p",{className:"text-slate-500",children:p?.isProvider?"    ":"       "})]}),!p?.isProvider&&w.jsxs("button",{onClick:()=>r("add"),className:"flex items-center gap-2 bg-emerald-600 hover:bg-emerald-700 text-white px-8 py-4 rounded-2xl font-bold shadow-lg transition-transform hover:-translate-y-1",children:[w.jsx($I,{size:20}),"   "]})]}),!p?.isProvider&&w.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-slate-200 mb-8 space-y-4 text-right",children:[w.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[w.jsxs("div",{className:"flex-1 min-w-[300px] relative",children:[w.jsx(WI,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-300",size:20}),w.jsx("input",{type:"text",placeholder:"...",className:"w-full pr-12 pl-4 py-3 bg-slate-50 border-none rounded-2xl outline-none focus:ring-2 focus:ring-blue-500 text-right",value:t.search,onChange:y=>i({...t,search:y.target.value})})]}),w.jsxs("select",{className:"p-3 bg-slate-50 border-none rounded-2xl outline-none font-bold text-slate-700",value:t.location,onChange:y=>i({...t,location:y.target.value}),children:[w.jsx("option",{value:"all",children:" "}),w.jsx("option",{value:"",children:""}),w.jsx("option",{value:"",children:""}),w.jsx("option",{value:"",children:""})]})]}),w.jsx("div",{className:"flex flex-wrap gap-6 pt-2 border-t items-center justify-end",children:w.jsxs("label",{className:"flex items-center gap-2 cursor-pointer text-xs font-bold",children:[w.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded text-purple-600",checked:t.zalashOnly,onChange:y=>i({...t,zalashOnly:y.target.checked})}),'   "']})})]}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:a.map(y=>w.jsxs("div",{onClick:()=>d(y),className:"bg-white rounded-3xl shadow-sm border overflow-hidden hover:shadow-xl transition-all group cursor-pointer relative text-right",children:[w.jsx("div",{className:"absolute top-4 left-4 flex gap-2 z-10",children:(p?.isAdmin||p?.isProvider&&y.schoolId===p.id)&&w.jsx("button",{onClick:b=>{b.stopPropagation(),v(y.id)},className:"p-2 rounded-full bg-white/80 shadow-sm text-red-500 hover:bg-red-500 hover:text-white transition-all",children:w.jsx(nh,{size:16})})}),w.jsx("div",{className:`h-2 ${y.recommends?"bg-emerald-500":"bg-rose-500"}`}),w.jsxs("div",{className:"p-6",children:[w.jsx("h3",{className:"font-bold text-xl group-hover:text-blue-700 mb-2",children:y.name}),w.jsx("p",{className:"text-slate-500 text-sm line-clamp-2 mb-4 leading-relaxed",children:y.description}),w.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[w.jsxs("span",{className:"text-[10px] bg-slate-100 text-slate-600 px-3 py-1 rounded-full font-bold flex items-center gap-1",children:[w.jsx(KI,{size:10})," ",y.location||" "]}),y.isZalash&&w.jsx("span",{className:"text-[10px] bg-purple-100 text-purple-700 px-3 py-1 rounded-full font-bold",children:'"'})]}),w.jsxs("div",{className:"flex justify-between items-center pt-4 border-t text-[10px] text-slate-400 font-medium",children:[w.jsxs("span",{children:[": ",y.schoolName]}),w.jsxs("span",{children:[y.comments?.length||0," "]})]})]})]},y.id))})]})]}),_N=({selectedProgram:r,setView:t,addComment:i,user:a,removeComment:o})=>w.jsxs("div",{className:"min-h-screen bg-slate-50",dir:"rtl",children:[w.jsxs("header",{className:"bg-white border-b p-4 sticky top-0 z-30 shadow-sm flex items-center gap-4",children:[w.jsx("button",{onClick:()=>t("dashboard"),className:"p-2 hover:bg-slate-100 rounded-full",children:w.jsx(MI,{size:24})}),w.jsx("h1",{className:"text-xl font-bold",children:r.name})]}),w.jsx("main",{className:"container mx-auto p-4 max-w-5xl mt-10",children:w.jsxs("div",{className:"bg-white p-10 rounded-3xl shadow-xl space-y-8 border relative overflow-hidden text-right",children:[w.jsx("div",{className:`absolute top-0 right-0 left-0 h-2 ${r.recommends?"bg-emerald-500":"bg-rose-500"}`}),w.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-8",children:[w.jsxs("div",{className:"flex-1 space-y-6",children:[w.jsx("h2",{className:"text-4xl font-black text-slate-800",children:r.name}),w.jsx("p",{className:"text-xl leading-relaxed text-slate-600",children:r.description})]}),w.jsxs("div",{className:"bg-slate-50 p-6 rounded-3xl w-full md:w-64 border space-y-4",children:[w.jsxs("div",{className:"flex items-center gap-2 justify-end",children:[w.jsxs("span",{className:"font-bold text-2xl",children:[r.rating,".0"]}),w.jsx(lN,{className:"text-amber-500",fill:"currentColor",size:20})]}),w.jsxs("div",{className:"pt-4 border-t text-xs",children:[' ": ',w.jsx("span",{className:"font-bold",children:r.schoolName})]})]})]}),w.jsxs("div",{className:"border-t pt-10 text-right",children:[w.jsxs("h3",{className:"text-2xl font-black mb-8 flex items-center gap-3 text-slate-800",children:[w.jsx(XI,{className:"text-blue-600",size:24}),"  (",r.comments?.length||0,")"]}),w.jsx("div",{className:"space-y-4 mb-10",children:r.comments?.map((c,d)=>w.jsxs("div",{className:"bg-slate-50 p-5 rounded-2xl border-r-4 border-blue-600 flex justify-between",children:[w.jsxs("div",{children:[w.jsx("div",{className:"font-black text-blue-900 text-xs mb-1",children:c.school}),w.jsx("p",{className:"text-slate-700",children:c.text})]}),a?.isAdmin&&w.jsx("button",{onClick:()=>o(r.id,d),className:"p-2 text-red-500",children:w.jsx(nh,{size:16})})]},d))}),!a?.isProvider&&w.jsxs("div",{className:"bg-blue-50 p-8 rounded-3xl border shadow-inner",children:[w.jsx("textarea",{id:"newComment",className:"w-full p-4 bg-white border rounded-2xl outline-none h-24 mb-4 text-right",placeholder:" ..."}),w.jsx("button",{onClick:()=>{const c=document.getElementById("newComment").value;c&&i(r.id,c)},className:"bg-blue-700 text-white px-10 py-4 rounded-xl font-black shadow-md",children:" "})]})]})]})})]}),vN=()=>w.jsxs("footer",{className:"w-full bg-slate-100 text-slate-400 py-12 mt-12 text-center border-t",children:[w.jsx("p",{className:"text-xs font-medium uppercase tracking-widest mb-1",children:"   "}),w.jsx("p",{className:"font-black text-slate-600 text-xl tracking-tighter",children:"   "})]});Ab.createRoot(document.getElementById("root")).render(w.jsx(gb.StrictMode,{children:w.jsx(pN,{})}));
