(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function p0(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Cd={exports:{}},po={};var D_;function bb(){if(D_)return po;D_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:c}}return po.Fragment=t,po.jsx=i,po.jsxs=i,po}var O_;function Ab(){return O_||(O_=1,Cd.exports=bb()),Cd.exports}var E=Ab(),Nd={exports:{}},bt={};var M_;function Sb(){if(M_)return bt;M_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),M=Symbol.iterator;function H(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,Z={};function dt(O,K,it){this.props=O,this.context=K,this.refs=Z,this.updater=it||W}dt.prototype.isReactComponent={},dt.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},dt.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Tt(){}Tt.prototype=dt.prototype;function pt(O,K,it){this.props=O,this.context=K,this.refs=Z,this.updater=it||W}var Kt=pt.prototype=new Tt;Kt.constructor=pt,$(Kt,dt.prototype),Kt.isPureReactComponent=!0;var ne=Array.isArray;function Rt(){}var N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(O,K,it){var rt=it.ref;return{$$typeof:s,type:O,key:K,ref:rt!==void 0?rt:null,props:it}}function V(O,K){return C(O.type,K,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function U(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(it){return K[it]})}var x=/\/+/g;function Nt(O,K){return typeof O=="object"&&O!==null&&O.key!=null?U(""+O.key):K.toString(36)}function ge(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Rt,Rt):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,K,it,rt,_t){var St=typeof O;(St==="undefined"||St==="boolean")&&(O=null);var et=!1;if(O===null)et=!0;else switch(St){case"bigint":case"string":case"number":et=!0;break;case"object":switch(O.$$typeof){case s:case t:et=!0;break;case A:return et=O._init,G(et(O._payload),K,it,rt,_t)}}if(et)return _t=_t(O),et=rt===""?"."+Nt(O,0):rt,ne(_t)?(it="",et!=null&&(it=et.replace(x,"$&/")+"/"),G(_t,K,it,"",function(Pt){return Pt})):_t!=null&&(D(_t)&&(_t=V(_t,it+(_t.key==null||O&&O.key===_t.key?"":(""+_t.key).replace(x,"$&/")+"/")+et)),K.push(_t)),1;et=0;var st=rt===""?".":rt+":";if(ne(O))for(var ut=0;ut<O.length;ut++)rt=O[ut],St=st+Nt(rt,ut),et+=G(rt,K,it,St,_t);else if(ut=H(O),typeof ut=="function")for(O=ut.call(O),ut=0;!(rt=O.next()).done;)rt=rt.value,St=st+Nt(rt,ut++),et+=G(rt,K,it,St,_t);else if(St==="object"){if(typeof O.then=="function")return G(ge(O),K,it,rt,_t);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return et}function nt(O,K,it){if(O==null)return O;var rt=[],_t=0;return G(O,rt,"","",function(St){return K.call(it,St,_t++)}),rt}function ht(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(it){(O._status===0||O._status===-1)&&(O._status=1,O._result=it)},function(it){(O._status===0||O._status===-1)&&(O._status=2,O._result=it)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var jt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Gt={map:nt,forEach:function(O,K,it){nt(O,function(){K.apply(this,arguments)},it)},count:function(O){var K=0;return nt(O,function(){K++}),K},toArray:function(O){return nt(O,function(K){return K})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return bt.Activity=S,bt.Children=Gt,bt.Component=dt,bt.Fragment=i,bt.Profiler=o,bt.PureComponent=pt,bt.StrictMode=a,bt.Suspense=_,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,bt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return N.H.useMemoCache(O)}},bt.cache=function(O){return function(){return O.apply(null,arguments)}},bt.cacheSignal=function(){return null},bt.cloneElement=function(O,K,it){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var rt=$({},O.props),_t=O.key;if(K!=null)for(St in K.key!==void 0&&(_t=""+K.key),K)!w.call(K,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&K.ref===void 0||(rt[St]=K[St]);var St=arguments.length-2;if(St===1)rt.children=it;else if(1<St){for(var et=Array(St),st=0;st<St;st++)et[st]=arguments[st+2];rt.children=et}return C(O.type,_t,rt)},bt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},bt.createElement=function(O,K,it){var rt,_t={},St=null;if(K!=null)for(rt in K.key!==void 0&&(St=""+K.key),K)w.call(K,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(_t[rt]=K[rt]);var et=arguments.length-2;if(et===1)_t.children=it;else if(1<et){for(var st=Array(et),ut=0;ut<et;ut++)st[ut]=arguments[ut+2];_t.children=st}if(O&&O.defaultProps)for(rt in et=O.defaultProps,et)_t[rt]===void 0&&(_t[rt]=et[rt]);return C(O,St,_t)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(O){return{$$typeof:p,render:O}},bt.isValidElement=D,bt.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:ht}},bt.memo=function(O,K){return{$$typeof:y,type:O,compare:K===void 0?null:K}},bt.startTransition=function(O){var K=N.T,it={};N.T=it;try{var rt=O(),_t=N.S;_t!==null&&_t(it,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(Rt,jt)}catch(St){jt(St)}finally{K!==null&&it.types!==null&&(K.types=it.types),N.T=K}},bt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},bt.use=function(O){return N.H.use(O)},bt.useActionState=function(O,K,it){return N.H.useActionState(O,K,it)},bt.useCallback=function(O,K){return N.H.useCallback(O,K)},bt.useContext=function(O){return N.H.useContext(O)},bt.useDebugValue=function(){},bt.useDeferredValue=function(O,K){return N.H.useDeferredValue(O,K)},bt.useEffect=function(O,K){return N.H.useEffect(O,K)},bt.useEffectEvent=function(O){return N.H.useEffectEvent(O)},bt.useId=function(){return N.H.useId()},bt.useImperativeHandle=function(O,K,it){return N.H.useImperativeHandle(O,K,it)},bt.useInsertionEffect=function(O,K){return N.H.useInsertionEffect(O,K)},bt.useLayoutEffect=function(O,K){return N.H.useLayoutEffect(O,K)},bt.useMemo=function(O,K){return N.H.useMemo(O,K)},bt.useOptimistic=function(O,K){return N.H.useOptimistic(O,K)},bt.useReducer=function(O,K,it){return N.H.useReducer(O,K,it)},bt.useRef=function(O){return N.H.useRef(O)},bt.useState=function(O){return N.H.useState(O)},bt.useSyncExternalStore=function(O,K,it){return N.H.useSyncExternalStore(O,K,it)},bt.useTransition=function(){return N.H.useTransition()},bt.version="19.2.3",bt}var V_;function Tm(){return V_||(V_=1,Nd.exports=Sb()),Nd.exports}var Bt=Tm();const wb=p0(Bt);var Id={exports:{}},yo={},Dd={exports:{}},Od={};var k_;function xb(){return k_||(k_=1,(function(s){function t(G,nt){var ht=G.length;G.push(nt);t:for(;0<ht;){var jt=ht-1>>>1,Gt=G[jt];if(0<o(Gt,nt))G[jt]=nt,G[ht]=Gt,ht=jt;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var nt=G[0],ht=G.pop();if(ht!==nt){G[0]=ht;t:for(var jt=0,Gt=G.length,O=Gt>>>1;jt<O;){var K=2*(jt+1)-1,it=G[K],rt=K+1,_t=G[rt];if(0>o(it,ht))rt<Gt&&0>o(_t,it)?(G[jt]=_t,G[rt]=ht,jt=rt):(G[jt]=it,G[K]=ht,jt=K);else if(rt<Gt&&0>o(_t,ht))G[jt]=_t,G[rt]=ht,jt=rt;else break t}}return nt}function o(G,nt){var ht=G.sortIndex-nt.sortIndex;return ht!==0?ht:G.id-nt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();s.unstable_now=function(){return d.now()-p}}var _=[],y=[],A=1,S=null,M=3,H=!1,W=!1,$=!1,Z=!1,dt=typeof setTimeout=="function"?setTimeout:null,Tt=typeof clearTimeout=="function"?clearTimeout:null,pt=typeof setImmediate<"u"?setImmediate:null;function Kt(G){for(var nt=i(y);nt!==null;){if(nt.callback===null)a(y);else if(nt.startTime<=G)a(y),nt.sortIndex=nt.expirationTime,t(_,nt);else break;nt=i(y)}}function ne(G){if($=!1,Kt(G),!W)if(i(_)!==null)W=!0,Rt||(Rt=!0,U());else{var nt=i(y);nt!==null&&ge(ne,nt.startTime-G)}}var Rt=!1,N=-1,w=5,C=-1;function V(){return Z?!0:!(s.unstable_now()-C<w)}function D(){if(Z=!1,Rt){var G=s.unstable_now();C=G;var nt=!0;try{t:{W=!1,$&&($=!1,Tt(N),N=-1),H=!0;var ht=M;try{e:{for(Kt(G),S=i(_);S!==null&&!(S.expirationTime>G&&V());){var jt=S.callback;if(typeof jt=="function"){S.callback=null,M=S.priorityLevel;var Gt=jt(S.expirationTime<=G);if(G=s.unstable_now(),typeof Gt=="function"){S.callback=Gt,Kt(G),nt=!0;break e}S===i(_)&&a(_),Kt(G)}else a(_);S=i(_)}if(S!==null)nt=!0;else{var O=i(y);O!==null&&ge(ne,O.startTime-G),nt=!1}}break t}finally{S=null,M=ht,H=!1}nt=void 0}}finally{nt?U():Rt=!1}}}var U;if(typeof pt=="function")U=function(){pt(D)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,Nt=x.port2;x.port1.onmessage=D,U=function(){Nt.postMessage(null)}}else U=function(){dt(D,0)};function ge(G,nt){N=dt(function(){G(s.unstable_now())},nt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return M},s.unstable_next=function(G){switch(M){case 1:case 2:case 3:var nt=3;break;default:nt=M}var ht=M;M=nt;try{return G()}finally{M=ht}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(G,nt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ht=M;M=G;try{return nt()}finally{M=ht}},s.unstable_scheduleCallback=function(G,nt,ht){var jt=s.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?jt+ht:jt):ht=jt,G){case 1:var Gt=-1;break;case 2:Gt=250;break;case 5:Gt=1073741823;break;case 4:Gt=1e4;break;default:Gt=5e3}return Gt=ht+Gt,G={id:A++,callback:nt,priorityLevel:G,startTime:ht,expirationTime:Gt,sortIndex:-1},ht>jt?(G.sortIndex=ht,t(y,G),i(_)===null&&G===i(y)&&($?(Tt(N),N=-1):$=!0,ge(ne,ht-jt))):(G.sortIndex=Gt,t(_,G),W||H||(W=!0,Rt||(Rt=!0,U()))),G},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(G){var nt=M;return function(){var ht=M;M=nt;try{return G.apply(this,arguments)}finally{M=ht}}}})(Od)),Od}var U_;function Rb(){return U_||(U_=1,Dd.exports=xb()),Dd.exports}var Md={exports:{}},tn={};var j_;function Cb(){if(j_)return tn;j_=1;var s=Tm();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(_,y,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:_,containerInfo:y,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return tn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,tn.createPortal=function(_,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,A)},tn.flushSync=function(_){var y=d.T,A=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=A,a.d.f()}},tn.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},tn.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},tn.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var A=y.as,S=p(A,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,H=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:M,fetchPriority:H}):A==="script"&&a.d.X(_,{crossOrigin:S,integrity:M,fetchPriority:H,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},tn.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=p(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},tn.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,S=p(A,y.crossOrigin);a.d.L(_,A,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},tn.preloadModule=function(_,y){if(typeof _=="string")if(y){var A=p(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},tn.requestFormReset=function(_){a.d.r(_)},tn.unstable_batchedUpdates=function(_,y){return _(y)},tn.useFormState=function(_,y,A){return d.H.useFormState(_,y,A)},tn.useFormStatus=function(){return d.H.useHostTransitionStatus()},tn.version="19.2.3",tn}var L_;function Nb(){if(L_)return Md.exports;L_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Md.exports=Cb(),Md.exports}var P_;function Ib(){if(P_)return yo;P_=1;var s=Rb(),t=Tm(),i=Nb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,l=n;;){var h=r.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){r=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===r)return _(h),e;if(f===l)return _(h),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=h,l=f;else{for(var g=!1,T=h.child;T;){if(T===r){g=!0,r=h,l=f;break}if(T===l){g=!0,l=h,r=f;break}T=T.sibling}if(!g){for(T=f.child;T;){if(T===r){g=!0,r=f,l=h;break}if(T===l){g=!0,l=f,r=h;break}T=T.sibling}if(!g)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,M=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),dt=Symbol.for("react.profiler"),Tt=Symbol.for("react.consumer"),pt=Symbol.for("react.context"),Kt=Symbol.for("react.forward_ref"),ne=Symbol.for("react.suspense"),Rt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var x=Symbol.for("react.client.reference");function Nt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===x?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $:return"Fragment";case dt:return"Profiler";case Z:return"StrictMode";case ne:return"Suspense";case Rt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case pt:return e.displayName||"Context";case Tt:return(e._context.displayName||"Context")+".Consumer";case Kt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:Nt(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return Nt(e(n))}catch{}}return null}var ge=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},jt=[],Gt=-1;function O(e){return{current:e}}function K(e){0>Gt||(e.current=jt[Gt],jt[Gt]=null,Gt--)}function it(e,n){Gt++,jt[Gt]=e.current,e.current=n}var rt=O(null),_t=O(null),St=O(null),et=O(null);function st(e,n){switch(it(St,n),it(_t,e),it(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?t_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=t_(n),e=e_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(rt),it(rt,e)}function ut(){K(rt),K(_t),K(St)}function Pt(e){e.memoizedState!==null&&it(et,e);var n=rt.current,r=e_(n,e.type);n!==r&&(it(_t,e),it(rt,r))}function he(e){_t.current===e&&(K(rt),K(_t)),et.current===e&&(K(et),ho._currentValue=ht)}var Le,Te;function Ge(e){if(Le===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Le=n&&n[1]||"",Te=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Le+e+Te}var En=!1;function Li(e,n){if(!e||En)return"";En=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var z=q}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(q){z=q}e.call(Y.prototype)}}else{try{throw Error()}catch(q){z=q}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],T=f[1];if(g&&T){var R=g.split(`
`),P=T.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===P.length)for(l=R.length-1,h=P.length-1;1<=l&&0<=h&&R[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==P[h]){var F=`
`+R[l].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=l&&0<=h);break}}}finally{En=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Ge(r):""}function fl(e,n){switch(e.tag){case 26:case 27:case 5:return Ge(e.type);case 16:return Ge("Lazy");case 13:return e.child!==n&&n!==null?Ge("Suspense Fallback"):Ge("Suspense");case 19:return Ge("SuspenseList");case 0:case 15:return Li(e.type,!1);case 11:return Li(e.type.render,!1);case 1:return Li(e.type,!0);case 31:return Ge("Activity");default:return""}}function dl(e){try{var n="",r=null;do n+=fl(e,r),r=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var be=Object.prototype.hasOwnProperty,Ve=s.unstable_scheduleCallback,ds=s.unstable_cancelCallback,Nh=s.unstable_shouldYield,Yo=s.unstable_requestPaint,an=s.unstable_now,mr=s.unstable_getCurrentPriorityLevel,ml=s.unstable_ImmediatePriority,gl=s.unstable_UserBlockingPriority,ms=s.unstable_NormalPriority,Ih=s.unstable_LowPriority,Xo=s.unstable_IdlePriority,$o=s.log,Zo=s.unstable_setDisableYieldValue,Qn=null,Fe=null;function Dn(e){if(typeof $o=="function"&&Zo(e),Fe&&typeof Fe.setStrictMode=="function")try{Fe.setStrictMode(Qn,e)}catch{}}var pe=Math.clz32?Math.clz32:Wo,Jo=Math.log,ta=Math.LN2;function Wo(e){return e>>>=0,e===0?32:31-(Jo(e)/ta|0)|0}var ai=256,gr=262144,Ae=4194304;function li(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function oi(e,n,r){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=li(l):(g&=T,g!==0?h=li(g):r||(r=T&~e,r!==0&&(h=li(r))))):(T=l&~f,T!==0?h=li(T):g!==0?h=li(g):r||(r=l&~e,r!==0&&(h=li(r)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:h}function Kn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Dh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tu(){var e=Ae;return Ae<<=1,(Ae&62914560)===0&&(Ae=4194304),e}function ui(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function pr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Oh(e,n,r,l,h,f){var g=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var T=e.entanglements,R=e.expirationTimes,P=e.hiddenUpdates;for(r=g&~r;0<r;){var F=31-pe(r),Y=1<<F;T[F]=0,R[F]=-1;var z=P[F];if(z!==null)for(P[F]=null,F=0;F<z.length;F++){var q=z[F];q!==null&&(q.lane&=-536870913)}r&=~Y}l!==0&&yr(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function yr(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-pe(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|r&261930}function pl(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var l=31-pe(r),h=1<<l;h&n|e[l]&n&&(e[l]|=n),r&=~h}}function yl(e,n){var r=n&-n;return r=(r&42)!==0?1:_r(r),(r&(e.suspendedLanes|n))!==0?0:r}function _r(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Pi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function eu(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:S_(e.type))}function Yn(e,n){var r=nt.p;try{return nt.p=e,n()}finally{nt.p=r}}var Xn=Math.random().toString(36).slice(2),Se="__reactFiber$"+Xn,Pe="__reactProps$"+Xn,ci="__reactContainer$"+Xn,ea="__reactEvents$"+Xn,Mh="__reactListeners$"+Xn,nu="__reactHandles$"+Xn,iu="__reactResources$"+Xn,hi="__reactMarker$"+Xn;function na(e){delete e[Se],delete e[Pe],delete e[ea],delete e[Mh],delete e[nu]}function fi(e){var n=e[Se];if(n)return n;for(var r=e.parentNode;r;){if(n=r[ci]||r[Se]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=o_(e);e!==null;){if(r=e[Se])return r;e=o_(e)}return n}e=r,r=e.parentNode}return null}function On(e){if(e=e[Se]||e[ci]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Tn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function di(e){var n=e[iu];return n||(n=e[iu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function we(e){e[hi]=!0}var _l=new Set,vl={};function mi(e,n){gi(e,n),gi(e+"Capture",n)}function gi(e,n){for(vl[e]=n,e=0;e<n.length;e++)_l.add(n[e])}var El=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tl={},bl={};function su(e){return be.call(bl,e)?!0:be.call(Tl,e)?!1:El.test(e)?bl[e]=!0:(Tl[e]=!0,!1)}function ia(e,n,r){if(su(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function bn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function xe(e,n,r,l){if(l===null)e.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+l)}}function ze(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function gs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Al(e,n,r){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){r=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(g){r=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Xt(e){if(!e._valueTracker){var n=gs(e)?"checked":"value";e._valueTracker=Al(e,n,""+e[n])}}function vr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return e&&(l=gs(e)?e.checked?"true":"false":e.value),e=l,e!==r?(n.setValue(e),!0):!1}function pi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Er=/[\n"\\]/g;function hn(e){return e.replace(Er,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function sa(e,n,r,l,h,f,g,T){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ze(n)):e.value!==""+ze(n)&&(e.value=""+ze(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Sl(e,g,ze(n)):r!=null?Sl(e,g,ze(r)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+ze(T):e.removeAttribute("name")}function ru(e,n,r,l,h,f,g,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Xt(e);return}r=r!=null?""+ze(r):"",n=n!=null?""+ze(n):r,T||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Xt(e)}function Sl(e,n,r){n==="number"&&pi(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function ps(e,n,r,l){if(e=e.options,n){n={};for(var h=0;h<r.length;h++)n["$"+r[h]]=!0;for(r=0;r<e.length;r++)h=n.hasOwnProperty("$"+e[r].value),e[r].selected!==h&&(e[r].selected=h),h&&l&&(e[r].defaultSelected=!0)}else{for(r=""+ze(r),n=null,h=0;h<e.length;h++){if(e[h].value===r){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function au(e,n,r){if(n!=null&&(n=""+ze(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+ze(r):""}function ys(e,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(ge(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=ze(n),e.defaultValue=r,l=e.textContent,l===r&&l!==""&&l!==null&&(e.value=l),Xt(e)}function fn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var lu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wl(e,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,r):typeof r!="number"||r===0||lu.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function xl(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&r[h]!==l&&wl(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&wl(e,f,n[f])}function ra(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ou=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_s=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function aa(e){return _s.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function $n(){}var Rl=null;function Mn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var vs=null,yi=null;function Tr(e){var n=On(e);if(n&&(e=n.stateNode)){var r=e[Pe]||null;t:switch(e=n.stateNode,n.type){case"input":if(sa(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+hn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==e&&l.form===e.form){var h=l[Pe]||null;if(!h)throw Error(a(90));sa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===e.form&&vr(l)}break t;case"textarea":au(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&ps(e,!!r.multiple,n,!1)}}}var la=!1;function Es(e,n,r){if(la)return e(n,r);la=!0;try{var l=e(n);return l}finally{if(la=!1,(vs!==null||yi!==null)&&(ec(),vs&&(n=vs,e=yi,yi=vs=null,Tr(n),e)))for(n=0;n<e.length;n++)Tr(e[n])}}function Zn(e,n){var r=e.stateNode;if(r===null)return null;var l=r[Pe]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),br=!1;if(Vn)try{var Jt={};Object.defineProperty(Jt,"passive",{get:function(){br=!0}}),window.addEventListener("test",Jt,Jt),window.removeEventListener("test",Jt,Jt)}catch{br=!1}var _i=null,Cl=null,Ar=null;function Nl(){if(Ar)return Ar;var e,n=Cl,r=n.length,l,h="value"in _i?_i.value:_i.textContent,f=h.length;for(e=0;e<r&&n[e]===h[e];e++);var g=r-e;for(l=1;l<=g&&n[r-l]===h[f-l];l++);return Ar=h.slice(e,1<l?1-l:void 0)}function Sr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function zi(){return!0}function Jn(){return!1}function Qe(e){function n(r,l,h,f,g){this._reactName=r,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(r=e[T],this[T]=r?r(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?zi:Jn,this.isPropagationStopped=Jn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=zi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=zi)},persist:function(){},isPersistent:zi}),n}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=Qe(Bi),Ts=S({},Bi,{view:0,detail:0}),Il=Qe(Ts),bs,oa,Ei,ua=S({},Ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:As,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ei&&(Ei&&e.type==="mousemove"?(bs=e.screenX-Ei.screenX,oa=e.screenY-Ei.screenY):oa=bs=0,Ei=e),bs)},movementY:function(e){return"movementY"in e?e.movementY:oa}}),Dl=Qe(ua),wr=S({},ua,{dataTransfer:0}),uu=Qe(wr),cu=S({},Ts,{relatedTarget:0}),xr=Qe(cu),Ol=S({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),hu=Qe(Ol),ca=S({},Bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fu=Qe(ca),du=S({},Bi,{data:0}),Ti=Qe(du),mu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=pu[e])?!!n[e]:!1}function As(){return yu}var ln=S({},Ts,{key:function(e){if(e.key){var n=mu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Sr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:As,charCode:function(e){return e.type==="keypress"?Sr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Sr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_u=Qe(ln),vu=S({},ua,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qi=Qe(vu),u=S({},Ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:As}),m=Qe(u),v=S({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Qe(v),j=S({},ua,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=Qe(j),tt=S({},Bi,{newState:0,oldState:0}),wt=Qe(tt),ye=[9,13,27,32],Ft=Vn&&"CompositionEvent"in window,ue=null;Vn&&"documentMode"in document&&(ue=document.documentMode);var kn=Vn&&"TextEvent"in window&&!ue,bi=Vn&&(!Ft||ue&&8<ue&&11>=ue),Wn=" ",ti=!1;function Rr(e,n){switch(e){case"keyup":return ye.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ha(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fa=!1;function Q1(e,n){switch(e){case"compositionend":return ha(n);case"keypress":return n.which!==32?null:(ti=!0,Wn);case"textInput":return e=n.data,e===Wn&&ti?null:e;default:return null}}function K1(e,n){if(fa)return e==="compositionend"||!Ft&&Rr(e,n)?(e=Nl(),Ar=Cl=_i=null,fa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return bi&&n.locale!=="ko"?null:n.data;default:return null}}var Y1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Y1[e.type]:n==="textarea"}function fg(e,n,r,l){vs?yi?yi.push(l):yi=[l]:vs=l,n=oc(n,"onChange"),0<n.length&&(r=new vi("onChange","change",null,r,l),e.push({event:r,listeners:n}))}var Ml=null,Vl=null;function X1(e){Yy(e,0)}function Eu(e){var n=Tn(e);if(vr(n))return e}function dg(e,n){if(e==="change")return n}var mg=!1;if(Vn){var Vh;if(Vn){var kh="oninput"in document;if(!kh){var gg=document.createElement("div");gg.setAttribute("oninput","return;"),kh=typeof gg.oninput=="function"}Vh=kh}else Vh=!1;mg=Vh&&(!document.documentMode||9<document.documentMode)}function pg(){Ml&&(Ml.detachEvent("onpropertychange",yg),Vl=Ml=null)}function yg(e){if(e.propertyName==="value"&&Eu(Vl)){var n=[];fg(n,Vl,e,Mn(e)),Es(X1,n)}}function $1(e,n,r){e==="focusin"?(pg(),Ml=n,Vl=r,Ml.attachEvent("onpropertychange",yg)):e==="focusout"&&pg()}function Z1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Eu(Vl)}function J1(e,n){if(e==="click")return Eu(n)}function W1(e,n){if(e==="input"||e==="change")return Eu(n)}function tT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var An=typeof Object.is=="function"?Object.is:tT;function kl(e,n){if(An(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var h=r[l];if(!be.call(n,h)||!An(e[h],n[h]))return!1}return!0}function _g(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vg(e,n){var r=_g(e);e=0;for(var l;r;){if(r.nodeType===3){if(l=e+r.textContent.length,e<=n&&l>=n)return{node:r,offset:n-e};e=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=_g(r)}}function Eg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Eg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Tg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=pi(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=pi(e.document)}return n}function Uh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var eT=Vn&&"documentMode"in document&&11>=document.documentMode,da=null,jh=null,Ul=null,Lh=!1;function bg(e,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Lh||da==null||da!==pi(l)||(l=da,"selectionStart"in l&&Uh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ul&&kl(Ul,l)||(Ul=l,l=oc(jh,"onSelect"),0<l.length&&(n=new vi("onSelect","select",null,n,r),e.push({event:n,listeners:l}),n.target=da)))}function Cr(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var ma={animationend:Cr("Animation","AnimationEnd"),animationiteration:Cr("Animation","AnimationIteration"),animationstart:Cr("Animation","AnimationStart"),transitionrun:Cr("Transition","TransitionRun"),transitionstart:Cr("Transition","TransitionStart"),transitioncancel:Cr("Transition","TransitionCancel"),transitionend:Cr("Transition","TransitionEnd")},Ph={},Ag={};Vn&&(Ag=document.createElement("div").style,"AnimationEvent"in window||(delete ma.animationend.animation,delete ma.animationiteration.animation,delete ma.animationstart.animation),"TransitionEvent"in window||delete ma.transitionend.transition);function Nr(e){if(Ph[e])return Ph[e];if(!ma[e])return e;var n=ma[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Ag)return Ph[e]=n[r];return e}var Sg=Nr("animationend"),wg=Nr("animationiteration"),xg=Nr("animationstart"),nT=Nr("transitionrun"),iT=Nr("transitionstart"),sT=Nr("transitioncancel"),Rg=Nr("transitionend"),Cg=new Map,zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zh.push("scrollEnd");function ei(e,n){Cg.set(e,n),mi(n,[e])}var Tu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Un=[],ga=0,Bh=0;function bu(){for(var e=ga,n=Bh=ga=0;n<e;){var r=Un[n];Un[n++]=null;var l=Un[n];Un[n++]=null;var h=Un[n];Un[n++]=null;var f=Un[n];if(Un[n++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}f!==0&&Ng(r,h,f)}}function Au(e,n,r,l){Un[ga++]=e,Un[ga++]=n,Un[ga++]=r,Un[ga++]=l,Bh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function qh(e,n,r,l){return Au(e,n,r,l),Su(e)}function Ir(e,n){return Au(e,null,null,n),Su(e)}function Ng(e,n,r){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r);for(var h=!1,f=e.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-pe(r),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=r|536870912),f):null}function Su(e){if(50<so)throw so=0,Jf=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var pa={};function rT(e,n,r,l){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sn(e,n,r,l){return new rT(e,n,r,l)}function Hh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Hi(e,n){var r=e.alternate;return r===null?(r=Sn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Ig(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function wu(e,n,r,l,h,f){var g=0;if(l=e,typeof e=="function")Hh(e)&&(g=1);else if(typeof e=="string")g=cb(e,r,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=Sn(31,r,n,h),e.elementType=C,e.lanes=f,e;case $:return Dr(r.children,h,f,n);case Z:g=8,h|=24;break;case dt:return e=Sn(12,r,n,h|2),e.elementType=dt,e.lanes=f,e;case ne:return e=Sn(13,r,n,h),e.elementType=ne,e.lanes=f,e;case Rt:return e=Sn(19,r,n,h),e.elementType=Rt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pt:g=10;break t;case Tt:g=9;break t;case Kt:g=11;break t;case N:g=14;break t;case w:g=16,l=null;break t}g=29,r=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=Sn(g,r,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function Dr(e,n,r,l){return e=Sn(7,e,l,n),e.lanes=r,e}function Gh(e,n,r){return e=Sn(6,e,null,n),e.lanes=r,e}function Dg(e){var n=Sn(18,null,null,0);return n.stateNode=e,n}function Fh(e,n,r){return n=Sn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Og=new WeakMap;function jn(e,n){if(typeof e=="object"&&e!==null){var r=Og.get(e);return r!==void 0?r:(n={value:e,source:n,stack:dl(n)},Og.set(e,n),n)}return{value:e,source:n,stack:dl(n)}}var ya=[],_a=0,xu=null,jl=0,Ln=[],Pn=0,Ss=null,Ai=1,Si="";function Gi(e,n){ya[_a++]=jl,ya[_a++]=xu,xu=e,jl=n}function Mg(e,n,r){Ln[Pn++]=Ai,Ln[Pn++]=Si,Ln[Pn++]=Ss,Ss=e;var l=Ai;e=Si;var h=32-pe(l)-1;l&=~(1<<h),r+=1;var f=32-pe(n)+h;if(30<f){var g=h-h%5;f=(l&(1<<g)-1).toString(32),l>>=g,h-=g,Ai=1<<32-pe(n)+h|r<<h|l,Si=f+e}else Ai=1<<f|r<<h|l,Si=e}function Qh(e){e.return!==null&&(Gi(e,1),Mg(e,1,0))}function Kh(e){for(;e===xu;)xu=ya[--_a],ya[_a]=null,jl=ya[--_a],ya[_a]=null;for(;e===Ss;)Ss=Ln[--Pn],Ln[Pn]=null,Si=Ln[--Pn],Ln[Pn]=null,Ai=Ln[--Pn],Ln[Pn]=null}function Vg(e,n){Ln[Pn++]=Ai,Ln[Pn++]=Si,Ln[Pn++]=Ss,Ai=n.id,Si=n.overflow,Ss=e}var Ke=null,re=null,Lt=!1,ws=null,zn=!1,Yh=Error(a(519));function xs(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ll(jn(n,e)),Yh}function kg(e){var n=e.stateNode,r=e.type,l=e.memoizedProps;switch(n[Se]=e,n[Pe]=l,r){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(r=0;r<ao.length;r++)Dt(ao[r],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Dt("invalid",n),ru(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Dt("invalid",n);break;case"textarea":Dt("invalid",n),ys(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Jy(n.textContent,r)?(l.popover!=null&&(Dt("beforetoggle",n),Dt("toggle",n)),l.onScroll!=null&&Dt("scroll",n),l.onScrollEnd!=null&&Dt("scrollend",n),l.onClick!=null&&(n.onclick=$n),n=!0):n=!1,n||xs(e,!0)}function Ug(e){for(Ke=e.return;Ke;)switch(Ke.tag){case 5:case 31:case 13:zn=!1;return;case 27:case 3:zn=!0;return;default:Ke=Ke.return}}function va(e){if(e!==Ke)return!1;if(!Lt)return Ug(e),Lt=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||dd(e.type,e.memoizedProps)),r=!r),r&&re&&xs(e),Ug(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));re=l_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));re=l_(e)}else n===27?(n=re,zs(e.type)?(e=_d,_d=null,re=e):re=n):re=Ke?qn(e.stateNode.nextSibling):null;return!0}function Or(){re=Ke=null,Lt=!1}function Xh(){var e=ws;return e!==null&&(pn===null?pn=e:pn.push.apply(pn,e),ws=null),e}function Ll(e){ws===null?ws=[e]:ws.push(e)}var $h=O(null),Mr=null,Fi=null;function Rs(e,n,r){it($h,n._currentValue),n._currentValue=r}function Qi(e){e._currentValue=$h.current,K($h)}function Zh(e,n,r){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===r)break;e=e.return}}function Jh(e,n,r,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var R=0;R<n.length;R++)if(T.context===n[R]){f.lanes|=r,T=f.alternate,T!==null&&(T.lanes|=r),Zh(f.return,r,e),l||(g=null);break t}f=T.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=r,f=g.alternate,f!==null&&(f.lanes|=r),Zh(g,r,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Ea(e,n,r,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var T=h.type;An(h.pendingProps.value,g.value)||(e!==null?e.push(T):e=[T])}}else if(h===et.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ho):e=[ho])}h=h.return}e!==null&&Jh(n,e,r,l),n.flags|=262144}function Ru(e){for(e=e.firstContext;e!==null;){if(!An(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Vr(e){Mr=e,Fi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ye(e){return jg(Mr,e)}function Cu(e,n){return Mr===null&&Vr(e),jg(e,n)}function jg(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Fi===null){if(e===null)throw Error(a(308));Fi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Fi=Fi.next=n;return r}var aT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},lT=s.unstable_scheduleCallback,oT=s.unstable_NormalPriority,Re={$$typeof:pt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wh(){return{controller:new aT,data:new Map,refCount:0}}function Pl(e){e.refCount--,e.refCount===0&&lT(oT,function(){e.controller.abort()})}var zl=null,tf=0,Ta=0,ba=null;function uT(e,n){if(zl===null){var r=zl=[];tf=0,Ta=sd(),ba={status:"pending",value:void 0,then:function(l){r.push(l)}}}return tf++,n.then(Lg,Lg),n}function Lg(){if(--tf===0&&zl!==null){ba!==null&&(ba.status="fulfilled");var e=zl;zl=null,Ta=0,ba=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function cT(e,n){var r=[],l={status:"pending",value:null,reason:null,then:function(h){r.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<r.length;h++)(0,r[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<r.length;h++)(0,r[h])(void 0)}),l}var Pg=G.S;G.S=function(e,n){by=an(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&uT(e,n),Pg!==null&&Pg(e,n)};var kr=O(null);function ef(){var e=kr.current;return e!==null?e:ie.pooledCache}function Nu(e,n){n===null?it(kr,kr.current):it(kr,n.pool)}function zg(){var e=ef();return e===null?null:{parent:Re._currentValue,pool:e}}var Aa=Error(a(460)),nf=Error(a(474)),Iu=Error(a(542)),Du={then:function(){}};function Bg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function qg(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then($n,$n),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Gg(e),e;default:if(typeof n.status=="string")n.then($n,$n);else{if(e=ie,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Gg(e),e}throw jr=n,Aa}}function Ur(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(jr=r,Aa):r}}var jr=null;function Hg(){if(jr===null)throw Error(a(459));var e=jr;return jr=null,e}function Gg(e){if(e===Aa||e===Iu)throw Error(a(483))}var Sa=null,Bl=0;function Ou(e){var n=Bl;return Bl+=1,Sa===null&&(Sa=[]),qg(Sa,e,n)}function ql(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Mu(e,n){throw n.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Fg(e){function n(k,I){if(e){var L=k.deletions;L===null?(k.deletions=[I],k.flags|=16):L.push(I)}}function r(k,I){if(!e)return null;for(;I!==null;)n(k,I),I=I.sibling;return null}function l(k){for(var I=new Map;k!==null;)k.key!==null?I.set(k.key,k):I.set(k.index,k),k=k.sibling;return I}function h(k,I){return k=Hi(k,I),k.index=0,k.sibling=null,k}function f(k,I,L){return k.index=L,e?(L=k.alternate,L!==null?(L=L.index,L<I?(k.flags|=67108866,I):L):(k.flags|=67108866,I)):(k.flags|=1048576,I)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function T(k,I,L,Q){return I===null||I.tag!==6?(I=Gh(L,k.mode,Q),I.return=k,I):(I=h(I,L),I.return=k,I)}function R(k,I,L,Q){var ft=L.type;return ft===$?F(k,I,L.props.children,Q,L.key):I!==null&&(I.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===w&&Ur(ft)===I.type)?(I=h(I,L.props),ql(I,L),I.return=k,I):(I=wu(L.type,L.key,L.props,null,k.mode,Q),ql(I,L),I.return=k,I)}function P(k,I,L,Q){return I===null||I.tag!==4||I.stateNode.containerInfo!==L.containerInfo||I.stateNode.implementation!==L.implementation?(I=Fh(L,k.mode,Q),I.return=k,I):(I=h(I,L.children||[]),I.return=k,I)}function F(k,I,L,Q,ft){return I===null||I.tag!==7?(I=Dr(L,k.mode,Q,ft),I.return=k,I):(I=h(I,L),I.return=k,I)}function Y(k,I,L){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=Gh(""+I,k.mode,L),I.return=k,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case H:return L=wu(I.type,I.key,I.props,null,k.mode,L),ql(L,I),L.return=k,L;case W:return I=Fh(I,k.mode,L),I.return=k,I;case w:return I=Ur(I),Y(k,I,L)}if(ge(I)||U(I))return I=Dr(I,k.mode,L,null),I.return=k,I;if(typeof I.then=="function")return Y(k,Ou(I),L);if(I.$$typeof===pt)return Y(k,Cu(k,I),L);Mu(k,I)}return null}function z(k,I,L,Q){var ft=I!==null?I.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ft!==null?null:T(k,I,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case H:return L.key===ft?R(k,I,L,Q):null;case W:return L.key===ft?P(k,I,L,Q):null;case w:return L=Ur(L),z(k,I,L,Q)}if(ge(L)||U(L))return ft!==null?null:F(k,I,L,Q,null);if(typeof L.then=="function")return z(k,I,Ou(L),Q);if(L.$$typeof===pt)return z(k,I,Cu(k,L),Q);Mu(k,L)}return null}function q(k,I,L,Q,ft){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return k=k.get(L)||null,T(I,k,""+Q,ft);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case H:return k=k.get(Q.key===null?L:Q.key)||null,R(I,k,Q,ft);case W:return k=k.get(Q.key===null?L:Q.key)||null,P(I,k,Q,ft);case w:return Q=Ur(Q),q(k,I,L,Q,ft)}if(ge(Q)||U(Q))return k=k.get(L)||null,F(I,k,Q,ft,null);if(typeof Q.then=="function")return q(k,I,L,Ou(Q),ft);if(Q.$$typeof===pt)return q(k,I,L,Cu(I,Q),ft);Mu(I,Q)}return null}function lt(k,I,L,Q){for(var ft=null,qt=null,ot=I,Ct=I=0,Mt=null;ot!==null&&Ct<L.length;Ct++){ot.index>Ct?(Mt=ot,ot=null):Mt=ot.sibling;var Ht=z(k,ot,L[Ct],Q);if(Ht===null){ot===null&&(ot=Mt);break}e&&ot&&Ht.alternate===null&&n(k,ot),I=f(Ht,I,Ct),qt===null?ft=Ht:qt.sibling=Ht,qt=Ht,ot=Mt}if(Ct===L.length)return r(k,ot),Lt&&Gi(k,Ct),ft;if(ot===null){for(;Ct<L.length;Ct++)ot=Y(k,L[Ct],Q),ot!==null&&(I=f(ot,I,Ct),qt===null?ft=ot:qt.sibling=ot,qt=ot);return Lt&&Gi(k,Ct),ft}for(ot=l(ot);Ct<L.length;Ct++)Mt=q(ot,k,Ct,L[Ct],Q),Mt!==null&&(e&&Mt.alternate!==null&&ot.delete(Mt.key===null?Ct:Mt.key),I=f(Mt,I,Ct),qt===null?ft=Mt:qt.sibling=Mt,qt=Mt);return e&&ot.forEach(function(Fs){return n(k,Fs)}),Lt&&Gi(k,Ct),ft}function gt(k,I,L,Q){if(L==null)throw Error(a(151));for(var ft=null,qt=null,ot=I,Ct=I=0,Mt=null,Ht=L.next();ot!==null&&!Ht.done;Ct++,Ht=L.next()){ot.index>Ct?(Mt=ot,ot=null):Mt=ot.sibling;var Fs=z(k,ot,Ht.value,Q);if(Fs===null){ot===null&&(ot=Mt);break}e&&ot&&Fs.alternate===null&&n(k,ot),I=f(Fs,I,Ct),qt===null?ft=Fs:qt.sibling=Fs,qt=Fs,ot=Mt}if(Ht.done)return r(k,ot),Lt&&Gi(k,Ct),ft;if(ot===null){for(;!Ht.done;Ct++,Ht=L.next())Ht=Y(k,Ht.value,Q),Ht!==null&&(I=f(Ht,I,Ct),qt===null?ft=Ht:qt.sibling=Ht,qt=Ht);return Lt&&Gi(k,Ct),ft}for(ot=l(ot);!Ht.done;Ct++,Ht=L.next())Ht=q(ot,k,Ct,Ht.value,Q),Ht!==null&&(e&&Ht.alternate!==null&&ot.delete(Ht.key===null?Ct:Ht.key),I=f(Ht,I,Ct),qt===null?ft=Ht:qt.sibling=Ht,qt=Ht);return e&&ot.forEach(function(Tb){return n(k,Tb)}),Lt&&Gi(k,Ct),ft}function ee(k,I,L,Q){if(typeof L=="object"&&L!==null&&L.type===$&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case H:t:{for(var ft=L.key;I!==null;){if(I.key===ft){if(ft=L.type,ft===$){if(I.tag===7){r(k,I.sibling),Q=h(I,L.props.children),Q.return=k,k=Q;break t}}else if(I.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===w&&Ur(ft)===I.type){r(k,I.sibling),Q=h(I,L.props),ql(Q,L),Q.return=k,k=Q;break t}r(k,I);break}else n(k,I);I=I.sibling}L.type===$?(Q=Dr(L.props.children,k.mode,Q,L.key),Q.return=k,k=Q):(Q=wu(L.type,L.key,L.props,null,k.mode,Q),ql(Q,L),Q.return=k,k=Q)}return g(k);case W:t:{for(ft=L.key;I!==null;){if(I.key===ft)if(I.tag===4&&I.stateNode.containerInfo===L.containerInfo&&I.stateNode.implementation===L.implementation){r(k,I.sibling),Q=h(I,L.children||[]),Q.return=k,k=Q;break t}else{r(k,I);break}else n(k,I);I=I.sibling}Q=Fh(L,k.mode,Q),Q.return=k,k=Q}return g(k);case w:return L=Ur(L),ee(k,I,L,Q)}if(ge(L))return lt(k,I,L,Q);if(U(L)){if(ft=U(L),typeof ft!="function")throw Error(a(150));return L=ft.call(L),gt(k,I,L,Q)}if(typeof L.then=="function")return ee(k,I,Ou(L),Q);if(L.$$typeof===pt)return ee(k,I,Cu(k,L),Q);Mu(k,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,I!==null&&I.tag===6?(r(k,I.sibling),Q=h(I,L),Q.return=k,k=Q):(r(k,I),Q=Gh(L,k.mode,Q),Q.return=k,k=Q),g(k)):r(k,I)}return function(k,I,L,Q){try{Bl=0;var ft=ee(k,I,L,Q);return Sa=null,ft}catch(ot){if(ot===Aa||ot===Iu)throw ot;var qt=Sn(29,ot,null,k.mode);return qt.lanes=Q,qt.return=k,qt}}}var Lr=Fg(!0),Qg=Fg(!1),Cs=!1;function sf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ns(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Is(e,n,r){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Qt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Su(e),Ng(e,null,r),n}return Au(e,l,n,r),Su(e)}function Hl(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,pl(e,r)}}function af(e,n){var r=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var h=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var g={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,r=r.next}while(r!==null);f===null?h=f=n:f=f.next=n}else h=f=n;r={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var lf=!1;function Gl(){if(lf){var e=ba;if(e!==null)throw e}}function Fl(e,n,r,l){lf=!1;var h=e.updateQueue;Cs=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,P=R.next;R.next=null,g===null?f=P:g.next=P,g=R;var F=e.alternate;F!==null&&(F=F.updateQueue,T=F.lastBaseUpdate,T!==g&&(T===null?F.firstBaseUpdate=P:T.next=P,F.lastBaseUpdate=R))}if(f!==null){var Y=h.baseState;g=0,F=P=R=null,T=f;do{var z=T.lane&-536870913,q=z!==T.lane;if(q?(Ot&z)===z:(l&z)===z){z!==0&&z===Ta&&(lf=!0),F!==null&&(F=F.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var lt=e,gt=T;z=n;var ee=r;switch(gt.tag){case 1:if(lt=gt.payload,typeof lt=="function"){Y=lt.call(ee,Y,z);break t}Y=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=gt.payload,z=typeof lt=="function"?lt.call(ee,Y,z):lt,z==null)break t;Y=S({},Y,z);break t;case 2:Cs=!0}}z=T.callback,z!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},F===null?(P=F=q,R=Y):F=F.next=q,g|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;q=T,T=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(R=Y),h.baseState=R,h.firstBaseUpdate=P,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),ks|=g,e.lanes=g,e.memoizedState=Y}}function Kg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Yg(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Kg(r[e],n)}var wa=O(null),Vu=O(0);function Xg(e,n){e=es,it(Vu,e),it(wa,n),es=e|n.baseLanes}function of(){it(Vu,es),it(wa,wa.current)}function uf(){es=Vu.current,K(wa),K(Vu)}var wn=O(null),Bn=null;function Ds(e){var n=e.alternate;it(_e,_e.current&1),it(wn,e),Bn===null&&(n===null||wa.current!==null||n.memoizedState!==null)&&(Bn=e)}function cf(e){it(_e,_e.current),it(wn,e),Bn===null&&(Bn=e)}function $g(e){e.tag===22?(it(_e,_e.current),it(wn,e),Bn===null&&(Bn=e)):Os()}function Os(){it(_e,_e.current),it(wn,wn.current)}function xn(e){K(wn),Bn===e&&(Bn=null),K(_e)}var _e=O(0);function ku(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||pd(r)||yd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ki=0,xt=null,Wt=null,Ce=null,Uu=!1,xa=!1,Pr=!1,ju=0,Ql=0,Ra=null,hT=0;function de(){throw Error(a(321))}function hf(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!An(e[r],n[r]))return!1;return!0}function ff(e,n,r,l,h,f){return Ki=f,xt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Mp:Rf,Pr=!1,f=r(l,h),Pr=!1,xa&&(f=Jg(n,r,l,h)),Zg(e),f}function Zg(e){G.H=Xl;var n=Wt!==null&&Wt.next!==null;if(Ki=0,Ce=Wt=xt=null,Uu=!1,Ql=0,Ra=null,n)throw Error(a(300));e===null||Ne||(e=e.dependencies,e!==null&&Ru(e)&&(Ne=!0))}function Jg(e,n,r,l){xt=e;var h=0;do{if(xa&&(Ra=null),Ql=0,xa=!1,25<=h)throw Error(a(301));if(h+=1,Ce=Wt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Vp,f=n(r,l)}while(xa);return f}function fT(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?Kl(n):n,e=e.useState()[0],(Wt!==null?Wt.memoizedState:null)!==e&&(xt.flags|=1024),n}function df(){var e=ju!==0;return ju=0,e}function mf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function gf(e){if(Uu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Uu=!1}Ki=0,Ce=Wt=xt=null,xa=!1,Ql=ju=0,Ra=null}function on(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ce===null?xt.memoizedState=Ce=e:Ce=Ce.next=e,Ce}function ve(){if(Wt===null){var e=xt.alternate;e=e!==null?e.memoizedState:null}else e=Wt.next;var n=Ce===null?xt.memoizedState:Ce.next;if(n!==null)Ce=n,Wt=e;else{if(e===null)throw xt.alternate===null?Error(a(467)):Error(a(310));Wt=e,e={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Ce===null?xt.memoizedState=Ce=e:Ce=Ce.next=e}return Ce}function Lu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kl(e){var n=Ql;return Ql+=1,Ra===null&&(Ra=[]),e=qg(Ra,e,n),n=xt,(Ce===null?n.memoizedState:Ce.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Mp:Rf),e}function Pu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Kl(e);if(e.$$typeof===pt)return Ye(e)}throw Error(a(438,String(e)))}function pf(e){var n=null,r=xt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=xt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Lu(),xt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),l=0;l<e;l++)r[l]=V;return n.index++,r}function Yi(e,n){return typeof n=="function"?n(e):n}function zu(e){var n=ve();return yf(n,Wt,e)}function yf(e,n,r){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var T=g=null,R=null,P=n,F=!1;do{var Y=P.lane&-536870913;if(Y!==P.lane?(Ot&Y)===Y:(Ki&Y)===Y){var z=P.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Y===Ta&&(F=!0);else if((Ki&z)===z){P=P.next,z===Ta&&(F=!0);continue}else Y={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(T=R=Y,g=f):R=R.next=Y,xt.lanes|=z,ks|=z;Y=P.action,Pr&&r(f,Y),f=P.hasEagerState?P.eagerState:r(f,Y)}else z={lane:Y,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(T=R=z,g=f):R=R.next=z,xt.lanes|=Y,ks|=Y;P=P.next}while(P!==null&&P!==n);if(R===null?g=f:R.next=T,!An(f,e.memoizedState)&&(Ne=!0,F&&(r=ba,r!==null)))throw r;e.memoizedState=f,e.baseState=g,e.baseQueue=R,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function _f(e){var n=ve(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var l=r.dispatch,h=r.pending,f=n.memoizedState;if(h!==null){r.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);An(f,n.memoizedState)||(Ne=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Wg(e,n,r){var l=xt,h=ve(),f=Lt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var g=!An((Wt||h).memoizedState,r);if(g&&(h.memoizedState=r,Ne=!0),h=h.queue,Tf(np.bind(null,l,h,e),[e]),h.getSnapshot!==n||g||Ce!==null&&Ce.memoizedState.tag&1){if(l.flags|=2048,Ca(9,{destroy:void 0},ep.bind(null,l,h,r,n),null),ie===null)throw Error(a(349));f||(Ki&127)!==0||tp(l,n,r)}return r}function tp(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=xt.updateQueue,n===null?(n=Lu(),xt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function ep(e,n,r,l){n.value=r,n.getSnapshot=l,ip(n)&&sp(e)}function np(e,n,r){return r(function(){ip(n)&&sp(e)})}function ip(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!An(e,r)}catch{return!0}}function sp(e){var n=Ir(e,2);n!==null&&yn(n,e,2)}function vf(e){var n=on();if(typeof e=="function"){var r=e;if(e=r(),Pr){Dn(!0);try{r()}finally{Dn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:e},n}function rp(e,n,r,l){return e.baseState=r,yf(e,Wt,typeof l=="function"?l:Yi)}function dT(e,n,r,l,h){if(Hu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,ap(n,f)):(f.next=r.next,n.pending=r.next=f)}}function ap(e,n){var r=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var T=r(h,l),R=G.S;R!==null&&R(g,T),lp(e,n,T)}catch(P){Ef(e,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=r(h,l),lp(e,n,f)}catch(P){Ef(e,n,P)}}function lp(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){op(e,n,l)},function(l){return Ef(e,n,l)}):op(e,n,r)}function op(e,n,r){n.status="fulfilled",n.value=r,up(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,ap(e,r)))}function Ef(e,n,r){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,up(n),n=n.next;while(n!==l)}e.action=null}function up(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function cp(e,n){return n}function hp(e,n){if(Lt){var r=ie.formState;if(r!==null){t:{var l=xt;if(Lt){if(re){e:{for(var h=re,f=zn;h.nodeType!==8;){if(!f){h=null;break e}if(h=qn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){re=qn(h.nextSibling),l=h.data==="F!";break t}}xs(l)}l=!1}l&&(n=r[0])}}return r=on(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cp,lastRenderedState:n},r.queue=l,r=Ip.bind(null,xt,l),l.dispatch=r,l=vf(!1),f=xf.bind(null,xt,!1,l.queue),l=on(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,r=dT.bind(null,xt,h,f,r),h.dispatch=r,l.memoizedState=e,[n,r,!1]}function fp(e){var n=ve();return dp(n,Wt,e)}function dp(e,n,r){if(n=yf(e,n,cp)[0],e=zu(Yi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Kl(n)}catch(g){throw g===Aa?Iu:g}else l=n;n=ve();var h=n.queue,f=h.dispatch;return r!==n.memoizedState&&(xt.flags|=2048,Ca(9,{destroy:void 0},mT.bind(null,h,r),null)),[l,f,e]}function mT(e,n){e.action=n}function mp(e){var n=ve(),r=Wt;if(r!==null)return dp(n,r,e);ve(),n=n.memoizedState,r=ve();var l=r.queue.dispatch;return r.memoizedState=e,[n,l,!1]}function Ca(e,n,r,l){return e={tag:e,create:r,deps:l,inst:n,next:null},n=xt.updateQueue,n===null&&(n=Lu(),xt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(l=r.next,r.next=e,e.next=l,n.lastEffect=e),e}function gp(){return ve().memoizedState}function Bu(e,n,r,l){var h=on();xt.flags|=e,h.memoizedState=Ca(1|n,{destroy:void 0},r,l===void 0?null:l)}function qu(e,n,r,l){var h=ve();l=l===void 0?null:l;var f=h.memoizedState.inst;Wt!==null&&l!==null&&hf(l,Wt.memoizedState.deps)?h.memoizedState=Ca(n,f,r,l):(xt.flags|=e,h.memoizedState=Ca(1|n,f,r,l))}function pp(e,n){Bu(8390656,8,e,n)}function Tf(e,n){qu(2048,8,e,n)}function gT(e){xt.flags|=4;var n=xt.updateQueue;if(n===null)n=Lu(),xt.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function yp(e){var n=ve().memoizedState;return gT({ref:n,nextImpl:e}),function(){if((Qt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function _p(e,n){return qu(4,2,e,n)}function vp(e,n){return qu(4,4,e,n)}function Ep(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Tp(e,n,r){r=r!=null?r.concat([e]):null,qu(4,4,Ep.bind(null,n,e),r)}function bf(){}function bp(e,n){var r=ve();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&hf(n,l[1])?l[0]:(r.memoizedState=[e,n],e)}function Ap(e,n){var r=ve();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&hf(n,l[1]))return l[0];if(l=e(),Pr){Dn(!0);try{e()}finally{Dn(!1)}}return r.memoizedState=[l,n],l}function Af(e,n,r){return r===void 0||(Ki&1073741824)!==0&&(Ot&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=Sy(),xt.lanes|=e,ks|=e,r)}function Sp(e,n,r,l){return An(r,n)?r:wa.current!==null?(e=Af(e,r,l),An(e,n)||(Ne=!0),e):(Ki&42)===0||(Ki&1073741824)!==0&&(Ot&261930)===0?(Ne=!0,e.memoizedState=r):(e=Sy(),xt.lanes|=e,ks|=e,n)}function wp(e,n,r,l,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var g=G.T,T={};G.T=T,xf(e,!1,n,r);try{var R=h(),P=G.S;if(P!==null&&P(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var F=cT(R,l);Yl(e,n,F,Nn(e))}else Yl(e,n,l,Nn(e))}catch(Y){Yl(e,n,{then:function(){},status:"rejected",reason:Y},Nn())}finally{nt.p=f,g!==null&&T.types!==null&&(g.types=T.types),G.T=g}}function pT(){}function Sf(e,n,r,l){if(e.tag!==5)throw Error(a(476));var h=xp(e).queue;wp(e,h,n,ht,r===null?pT:function(){return Rp(e),r(l)})}function xp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:ht},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Rp(e){var n=xp(e);n.next===null&&(n=e.alternate.memoizedState),Yl(e,n.next.queue,{},Nn())}function wf(){return Ye(ho)}function Cp(){return ve().memoizedState}function Np(){return ve().memoizedState}function yT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=Nn();e=Ns(r);var l=Is(n,e,r);l!==null&&(yn(l,n,r),Hl(l,n,r)),n={cache:Wh()},e.payload=n;return}n=n.return}}function _T(e,n,r){var l=Nn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Hu(e)?Dp(n,r):(r=qh(e,n,r,l),r!==null&&(yn(r,e,l),Op(r,n,l)))}function Ip(e,n,r){var l=Nn();Yl(e,n,r,l)}function Yl(e,n,r,l){var h={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Hu(e))Dp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,T=f(g,r);if(h.hasEagerState=!0,h.eagerState=T,An(T,g))return Au(e,n,h,0),ie===null&&bu(),!1}catch{}if(r=qh(e,n,h,l),r!==null)return yn(r,e,l),Op(r,n,l),!0}return!1}function xf(e,n,r,l){if(l={lane:2,revertLane:sd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Hu(e)){if(n)throw Error(a(479))}else n=qh(e,r,l,2),n!==null&&yn(n,e,2)}function Hu(e){var n=e.alternate;return e===xt||n!==null&&n===xt}function Dp(e,n){xa=Uu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Op(e,n,r){if((r&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,pl(e,r)}}var Xl={readContext:Ye,use:Pu,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de};Xl.useEffectEvent=de;var Mp={readContext:Ye,use:Pu,useCallback:function(e,n){return on().memoizedState=[e,n===void 0?null:n],e},useContext:Ye,useEffect:pp,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Bu(4194308,4,Ep.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Bu(4194308,4,e,n)},useInsertionEffect:function(e,n){Bu(4,2,e,n)},useMemo:function(e,n){var r=on();n=n===void 0?null:n;var l=e();if(Pr){Dn(!0);try{e()}finally{Dn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(e,n,r){var l=on();if(r!==void 0){var h=r(n);if(Pr){Dn(!0);try{r(n)}finally{Dn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=_T.bind(null,xt,e),[l.memoizedState,e]},useRef:function(e){var n=on();return e={current:e},n.memoizedState=e},useState:function(e){e=vf(e);var n=e.queue,r=Ip.bind(null,xt,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:bf,useDeferredValue:function(e,n){var r=on();return Af(r,e,n)},useTransition:function(){var e=vf(!1);return e=wp.bind(null,xt,e.queue,!0,!1),on().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var l=xt,h=on();if(Lt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),ie===null)throw Error(a(349));(Ot&127)!==0||tp(l,n,r)}h.memoizedState=r;var f={value:r,getSnapshot:n};return h.queue=f,pp(np.bind(null,l,f,e),[e]),l.flags|=2048,Ca(9,{destroy:void 0},ep.bind(null,l,f,r,n),null),r},useId:function(){var e=on(),n=ie.identifierPrefix;if(Lt){var r=Si,l=Ai;r=(l&~(1<<32-pe(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=ju++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=hT++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:wf,useFormState:hp,useActionState:hp,useOptimistic:function(e){var n=on();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=xf.bind(null,xt,!0,r),r.dispatch=n,[e,n]},useMemoCache:pf,useCacheRefresh:function(){return on().memoizedState=yT.bind(null,xt)},useEffectEvent:function(e){var n=on(),r={impl:e};return n.memoizedState=r,function(){if((Qt&2)!==0)throw Error(a(440));return r.impl.apply(void 0,arguments)}}},Rf={readContext:Ye,use:Pu,useCallback:bp,useContext:Ye,useEffect:Tf,useImperativeHandle:Tp,useInsertionEffect:_p,useLayoutEffect:vp,useMemo:Ap,useReducer:zu,useRef:gp,useState:function(){return zu(Yi)},useDebugValue:bf,useDeferredValue:function(e,n){var r=ve();return Sp(r,Wt.memoizedState,e,n)},useTransition:function(){var e=zu(Yi)[0],n=ve().memoizedState;return[typeof e=="boolean"?e:Kl(e),n]},useSyncExternalStore:Wg,useId:Cp,useHostTransitionStatus:wf,useFormState:fp,useActionState:fp,useOptimistic:function(e,n){var r=ve();return rp(r,Wt,e,n)},useMemoCache:pf,useCacheRefresh:Np};Rf.useEffectEvent=yp;var Vp={readContext:Ye,use:Pu,useCallback:bp,useContext:Ye,useEffect:Tf,useImperativeHandle:Tp,useInsertionEffect:_p,useLayoutEffect:vp,useMemo:Ap,useReducer:_f,useRef:gp,useState:function(){return _f(Yi)},useDebugValue:bf,useDeferredValue:function(e,n){var r=ve();return Wt===null?Af(r,e,n):Sp(r,Wt.memoizedState,e,n)},useTransition:function(){var e=_f(Yi)[0],n=ve().memoizedState;return[typeof e=="boolean"?e:Kl(e),n]},useSyncExternalStore:Wg,useId:Cp,useHostTransitionStatus:wf,useFormState:mp,useActionState:mp,useOptimistic:function(e,n){var r=ve();return Wt!==null?rp(r,Wt,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:pf,useCacheRefresh:Np};Vp.useEffectEvent=yp;function Cf(e,n,r,l){n=e.memoizedState,r=r(l,n),r=r==null?n:S({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Nf={enqueueSetState:function(e,n,r){e=e._reactInternals;var l=Nn(),h=Ns(l);h.payload=n,r!=null&&(h.callback=r),n=Is(e,h,l),n!==null&&(yn(n,e,l),Hl(n,e,l))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var l=Nn(),h=Ns(l);h.tag=1,h.payload=n,r!=null&&(h.callback=r),n=Is(e,h,l),n!==null&&(yn(n,e,l),Hl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Nn(),l=Ns(r);l.tag=2,n!=null&&(l.callback=n),n=Is(e,l,r),n!==null&&(yn(n,e,r),Hl(n,e,r))}};function kp(e,n,r,l,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!kl(r,l)||!kl(h,f):!0}function Up(e,n,r,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==e&&Nf.enqueueReplaceState(n,n.state,null)}function zr(e,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(e=e.defaultProps){r===n&&(r=S({},r));for(var h in e)r[h]===void 0&&(r[h]=e[h])}return r}function jp(e){Tu(e)}function Lp(e){console.error(e)}function Pp(e){Tu(e)}function Gu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function zp(e,n,r){try{var l=e.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function If(e,n,r){return r=Ns(r),r.tag=3,r.payload={element:null},r.callback=function(){Gu(e,n)},r}function Bp(e){return e=Ns(e),e.tag=3,e}function qp(e,n,r,l){var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){zp(n,r,l)}}var g=r.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){zp(n,r,l),typeof h!="function"&&(Us===null?Us=new Set([this]):Us.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function vT(e,n,r,l,h){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Ea(n,r,h,!0),r=wn.current,r!==null){switch(r.tag){case 31:case 13:return Bn===null?nc():r.alternate===null&&me===0&&(me=3),r.flags&=-257,r.flags|=65536,r.lanes=h,l===Du?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),ed(e,l,h)),!1;case 22:return r.flags|=65536,l===Du?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),ed(e,l,h)),!1}throw Error(a(435,r.tag))}return ed(e,l,h),nc(),!1}if(Lt)return n=wn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Yh&&(e=Error(a(422),{cause:l}),Ll(jn(e,r)))):(l!==Yh&&(n=Error(a(423),{cause:l}),Ll(jn(n,r))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=jn(l,r),h=If(e.stateNode,l,h),af(e,h),me!==4&&(me=2)),!1;var f=Error(a(520),{cause:l});if(f=jn(f,r),io===null?io=[f]:io.push(f),me!==4&&(me=2),n===null)return!0;l=jn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=h&-h,r.lanes|=e,e=If(r.stateNode,l,e),af(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Us===null||!Us.has(f))))return r.flags|=65536,h&=-h,r.lanes|=h,h=Bp(h),qp(h,e,r,l),af(r,h),!1}r=r.return}while(r!==null);return!1}var Df=Error(a(461)),Ne=!1;function Xe(e,n,r,l){n.child=e===null?Qg(n,null,r,l):Lr(n,e.child,r,l)}function Hp(e,n,r,l,h){r=r.render;var f=n.ref;if("ref"in l){var g={};for(var T in l)T!=="ref"&&(g[T]=l[T])}else g=l;return Vr(n),l=ff(e,n,r,g,f,h),T=df(),e!==null&&!Ne?(mf(e,n,h),Xi(e,n,h)):(Lt&&T&&Qh(n),n.flags|=1,Xe(e,n,l,h),n.child)}function Gp(e,n,r,l,h){if(e===null){var f=r.type;return typeof f=="function"&&!Hh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Fp(e,n,f,l,h)):(e=wu(r.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Pf(e,h)){var g=f.memoizedProps;if(r=r.compare,r=r!==null?r:kl,r(g,l)&&e.ref===n.ref)return Xi(e,n,h)}return n.flags|=1,e=Hi(f,l),e.ref=n.ref,e.return=n,n.child=e}function Fp(e,n,r,l,h){if(e!==null){var f=e.memoizedProps;if(kl(f,l)&&e.ref===n.ref)if(Ne=!1,n.pendingProps=l=f,Pf(e,h))(e.flags&131072)!==0&&(Ne=!0);else return n.lanes=e.lanes,Xi(e,n,h)}return Of(e,n,r,l,h)}function Qp(e,n,r,l){var h=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|r:r,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Kp(e,n,f,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Nu(n,f!==null?f.cachePool:null),f!==null?Xg(n,f):of(),$g(n);else return l=n.lanes=536870912,Kp(e,n,f!==null?f.baseLanes|r:r,r,l)}else f!==null?(Nu(n,f.cachePool),Xg(n,f),Os(),n.memoizedState=null):(e!==null&&Nu(n,null),of(),Os());return Xe(e,n,h,r),n.child}function $l(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Kp(e,n,r,l,h){var f=ef();return f=f===null?null:{parent:Re._currentValue,pool:f},n.memoizedState={baseLanes:r,cachePool:f},e!==null&&Nu(n,null),of(),$g(n),e!==null&&Ea(e,n,l,!0),n.childLanes=h,null}function Fu(e,n){return n=Ku({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Yp(e,n,r){return Lr(n,e.child,null,r),e=Fu(n,n.pendingProps),e.flags|=2,xn(n),n.memoizedState=null,e}function ET(e,n,r){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Lt){if(l.mode==="hidden")return e=Fu(n,l),n.lanes=536870912,$l(null,e);if(cf(n),(e=re)?(e=a_(e,zn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ss!==null?{id:Ai,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},r=Dg(e),r.return=n,n.child=r,Ke=n,re=null)):e=null,e===null)throw xs(n);return n.lanes=536870912,null}return Fu(n,l)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(cf(n),h)if(n.flags&256)n.flags&=-257,n=Yp(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ne||Ea(e,n,r,!1),h=(r&e.childLanes)!==0,Ne||h){if(l=ie,l!==null&&(g=yl(l,r),g!==0&&g!==f.retryLane))throw f.retryLane=g,Ir(e,g),yn(l,e,g),Df;nc(),n=Yp(e,n,r)}else e=f.treeContext,re=qn(g.nextSibling),Ke=n,Lt=!0,ws=null,zn=!1,e!==null&&Vg(n,e),n=Fu(n,l),n.flags|=4096;return n}return e=Hi(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Qu(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Of(e,n,r,l,h){return Vr(n),r=ff(e,n,r,l,void 0,h),l=df(),e!==null&&!Ne?(mf(e,n,h),Xi(e,n,h)):(Lt&&l&&Qh(n),n.flags|=1,Xe(e,n,r,h),n.child)}function Xp(e,n,r,l,h,f){return Vr(n),n.updateQueue=null,r=Jg(n,l,r,h),Zg(e),l=df(),e!==null&&!Ne?(mf(e,n,f),Xi(e,n,f)):(Lt&&l&&Qh(n),n.flags|=1,Xe(e,n,r,f),n.child)}function $p(e,n,r,l,h){if(Vr(n),n.stateNode===null){var f=pa,g=r.contextType;typeof g=="object"&&g!==null&&(f=Ye(g)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Nf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},sf(n),g=r.contextType,f.context=typeof g=="object"&&g!==null?Ye(g):pa,f.state=n.memoizedState,g=r.getDerivedStateFromProps,typeof g=="function"&&(Cf(n,r,g,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Nf.enqueueReplaceState(f,f.state,null),Fl(n,l,f,h),Gl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,R=zr(r,T);f.props=R;var P=f.context,F=r.contextType;g=pa,typeof F=="object"&&F!==null&&(g=Ye(F));var Y=r.getDerivedStateFromProps;F=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||P!==g)&&Up(n,f,l,g),Cs=!1;var z=n.memoizedState;f.state=z,Fl(n,l,f,h),Gl(),P=n.memoizedState,T||z!==P||Cs?(typeof Y=="function"&&(Cf(n,r,Y,l),P=n.memoizedState),(R=Cs||kp(n,r,R,l,z,P,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=g,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,rf(e,n),g=n.memoizedProps,F=zr(r,g),f.props=F,Y=n.pendingProps,z=f.context,P=r.contextType,R=pa,typeof P=="object"&&P!==null&&(R=Ye(P)),T=r.getDerivedStateFromProps,(P=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||z!==R)&&Up(n,f,l,R),Cs=!1,z=n.memoizedState,f.state=z,Fl(n,l,f,h),Gl();var q=n.memoizedState;g!==Y||z!==q||Cs||e!==null&&e.dependencies!==null&&Ru(e.dependencies)?(typeof T=="function"&&(Cf(n,r,T,l),q=n.memoizedState),(F=Cs||kp(n,r,F,l,z,q,R)||e!==null&&e.dependencies!==null&&Ru(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=R,l=F):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Qu(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Lr(n,e.child,null,h),n.child=Lr(n,null,r,h)):Xe(e,n,r,h),n.memoizedState=f.state,e=n.child):e=Xi(e,n,h),e}function Zp(e,n,r,l){return Or(),n.flags|=256,Xe(e,n,r,l),n.child}var Mf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vf(e){return{baseLanes:e,cachePool:zg()}}function kf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=Cn),e}function Jp(e,n,r){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(_e.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Lt){if(h?Ds(n):Os(),(e=re)?(e=a_(e,zn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ss!==null?{id:Ai,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},r=Dg(e),r.return=n,n.child=r,Ke=n,re=null)):e=null,e===null)throw xs(n);return yd(e)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Os(),h=n.mode,T=Ku({mode:"hidden",children:T},h),l=Dr(l,h,r,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=Vf(r),l.childLanes=kf(e,g,r),n.memoizedState=Mf,$l(null,l)):(Ds(n),Uf(n,T))}var R=e.memoizedState;if(R!==null&&(T=R.dehydrated,T!==null)){if(f)n.flags&256?(Ds(n),n.flags&=-257,n=jf(e,n,r)):n.memoizedState!==null?(Os(),n.child=e.child,n.flags|=128,n=null):(Os(),T=l.fallback,h=n.mode,l=Ku({mode:"visible",children:l.children},h),T=Dr(T,h,r,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,Lr(n,e.child,null,r),l=n.child,l.memoizedState=Vf(r),l.childLanes=kf(e,g,r),n.memoizedState=Mf,n=$l(null,l));else if(Ds(n),yd(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var P=g.dgst;g=P,l=Error(a(419)),l.stack="",l.digest=g,Ll({value:l,source:null,stack:null}),n=jf(e,n,r)}else if(Ne||Ea(e,n,r,!1),g=(r&e.childLanes)!==0,Ne||g){if(g=ie,g!==null&&(l=yl(g,r),l!==0&&l!==R.retryLane))throw R.retryLane=l,Ir(e,l),yn(g,e,l),Df;pd(T)||nc(),n=jf(e,n,r)}else pd(T)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,re=qn(T.nextSibling),Ke=n,Lt=!0,ws=null,zn=!1,e!==null&&Vg(n,e),n=Uf(n,l.children),n.flags|=4096);return n}return h?(Os(),T=l.fallback,h=n.mode,R=e.child,P=R.sibling,l=Hi(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,P!==null?T=Hi(P,T):(T=Dr(T,h,r,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,$l(null,l),l=n.child,T=e.child.memoizedState,T===null?T=Vf(r):(h=T.cachePool,h!==null?(R=Re._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=zg(),T={baseLanes:T.baseLanes|r,cachePool:h}),l.memoizedState=T,l.childLanes=kf(e,g,r),n.memoizedState=Mf,$l(e.child,l)):(Ds(n),r=e.child,e=r.sibling,r=Hi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=r,n.memoizedState=null,r)}function Uf(e,n){return n=Ku({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ku(e,n){return e=Sn(22,e,null,n),e.lanes=0,e}function jf(e,n,r){return Lr(n,e.child,null,r),e=Uf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Wp(e,n,r){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Zh(e.return,n,r)}function Lf(e,n,r,l,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=r,g.tailMode=h,g.treeForkCount=f)}function ty(e,n,r){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var g=_e.current,T=(g&2)!==0;if(T?(g=g&1|2,n.flags|=128):g&=1,it(_e,g),Xe(e,n,l,r),l=Lt?jl:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wp(e,r,n);else if(e.tag===19)Wp(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(r=n.child,h=null;r!==null;)e=r.alternate,e!==null&&ku(e)===null&&(h=r),r=r.sibling;r=h,r===null?(h=n.child,n.child=null):(h=r.sibling,r.sibling=null),Lf(n,!1,h,r,f,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&ku(e)===null){n.child=h;break}e=h.sibling,h.sibling=r,r=h,h=e}Lf(n,!0,r,null,f,l);break;case"together":Lf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Xi(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),ks|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(Ea(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=Hi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Hi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Pf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ru(e)))}function TT(e,n,r){switch(n.tag){case 3:st(n,n.stateNode.containerInfo),Rs(n,Re,e.memoizedState.cache),Or();break;case 27:case 5:Pt(n);break;case 4:st(n,n.stateNode.containerInfo);break;case 10:Rs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,cf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ds(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Jp(e,n,r):(Ds(n),e=Xi(e,n,r),e!==null?e.sibling:null);Ds(n);break;case 19:var h=(e.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Ea(e,n,r,!1),l=(r&n.childLanes)!==0),h){if(l)return ty(e,n,r);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(_e,_e.current),l)break;return null;case 22:return n.lanes=0,Qp(e,n,r,n.pendingProps);case 24:Rs(n,Re,e.memoizedState.cache)}return Xi(e,n,r)}function ey(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ne=!0;else{if(!Pf(e,r)&&(n.flags&128)===0)return Ne=!1,TT(e,n,r);Ne=(e.flags&131072)!==0}else Ne=!1,Lt&&(n.flags&1048576)!==0&&Mg(n,jl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=Ur(n.elementType),n.type=e,typeof e=="function")Hh(e)?(l=zr(e,l),n.tag=1,n=$p(null,n,e,l,r)):(n.tag=0,n=Of(null,n,e,l,r));else{if(e!=null){var h=e.$$typeof;if(h===Kt){n.tag=11,n=Hp(null,n,e,l,r);break t}else if(h===N){n.tag=14,n=Gp(null,n,e,l,r);break t}}throw n=Nt(e)||e,Error(a(306,n,""))}}return n;case 0:return Of(e,n,n.type,n.pendingProps,r);case 1:return l=n.type,h=zr(l,n.pendingProps),$p(e,n,l,h,r);case 3:t:{if(st(n,n.stateNode.containerInfo),e===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,rf(e,n),Fl(n,l,null,r);var g=n.memoizedState;if(l=g.cache,Rs(n,Re,l),l!==f.cache&&Jh(n,[Re],r,!0),Gl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Zp(e,n,l,r);break t}else if(l!==h){h=jn(Error(a(424)),n),Ll(h),n=Zp(e,n,l,r);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,re=qn(e.firstChild),Ke=n,Lt=!0,ws=null,zn=!0,r=Qg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Or(),l===h){n=Xi(e,n,r);break t}Xe(e,n,l,r)}n=n.child}return n;case 26:return Qu(e,n),e===null?(r=f_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Lt||(r=n.type,e=n.pendingProps,l=uc(St.current).createElement(r),l[Se]=n,l[Pe]=e,$e(l,r,e),we(l),n.stateNode=l):n.memoizedState=f_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Pt(n),e===null&&Lt&&(l=n.stateNode=u_(n.type,n.pendingProps,St.current),Ke=n,zn=!0,h=re,zs(n.type)?(_d=h,re=qn(l.firstChild)):re=h),Xe(e,n,n.pendingProps.children,r),Qu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Lt&&((h=l=re)&&(l=ZT(l,n.type,n.pendingProps,zn),l!==null?(n.stateNode=l,Ke=n,re=qn(l.firstChild),zn=!1,h=!0):h=!1),h||xs(n)),Pt(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,l=f.children,dd(h,f)?l=null:g!==null&&dd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=ff(e,n,fT,null,null,r),ho._currentValue=h),Qu(e,n),Xe(e,n,l,r),n.child;case 6:return e===null&&Lt&&((e=r=re)&&(r=JT(r,n.pendingProps,zn),r!==null?(n.stateNode=r,Ke=n,re=null,e=!0):e=!1),e||xs(n)),null;case 13:return Jp(e,n,r);case 4:return st(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Lr(n,null,l,r):Xe(e,n,l,r),n.child;case 11:return Hp(e,n,n.type,n.pendingProps,r);case 7:return Xe(e,n,n.pendingProps,r),n.child;case 8:return Xe(e,n,n.pendingProps.children,r),n.child;case 12:return Xe(e,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Rs(n,n.type,l.value),Xe(e,n,l.children,r),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Vr(n),h=Ye(h),l=l(h),n.flags|=1,Xe(e,n,l,r),n.child;case 14:return Gp(e,n,n.type,n.pendingProps,r);case 15:return Fp(e,n,n.type,n.pendingProps,r);case 19:return ty(e,n,r);case 31:return ET(e,n,r);case 22:return Qp(e,n,r,n.pendingProps);case 24:return Vr(n),l=Ye(Re),e===null?(h=ef(),h===null&&(h=ie,f=Wh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=r),h=f),n.memoizedState={parent:l,cache:h},sf(n),Rs(n,Re,h)):((e.lanes&r)!==0&&(rf(e,n),Fl(n,null,null,r),Gl()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Rs(n,Re,l)):(l=f.cache,Rs(n,Re,l),l!==h.cache&&Jh(n,[Re],r,!0))),Xe(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function $i(e){e.flags|=4}function zf(e,n,r,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Cy())e.flags|=8192;else throw jr=Du,nf}else e.flags&=-16777217}function ny(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!y_(n))if(Cy())e.flags|=8192;else throw jr=Du,nf}function Yu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?tu():536870912,e.lanes|=n,Oa|=n)}function Zl(e,n){if(!Lt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ae(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,l=0;if(n)for(var h=e.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)r|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=r,n}function bT(e,n,r){var l=n.pendingProps;switch(Kh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ae(n),null;case 1:return ae(n),null;case 3:return r=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Qi(Re),ut(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(va(n)?$i(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Xh())),ae(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?($i(n),f!==null?(ae(n),ny(n,f)):(ae(n),zf(n,h,null,l,r))):f?f!==e.memoizedState?($i(n),ae(n),ny(n,f)):(ae(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&$i(n),ae(n),zf(n,h,e,l,r)),null;case 27:if(he(n),r=St.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&$i(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ae(n),null}e=rt.current,va(n)?kg(n):(e=u_(h,l,r),n.stateNode=e,$i(n))}return ae(n),null;case 5:if(he(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&$i(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ae(n),null}if(f=rt.current,va(n))kg(n);else{var g=uc(St.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}f[Se]=n,f[Pe]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch($e(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&$i(n)}}return ae(n),zf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&$i(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=St.current,va(n)){if(e=n.stateNode,r=n.memoizedProps,l=null,h=Ke,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Se]=n,e=!!(e.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Jy(e.nodeValue,r)),e||xs(n,!0)}else e=uc(e).createTextNode(l),e[Se]=n,n.stateNode=e}return ae(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(l=va(n),r!==null){if(e===null){if(!l)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Se]=n}else Or(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ae(n),e=!1}else r=Xh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(xn(n),n):(xn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ae(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=va(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Se]=n}else Or(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ae(n),h=!1}else h=Xh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(xn(n),n):(xn(n),null)}return xn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,e=e!==null&&e.memoizedState!==null,r&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),Yu(n,n.updateQueue),ae(n),null);case 4:return ut(),e===null&&od(n.stateNode.containerInfo),ae(n),null;case 10:return Qi(n.type),ae(n),null;case 19:if(K(_e),l=n.memoizedState,l===null)return ae(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Zl(l,!1);else{if(me!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=ku(e),f!==null){for(n.flags|=128,Zl(l,!1),e=f.updateQueue,n.updateQueue=e,Yu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Ig(r,e),r=r.sibling;return it(_e,_e.current&1|2),Lt&&Gi(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&an()>Wu&&(n.flags|=128,h=!0,Zl(l,!1),n.lanes=4194304)}else{if(!h)if(e=ku(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Yu(n,e),Zl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Lt)return ae(n),null}else 2*an()-l.renderingStartTime>Wu&&r!==536870912&&(n.flags|=128,h=!0,Zl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=an(),e.sibling=null,r=_e.current,it(_e,h?r&1|2:r&1),Lt&&Gi(n,l.treeForkCount),e):(ae(n),null);case 22:case 23:return xn(n),uf(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ae(n),n.subtreeFlags&6&&(n.flags|=8192)):ae(n),r=n.updateQueue,r!==null&&Yu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),e!==null&&K(kr),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Qi(Re),ae(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function AT(e,n){switch(Kh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Qi(Re),ut(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return he(n),null;case 31:if(n.memoizedState!==null){if(xn(n),n.alternate===null)throw Error(a(340));Or()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(xn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Or()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(_e),null;case 4:return ut(),null;case 10:return Qi(n.type),null;case 22:case 23:return xn(n),uf(),e!==null&&K(kr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Qi(Re),null;case 25:return null;default:return null}}function iy(e,n){switch(Kh(n),n.tag){case 3:Qi(Re),ut();break;case 26:case 27:case 5:he(n);break;case 4:ut();break;case 31:n.memoizedState!==null&&xn(n);break;case 13:xn(n);break;case 19:K(_e);break;case 10:Qi(n.type);break;case 22:case 23:xn(n),uf(),e!==null&&K(kr);break;case 24:Qi(Re)}}function Jl(e,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var h=l.next;r=h;do{if((r.tag&e)===e){l=void 0;var f=r.create,g=r.inst;l=f(),g.destroy=l}r=r.next}while(r!==h)}}catch(T){Zt(n,n.return,T)}}function Ms(e,n,r){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var g=l.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,h=n;var R=r,P=T;try{P()}catch(F){Zt(h,R,F)}}}l=l.next}while(l!==f)}}catch(F){Zt(n,n.return,F)}}function sy(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Yg(n,r)}catch(l){Zt(e,e.return,l)}}}function ry(e,n,r){r.props=zr(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(l){Zt(e,n,l)}}function Wl(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof r=="function"?e.refCleanup=r(l):r.current=l}}catch(h){Zt(e,n,h)}}function wi(e,n){var r=e.ref,l=e.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(h){Zt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(h){Zt(e,n,h)}else r.current=null}function ay(e){var n=e.type,r=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(h){Zt(e,e.return,h)}}function Bf(e,n,r){try{var l=e.stateNode;FT(l,e.type,r,n),l[Pe]=n}catch(h){Zt(e,e.return,h)}}function ly(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&zs(e.type)||e.tag===4}function qf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ly(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&zs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hf(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=$n));else if(l!==4&&(l===27&&zs(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Hf(e,n,r),e=e.sibling;e!==null;)Hf(e,n,r),e=e.sibling}function Xu(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(l!==4&&(l===27&&zs(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Xu(e,n,r),e=e.sibling;e!==null;)Xu(e,n,r),e=e.sibling}function oy(e){var n=e.stateNode,r=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);$e(n,l,r),n[Se]=e,n[Pe]=r}catch(f){Zt(e,e.return,f)}}var Zi=!1,Ie=!1,Gf=!1,uy=typeof WeakSet=="function"?WeakSet:Set,Be=null;function ST(e,n){if(e=e.containerInfo,hd=pc,e=Tg(e),Uh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var g=0,T=-1,R=-1,P=0,F=0,Y=e,z=null;e:for(;;){for(var q;Y!==r||h!==0&&Y.nodeType!==3||(T=g+h),Y!==f||l!==0&&Y.nodeType!==3||(R=g+l),Y.nodeType===3&&(g+=Y.nodeValue.length),(q=Y.firstChild)!==null;)z=Y,Y=q;for(;;){if(Y===e)break e;if(z===r&&++P===h&&(T=g),z===f&&++F===l&&(R=g),(q=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=q}r=T===-1||R===-1?null:{start:T,end:R}}else r=null}r=r||{start:0,end:0}}else r=null;for(fd={focusedElem:e,selectionRange:r},pc=!1,Be=n;Be!==null;)if(n=Be,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Be=e;else for(;Be!==null;){switch(n=Be,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)h=e[r],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,h=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var lt=zr(r.type,h);e=l.getSnapshotBeforeUpdate(lt,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(gt){Zt(r,r.return,gt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)gd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Be=e;break}Be=n.return}}function cy(e,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Wi(e,r),l&4&&Jl(5,r);break;case 1:if(Wi(e,r),l&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(g){Zt(r,r.return,g)}else{var h=zr(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Zt(r,r.return,g)}}l&64&&sy(r),l&512&&Wl(r,r.return);break;case 3:if(Wi(e,r),l&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{Yg(e,n)}catch(g){Zt(r,r.return,g)}}break;case 27:n===null&&l&4&&oy(r);case 26:case 5:Wi(e,r),n===null&&l&4&&ay(r),l&512&&Wl(r,r.return);break;case 12:Wi(e,r);break;case 31:Wi(e,r),l&4&&dy(e,r);break;case 13:Wi(e,r),l&4&&my(e,r),l&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=MT.bind(null,r),WT(e,r))));break;case 22:if(l=r.memoizedState!==null||Zi,!l){n=n!==null&&n.memoizedState!==null||Ie,h=Zi;var f=Ie;Zi=l,(Ie=n)&&!f?ts(e,r,(r.subtreeFlags&8772)!==0):Wi(e,r),Zi=h,Ie=f}break;case 30:break;default:Wi(e,r)}}function hy(e){var n=e.alternate;n!==null&&(e.alternate=null,hy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&na(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ce=null,dn=!1;function Ji(e,n,r){for(r=r.child;r!==null;)fy(e,n,r),r=r.sibling}function fy(e,n,r){if(Fe&&typeof Fe.onCommitFiberUnmount=="function")try{Fe.onCommitFiberUnmount(Qn,r)}catch{}switch(r.tag){case 26:Ie||wi(r,n),Ji(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Ie||wi(r,n);var l=ce,h=dn;zs(r.type)&&(ce=r.stateNode,dn=!1),Ji(e,n,r),oo(r.stateNode),ce=l,dn=h;break;case 5:Ie||wi(r,n);case 6:if(l=ce,h=dn,ce=null,Ji(e,n,r),ce=l,dn=h,ce!==null)if(dn)try{(ce.nodeType===9?ce.body:ce.nodeName==="HTML"?ce.ownerDocument.body:ce).removeChild(r.stateNode)}catch(f){Zt(r,n,f)}else try{ce.removeChild(r.stateNode)}catch(f){Zt(r,n,f)}break;case 18:ce!==null&&(dn?(e=ce,s_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),za(e)):s_(ce,r.stateNode));break;case 4:l=ce,h=dn,ce=r.stateNode.containerInfo,dn=!0,Ji(e,n,r),ce=l,dn=h;break;case 0:case 11:case 14:case 15:Ms(2,r,n),Ie||Ms(4,r,n),Ji(e,n,r);break;case 1:Ie||(wi(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&ry(r,n,l)),Ji(e,n,r);break;case 21:Ji(e,n,r);break;case 22:Ie=(l=Ie)||r.memoizedState!==null,Ji(e,n,r),Ie=l;break;default:Ji(e,n,r)}}function dy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{za(e)}catch(r){Zt(n,n.return,r)}}}function my(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{za(e)}catch(r){Zt(n,n.return,r)}}function wT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new uy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new uy),n;default:throw Error(a(435,e.tag))}}function $u(e,n){var r=wT(e);n.forEach(function(l){if(!r.has(l)){r.add(l);var h=VT.bind(null,e,l);l.then(h,h)}})}function mn(e,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var h=r[l],f=e,g=n,T=g;t:for(;T!==null;){switch(T.tag){case 27:if(zs(T.type)){ce=T.stateNode,dn=!1;break t}break;case 5:ce=T.stateNode,dn=!1;break t;case 3:case 4:ce=T.stateNode.containerInfo,dn=!0;break t}T=T.return}if(ce===null)throw Error(a(160));fy(f,g,h),ce=null,dn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)gy(n,e),n=n.sibling}var ni=null;function gy(e,n){var r=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:mn(n,e),gn(e),l&4&&(Ms(3,e,e.return),Jl(3,e),Ms(5,e,e.return));break;case 1:mn(n,e),gn(e),l&512&&(Ie||r===null||wi(r,r.return)),l&64&&Zi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var h=ni;if(mn(n,e),gn(e),l&512&&(Ie||r===null||wi(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=e.memoizedState,r===null)if(l===null)if(e.stateNode===null){t:{l=e.type,r=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[hi]||f[Se]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),$e(f,l,r),f[Se]=e,we(f),l=f;break t;case"link":var g=g_("link","href",h).get(l+(r.href||""));if(g){for(var T=0;T<g.length;T++)if(f=g[T],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){g.splice(T,1);break e}}f=h.createElement(l),$e(f,l,r),h.head.appendChild(f);break;case"meta":if(g=g_("meta","content",h).get(l+(r.content||""))){for(T=0;T<g.length;T++)if(f=g[T],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){g.splice(T,1);break e}}f=h.createElement(l),$e(f,l,r),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Se]=e,we(f),l=f}e.stateNode=l}else p_(h,e.type,e.stateNode);else e.stateNode=m_(h,l,e.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?p_(h,e.type,e.stateNode):m_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Bf(e,e.memoizedProps,r.memoizedProps)}break;case 27:mn(n,e),gn(e),l&512&&(Ie||r===null||wi(r,r.return)),r!==null&&l&4&&Bf(e,e.memoizedProps,r.memoizedProps);break;case 5:if(mn(n,e),gn(e),l&512&&(Ie||r===null||wi(r,r.return)),e.flags&32){h=e.stateNode;try{fn(h,"")}catch(lt){Zt(e,e.return,lt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Bf(e,h,r!==null?r.memoizedProps:h)),l&1024&&(Gf=!0);break;case 6:if(mn(n,e),gn(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,r=e.stateNode;try{r.nodeValue=l}catch(lt){Zt(e,e.return,lt)}}break;case 3:if(fc=null,h=ni,ni=cc(n.containerInfo),mn(n,e),ni=h,gn(e),l&4&&r!==null&&r.memoizedState.isDehydrated)try{za(n.containerInfo)}catch(lt){Zt(e,e.return,lt)}Gf&&(Gf=!1,py(e));break;case 4:l=ni,ni=cc(e.stateNode.containerInfo),mn(n,e),gn(e),ni=l;break;case 12:mn(n,e),gn(e);break;case 31:mn(n,e),gn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,$u(e,l)));break;case 13:mn(n,e),gn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Ju=an()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,$u(e,l)));break;case 22:h=e.memoizedState!==null;var R=r!==null&&r.memoizedState!==null,P=Zi,F=Ie;if(Zi=P||h,Ie=F||R,mn(n,e),Ie=F,Zi=P,gn(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(r===null||R||Zi||Ie||Br(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){R=r=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=R.stateNode;var Y=R.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(lt){Zt(R,R.return,lt)}}}else if(n.tag===6){if(r===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(lt){Zt(R,R.return,lt)}}}else if(n.tag===18){if(r===null){R=n;try{var q=R.stateNode;h?r_(q,!0):r_(R.stateNode,!1)}catch(lt){Zt(R,R.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,$u(e,r))));break;case 19:mn(n,e),gn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,$u(e,l)));break;case 30:break;case 21:break;default:mn(n,e),gn(e)}}function gn(e){var n=e.flags;if(n&2){try{for(var r,l=e.return;l!==null;){if(ly(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var h=r.stateNode,f=qf(e);Xu(e,f,h);break;case 5:var g=r.stateNode;r.flags&32&&(fn(g,""),r.flags&=-33);var T=qf(e);Xu(e,T,g);break;case 3:case 4:var R=r.stateNode.containerInfo,P=qf(e);Hf(e,P,R);break;default:throw Error(a(161))}}catch(F){Zt(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function py(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;py(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Wi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)cy(e,n.alternate,n),n=n.sibling}function Br(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ms(4,n,n.return),Br(n);break;case 1:wi(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&ry(n,n.return,r),Br(n);break;case 27:oo(n.stateNode);case 26:case 5:wi(n,n.return),Br(n);break;case 22:n.memoizedState===null&&Br(n);break;case 30:Br(n);break;default:Br(n)}e=e.sibling}}function ts(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ts(h,f,r),Jl(4,f);break;case 1:if(ts(h,f,r),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Zt(l,l.return,P)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)Kg(R[h],T)}catch(P){Zt(l,l.return,P)}}r&&g&64&&sy(f),Wl(f,f.return);break;case 27:oy(f);case 26:case 5:ts(h,f,r),r&&l===null&&g&4&&ay(f),Wl(f,f.return);break;case 12:ts(h,f,r);break;case 31:ts(h,f,r),r&&g&4&&dy(h,f);break;case 13:ts(h,f,r),r&&g&4&&my(h,f);break;case 22:f.memoizedState===null&&ts(h,f,r),Wl(f,f.return);break;case 30:break;default:ts(h,f,r)}n=n.sibling}}function Ff(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Pl(r))}function Qf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Pl(e))}function ii(e,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)yy(e,n,r,l),n=n.sibling}function yy(e,n,r,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ii(e,n,r,l),h&2048&&Jl(9,n);break;case 1:ii(e,n,r,l);break;case 3:ii(e,n,r,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Pl(e)));break;case 12:if(h&2048){ii(e,n,r,l),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,T=f.onPostCommit;typeof T=="function"&&T(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Zt(n,n.return,R)}}else ii(e,n,r,l);break;case 31:ii(e,n,r,l);break;case 13:ii(e,n,r,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ii(e,n,r,l):to(e,n):f._visibility&2?ii(e,n,r,l):(f._visibility|=2,Na(e,n,r,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Ff(g,n);break;case 24:ii(e,n,r,l),h&2048&&Qf(n.alternate,n);break;default:ii(e,n,r,l)}}function Na(e,n,r,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,T=r,R=l,P=g.flags;switch(g.tag){case 0:case 11:case 15:Na(f,g,T,R,h),Jl(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?Na(f,g,T,R,h):to(f,g):(F._visibility|=2,Na(f,g,T,R,h)),h&&P&2048&&Ff(g.alternate,g);break;case 24:Na(f,g,T,R,h),h&&P&2048&&Qf(g.alternate,g);break;default:Na(f,g,T,R,h)}n=n.sibling}}function to(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,l=n,h=l.flags;switch(l.tag){case 22:to(r,l),h&2048&&Ff(l.alternate,l);break;case 24:to(r,l),h&2048&&Qf(l.alternate,l);break;default:to(r,l)}n=n.sibling}}var eo=8192;function Ia(e,n,r){if(e.subtreeFlags&eo)for(e=e.child;e!==null;)_y(e,n,r),e=e.sibling}function _y(e,n,r){switch(e.tag){case 26:Ia(e,n,r),e.flags&eo&&e.memoizedState!==null&&hb(r,ni,e.memoizedState,e.memoizedProps);break;case 5:Ia(e,n,r);break;case 3:case 4:var l=ni;ni=cc(e.stateNode.containerInfo),Ia(e,n,r),ni=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=eo,eo=16777216,Ia(e,n,r),eo=l):Ia(e,n,r));break;default:Ia(e,n,r)}}function vy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function no(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Be=l,Ty(l,e)}vy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ey(e),e=e.sibling}function Ey(e){switch(e.tag){case 0:case 11:case 15:no(e),e.flags&2048&&Ms(9,e,e.return);break;case 3:no(e);break;case 12:no(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Zu(e)):no(e);break;default:no(e)}}function Zu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Be=l,Ty(l,e)}vy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ms(8,n,n.return),Zu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Zu(n));break;default:Zu(n)}e=e.sibling}}function Ty(e,n){for(;Be!==null;){var r=Be;switch(r.tag){case 0:case 11:case 15:Ms(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Pl(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Be=l;else t:for(r=e;Be!==null;){l=Be;var h=l.sibling,f=l.return;if(hy(l),l===r){Be=null;break t}if(h!==null){h.return=f,Be=h;break t}Be=f}}}var xT={getCacheForType:function(e){var n=Ye(Re),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return Ye(Re).controller.signal}},RT=typeof WeakMap=="function"?WeakMap:Map,Qt=0,ie=null,It=null,Ot=0,$t=0,Rn=null,Vs=!1,Da=!1,Kf=!1,es=0,me=0,ks=0,qr=0,Yf=0,Cn=0,Oa=0,io=null,pn=null,Xf=!1,Ju=0,by=0,Wu=1/0,tc=null,Us=null,ke=0,js=null,Ma=null,ns=0,$f=0,Zf=null,Ay=null,so=0,Jf=null;function Nn(){return(Qt&2)!==0&&Ot!==0?Ot&-Ot:G.T!==null?sd():eu()}function Sy(){if(Cn===0)if((Ot&536870912)===0||Lt){var e=gr;gr<<=1,(gr&3932160)===0&&(gr=262144),Cn=e}else Cn=536870912;return e=wn.current,e!==null&&(e.flags|=32),Cn}function yn(e,n,r){(e===ie&&($t===2||$t===9)||e.cancelPendingCommit!==null)&&(Va(e,0),Ls(e,Ot,Cn,!1)),pr(e,r),((Qt&2)===0||e!==ie)&&(e===ie&&((Qt&2)===0&&(qr|=r),me===4&&Ls(e,Ot,Cn,!1)),xi(e))}function wy(e,n,r){if((Qt&6)!==0)throw Error(a(327));var l=!r&&(n&127)===0&&(n&e.expiredLanes)===0||Kn(e,n),h=l?IT(e,n):td(e,n,!0),f=l;do{if(h===0){Da&&!l&&Ls(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!CT(r)){h=td(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var T=e;h=io;var R=T.current.memoizedState.isDehydrated;if(R&&(Va(T,g).flags|=256),g=td(T,g,!1),g!==2){if(Kf&&!R){T.errorRecoveryDisabledLanes|=f,qr|=f,h=4;break t}f=pn,pn=h,f!==null&&(pn===null?pn=f:pn.push.apply(pn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Va(e,0),Ls(e,n,0,!0);break}t:{switch(l=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ls(l,n,Cn,!Vs);break t;case 2:pn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Ju+300-an(),10<h)){if(Ls(l,n,Cn,!Vs),oi(l,0,!0)!==0)break t;ns=n,l.timeoutHandle=n_(xy.bind(null,l,r,pn,tc,Xf,n,Cn,qr,Oa,Vs,f,"Throttled",-0,0),h);break t}xy(l,r,pn,tc,Xf,n,Cn,qr,Oa,Vs,f,null,-0,0)}}break}while(!0);xi(e)}function xy(e,n,r,l,h,f,g,T,R,P,F,Y,z,q){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$n},_y(n,f,Y);var lt=(f&62914560)===f?Ju-an():(f&4194048)===f?by-an():0;if(lt=fb(Y,lt),lt!==null){ns=f,e.cancelPendingCommit=lt(Vy.bind(null,e,n,f,r,l,h,g,T,R,F,Y,null,z,q)),Ls(e,f,g,!P);return}}Vy(e,n,f,r,l,h,g,T,R)}function CT(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var h=r[l],f=h.getSnapshot;h=h.value;try{if(!An(f(),h))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ls(e,n,r,l){n&=~Yf,n&=~qr,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-pe(h),g=1<<f;l[f]=-1,h&=~g}r!==0&&yr(e,r,n)}function ec(){return(Qt&6)===0?(ro(0),!1):!0}function Wf(){if(It!==null){if($t===0)var e=It.return;else e=It,Fi=Mr=null,gf(e),Sa=null,Bl=0,e=It;for(;e!==null;)iy(e.alternate,e),e=e.return;It=null}}function Va(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,YT(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),ns=0,Wf(),ie=e,It=r=Hi(e.current,null),Ot=n,$t=0,Rn=null,Vs=!1,Da=Kn(e,n),Kf=!1,Oa=Cn=Yf=qr=ks=me=0,pn=io=null,Xf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-pe(l),f=1<<h;n|=e[h],l&=~f}return es=n,bu(),r}function Ry(e,n){xt=null,G.H=Xl,n===Aa||n===Iu?(n=Hg(),$t=3):n===nf?(n=Hg(),$t=4):$t=n===Df?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Rn=n,It===null&&(me=1,Gu(e,jn(n,e.current)))}function Cy(){var e=wn.current;return e===null?!0:(Ot&4194048)===Ot?Bn===null:(Ot&62914560)===Ot||(Ot&536870912)!==0?e===Bn:!1}function Ny(){var e=G.H;return G.H=Xl,e===null?Xl:e}function Iy(){var e=G.A;return G.A=xT,e}function nc(){me=4,Vs||(Ot&4194048)!==Ot&&wn.current!==null||(Da=!0),(ks&134217727)===0&&(qr&134217727)===0||ie===null||Ls(ie,Ot,Cn,!1)}function td(e,n,r){var l=Qt;Qt|=2;var h=Ny(),f=Iy();(ie!==e||Ot!==n)&&(tc=null,Va(e,n)),n=!1;var g=me;t:do try{if($t!==0&&It!==null){var T=It,R=Rn;switch($t){case 8:Wf(),g=6;break t;case 3:case 2:case 9:case 6:wn.current===null&&(n=!0);var P=$t;if($t=0,Rn=null,ka(e,T,R,P),r&&Da){g=0;break t}break;default:P=$t,$t=0,Rn=null,ka(e,T,R,P)}}NT(),g=me;break}catch(F){Ry(e,F)}while(!0);return n&&e.shellSuspendCounter++,Fi=Mr=null,Qt=l,G.H=h,G.A=f,It===null&&(ie=null,Ot=0,bu()),g}function NT(){for(;It!==null;)Dy(It)}function IT(e,n){var r=Qt;Qt|=2;var l=Ny(),h=Iy();ie!==e||Ot!==n?(tc=null,Wu=an()+500,Va(e,n)):Da=Kn(e,n);t:do try{if($t!==0&&It!==null){n=It;var f=Rn;e:switch($t){case 1:$t=0,Rn=null,ka(e,n,f,1);break;case 2:case 9:if(Bg(f)){$t=0,Rn=null,Oy(n);break}n=function(){$t!==2&&$t!==9||ie!==e||($t=7),xi(e)},f.then(n,n);break t;case 3:$t=7;break t;case 4:$t=5;break t;case 7:Bg(f)?($t=0,Rn=null,Oy(n)):($t=0,Rn=null,ka(e,n,f,7));break;case 5:var g=null;switch(It.tag){case 26:g=It.memoizedState;case 5:case 27:var T=It;if(g?y_(g):T.stateNode.complete){$t=0,Rn=null;var R=T.sibling;if(R!==null)It=R;else{var P=T.return;P!==null?(It=P,ic(P)):It=null}break e}}$t=0,Rn=null,ka(e,n,f,5);break;case 6:$t=0,Rn=null,ka(e,n,f,6);break;case 8:Wf(),me=6;break t;default:throw Error(a(462))}}DT();break}catch(F){Ry(e,F)}while(!0);return Fi=Mr=null,G.H=l,G.A=h,Qt=r,It!==null?0:(ie=null,Ot=0,bu(),me)}function DT(){for(;It!==null&&!Nh();)Dy(It)}function Dy(e){var n=ey(e.alternate,e,es);e.memoizedProps=e.pendingProps,n===null?ic(e):It=n}function Oy(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Xp(r,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=Xp(r,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:gf(n);default:iy(r,n),n=It=Ig(n,es),n=ey(r,n,es)}e.memoizedProps=e.pendingProps,n===null?ic(e):It=n}function ka(e,n,r,l){Fi=Mr=null,gf(n),Sa=null,Bl=0;var h=n.return;try{if(vT(e,h,n,r,Ot)){me=1,Gu(e,jn(r,e.current)),It=null;return}}catch(f){if(h!==null)throw It=h,f;me=1,Gu(e,jn(r,e.current)),It=null;return}n.flags&32768?(Lt||l===1?e=!0:Da||(Ot&536870912)!==0?e=!1:(Vs=e=!0,(l===2||l===9||l===3||l===6)&&(l=wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),My(n,e)):ic(n)}function ic(e){var n=e;do{if((n.flags&32768)!==0){My(n,Vs);return}e=n.return;var r=bT(n.alternate,n,es);if(r!==null){It=r;return}if(n=n.sibling,n!==null){It=n;return}It=n=e}while(n!==null);me===0&&(me=5)}function My(e,n){do{var r=AT(e.alternate,e);if(r!==null){r.flags&=32767,It=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){It=e;return}It=e=r}while(e!==null);me=6,It=null}function Vy(e,n,r,l,h,f,g,T,R){e.cancelPendingCommit=null;do sc();while(ke!==0);if((Qt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Bh,Oh(e,r,f,g,T,R),e===ie&&(It=ie=null,Ot=0),Ma=n,js=e,ns=r,$f=f,Zf=h,Ay=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,kT(ms,function(){return Py(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=nt.p,nt.p=2,g=Qt,Qt|=4;try{ST(e,n,r)}finally{Qt=g,nt.p=h,G.T=l}}ke=1,ky(),Uy(),jy()}}function ky(){if(ke===1){ke=0;var e=js,n=Ma,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=G.T,G.T=null;var l=nt.p;nt.p=2;var h=Qt;Qt|=4;try{gy(n,e);var f=fd,g=Tg(e.containerInfo),T=f.focusedElem,R=f.selectionRange;if(g!==T&&T&&T.ownerDocument&&Eg(T.ownerDocument.documentElement,T)){if(R!==null&&Uh(T)){var P=R.start,F=R.end;if(F===void 0&&(F=P),"selectionStart"in T)T.selectionStart=P,T.selectionEnd=Math.min(F,T.value.length);else{var Y=T.ownerDocument||document,z=Y&&Y.defaultView||window;if(z.getSelection){var q=z.getSelection(),lt=T.textContent.length,gt=Math.min(R.start,lt),ee=R.end===void 0?gt:Math.min(R.end,lt);!q.extend&&gt>ee&&(g=ee,ee=gt,gt=g);var k=vg(T,gt),I=vg(T,ee);if(k&&I&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==I.node||q.focusOffset!==I.offset)){var L=Y.createRange();L.setStart(k.node,k.offset),q.removeAllRanges(),gt>ee?(q.addRange(L),q.extend(I.node,I.offset)):(L.setEnd(I.node,I.offset),q.addRange(L))}}}}for(Y=[],q=T;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Y.length;T++){var Q=Y[T];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}pc=!!hd,fd=hd=null}finally{Qt=h,nt.p=l,G.T=r}}e.current=n,ke=2}}function Uy(){if(ke===2){ke=0;var e=js,n=Ma,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=G.T,G.T=null;var l=nt.p;nt.p=2;var h=Qt;Qt|=4;try{cy(e,n.alternate,n)}finally{Qt=h,nt.p=l,G.T=r}}ke=3}}function jy(){if(ke===4||ke===3){ke=0,Yo();var e=js,n=Ma,r=ns,l=Ay;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ke=5:(ke=0,Ma=js=null,Ly(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Us=null),Pi(r),n=n.stateNode,Fe&&typeof Fe.onCommitFiberRoot=="function")try{Fe.onCommitFiberRoot(Qn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,h=nt.p,nt.p=2,G.T=null;try{for(var f=e.onRecoverableError,g=0;g<l.length;g++){var T=l[g];f(T.value,{componentStack:T.stack})}}finally{G.T=n,nt.p=h}}(ns&3)!==0&&sc(),xi(e),h=e.pendingLanes,(r&261930)!==0&&(h&42)!==0?e===Jf?so++:(so=0,Jf=e):so=0,ro(0)}}function Ly(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Pl(n)))}function sc(){return ky(),Uy(),jy(),Py()}function Py(){if(ke!==5)return!1;var e=js,n=$f;$f=0;var r=Pi(ns),l=G.T,h=nt.p;try{nt.p=32>r?32:r,G.T=null,r=Zf,Zf=null;var f=js,g=ns;if(ke=0,Ma=js=null,ns=0,(Qt&6)!==0)throw Error(a(331));var T=Qt;if(Qt|=4,Ey(f.current),yy(f,f.current,g,r),Qt=T,ro(0,!1),Fe&&typeof Fe.onPostCommitFiberRoot=="function")try{Fe.onPostCommitFiberRoot(Qn,f)}catch{}return!0}finally{nt.p=h,G.T=l,Ly(e,n)}}function zy(e,n,r){n=jn(r,n),n=If(e.stateNode,n,2),e=Is(e,n,2),e!==null&&(pr(e,2),xi(e))}function Zt(e,n,r){if(e.tag===3)zy(e,e,r);else for(;n!==null;){if(n.tag===3){zy(n,e,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Us===null||!Us.has(l))){e=jn(r,e),r=Bp(2),l=Is(n,r,2),l!==null&&(qp(r,l,n,e),pr(l,2),xi(l));break}}n=n.return}}function ed(e,n,r){var l=e.pingCache;if(l===null){l=e.pingCache=new RT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(r)||(Kf=!0,h.add(r),e=OT.bind(null,e,n,r),n.then(e,e))}function OT(e,n,r){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,ie===e&&(Ot&r)===r&&(me===4||me===3&&(Ot&62914560)===Ot&&300>an()-Ju?(Qt&2)===0&&Va(e,0):Yf|=r,Oa===Ot&&(Oa=0)),xi(e)}function By(e,n){n===0&&(n=tu()),e=Ir(e,n),e!==null&&(pr(e,n),xi(e))}function MT(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),By(e,r)}function VT(e,n){var r=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(r=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),By(e,r)}function kT(e,n){return Ve(e,n)}var rc=null,Ua=null,nd=!1,ac=!1,id=!1,Ps=0;function xi(e){e!==Ua&&e.next===null&&(Ua===null?rc=Ua=e:Ua=Ua.next=e),ac=!0,nd||(nd=!0,jT())}function ro(e,n){if(!id&&ac){id=!0;do for(var r=!1,l=rc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var g=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-pe(42|e)+1)-1,f&=h&~(g&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,Fy(l,f))}else f=Ot,f=oi(l,l===ie?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Kn(l,f)||(r=!0,Fy(l,f));l=l.next}while(r);id=!1}}function UT(){qy()}function qy(){ac=nd=!1;var e=0;Ps!==0&&KT()&&(e=Ps);for(var n=an(),r=null,l=rc;l!==null;){var h=l.next,f=Hy(l,n);f===0?(l.next=null,r===null?rc=h:r.next=h,h===null&&(Ua=r)):(r=l,(e!==0||(f&3)!==0)&&(ac=!0)),l=h}ke!==0&&ke!==5||ro(e),Ps!==0&&(Ps=0)}function Hy(e,n){for(var r=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-pe(f),T=1<<g,R=h[g];R===-1?((T&r)===0||(T&l)!==0)&&(h[g]=Dh(T,n)):R<=n&&(e.expiredLanes|=T),f&=~T}if(n=ie,r=Ot,r=oi(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,r===0||e===n&&($t===2||$t===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ds(l),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||Kn(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(l!==null&&ds(l),Pi(r)){case 2:case 8:r=gl;break;case 32:r=ms;break;case 268435456:r=Xo;break;default:r=ms}return l=Gy.bind(null,e),r=Ve(r,l),e.callbackPriority=n,e.callbackNode=r,n}return l!==null&&l!==null&&ds(l),e.callbackPriority=2,e.callbackNode=null,2}function Gy(e,n){if(ke!==0&&ke!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(sc()&&e.callbackNode!==r)return null;var l=Ot;return l=oi(e,e===ie?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(wy(e,l,n),Hy(e,an()),e.callbackNode!=null&&e.callbackNode===r?Gy.bind(null,e):null)}function Fy(e,n){if(sc())return null;wy(e,n,!0)}function jT(){XT(function(){(Qt&6)!==0?Ve(ml,UT):qy()})}function sd(){if(Ps===0){var e=Ta;e===0&&(e=ai,ai<<=1,(ai&261888)===0&&(ai=256)),Ps=e}return Ps}function Qy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:aa(""+e)}function Ky(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function LT(e,n,r,l,h){if(n==="submit"&&r&&r.stateNode===h){var f=Qy((h[Pe]||null).action),g=l.submitter;g&&(n=(n=g[Pe]||null)?Qy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var T=new vi("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ps!==0){var R=g?Ky(h,g):new FormData(h);Sf(r,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(T.preventDefault(),R=g?Ky(h,g):new FormData(h),Sf(r,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var rd=0;rd<zh.length;rd++){var ad=zh[rd],PT=ad.toLowerCase(),zT=ad[0].toUpperCase()+ad.slice(1);ei(PT,"on"+zT)}ei(Sg,"onAnimationEnd"),ei(wg,"onAnimationIteration"),ei(xg,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(nT,"onTransitionRun"),ei(iT,"onTransitionStart"),ei(sT,"onTransitionCancel"),ei(Rg,"onTransitionEnd"),gi("onMouseEnter",["mouseout","mouseover"]),gi("onMouseLeave",["mouseout","mouseover"]),gi("onPointerEnter",["pointerout","pointerover"]),gi("onPointerLeave",["pointerout","pointerover"]),mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ao));function Yy(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var l=e[r],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var T=l[g],R=T.instance,P=T.currentTarget;if(T=T.listener,R!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=P;try{f(h)}catch(F){Tu(F)}h.currentTarget=null,f=R}else for(g=0;g<l.length;g++){if(T=l[g],R=T.instance,P=T.currentTarget,T=T.listener,R!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=P;try{f(h)}catch(F){Tu(F)}h.currentTarget=null,f=R}}}}function Dt(e,n){var r=n[ea];r===void 0&&(r=n[ea]=new Set);var l=e+"__bubble";r.has(l)||(Xy(n,e,2,!1),r.add(l))}function ld(e,n,r){var l=0;n&&(l|=4),Xy(r,e,l,n)}var lc="_reactListening"+Math.random().toString(36).slice(2);function od(e){if(!e[lc]){e[lc]=!0,_l.forEach(function(r){r!=="selectionchange"&&(BT.has(r)||ld(r,!1,e),ld(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[lc]||(n[lc]=!0,ld("selectionchange",!1,n))}}function Xy(e,n,r,l){switch(S_(n)){case 2:var h=gb;break;case 8:h=pb;break;default:h=Ad}r=h.bind(null,n,r,e),h=void 0,!br||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,r,{capture:!0,passive:h}):e.addEventListener(n,r,!0):h!==void 0?e.addEventListener(n,r,{passive:h}):e.addEventListener(n,r,!1)}function ud(e,n,r,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var T=l.stateNode.containerInfo;if(T===h)break;if(g===4)for(g=l.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;T!==null;){if(g=fi(T),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){l=f=g;continue t}T=T.parentNode}}l=l.return}Es(function(){var P=f,F=Mn(r),Y=[];t:{var z=Cg.get(e);if(z!==void 0){var q=vi,lt=e;switch(e){case"keypress":if(Sr(r)===0)break t;case"keydown":case"keyup":q=_u;break;case"focusin":lt="focus",q=xr;break;case"focusout":lt="blur",q=xr;break;case"beforeblur":case"afterblur":q=xr;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Dl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=uu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Sg:case wg:case xg:q=hu;break;case Rg:q=b;break;case"scroll":case"scrollend":q=Il;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=fu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=qi;break;case"toggle":case"beforetoggle":q=wt}var gt=(n&4)!==0,ee=!gt&&(e==="scroll"||e==="scrollend"),k=gt?z!==null?z+"Capture":null:z;gt=[];for(var I=P,L;I!==null;){var Q=I;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||k===null||(Q=Zn(I,k),Q!=null&&gt.push(lo(I,Q,L))),ee)break;I=I.return}0<gt.length&&(z=new q(z,lt,null,r,F),Y.push({event:z,listeners:gt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",z&&r!==Rl&&(lt=r.relatedTarget||r.fromElement)&&(fi(lt)||lt[ci]))break t;if((q||z)&&(z=F.window===F?F:(z=F.ownerDocument)?z.defaultView||z.parentWindow:window,q?(lt=r.relatedTarget||r.toElement,q=P,lt=lt?fi(lt):null,lt!==null&&(ee=c(lt),gt=lt.tag,lt!==ee||gt!==5&&gt!==27&&gt!==6)&&(lt=null)):(q=null,lt=P),q!==lt)){if(gt=Dl,Q="onMouseLeave",k="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(gt=qi,Q="onPointerLeave",k="onPointerEnter",I="pointer"),ee=q==null?z:Tn(q),L=lt==null?z:Tn(lt),z=new gt(Q,I+"leave",q,r,F),z.target=ee,z.relatedTarget=L,Q=null,fi(F)===P&&(gt=new gt(k,I+"enter",lt,r,F),gt.target=L,gt.relatedTarget=ee,Q=gt),ee=Q,q&&lt)e:{for(gt=qT,k=q,I=lt,L=0,Q=k;Q;Q=gt(Q))L++;Q=0;for(var ft=I;ft;ft=gt(ft))Q++;for(;0<L-Q;)k=gt(k),L--;for(;0<Q-L;)I=gt(I),Q--;for(;L--;){if(k===I||I!==null&&k===I.alternate){gt=k;break e}k=gt(k),I=gt(I)}gt=null}else gt=null;q!==null&&$y(Y,z,q,gt,!1),lt!==null&&ee!==null&&$y(Y,ee,lt,gt,!0)}}t:{if(z=P?Tn(P):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var qt=dg;else if(hg(z))if(mg)qt=W1;else{qt=Z1;var ot=$1}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&ra(P.elementType)&&(qt=dg):qt=J1;if(qt&&(qt=qt(e,P))){fg(Y,qt,r,F);break t}ot&&ot(e,z,P),e==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&Sl(z,"number",z.value)}switch(ot=P?Tn(P):window,e){case"focusin":(hg(ot)||ot.contentEditable==="true")&&(da=ot,jh=P,Ul=null);break;case"focusout":Ul=jh=da=null;break;case"mousedown":Lh=!0;break;case"contextmenu":case"mouseup":case"dragend":Lh=!1,bg(Y,r,F);break;case"selectionchange":if(eT)break;case"keydown":case"keyup":bg(Y,r,F)}var Ct;if(Ft)t:{switch(e){case"compositionstart":var Mt="onCompositionStart";break t;case"compositionend":Mt="onCompositionEnd";break t;case"compositionupdate":Mt="onCompositionUpdate";break t}Mt=void 0}else fa?Rr(e,r)&&(Mt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Mt="onCompositionStart");Mt&&(bi&&r.locale!=="ko"&&(fa||Mt!=="onCompositionStart"?Mt==="onCompositionEnd"&&fa&&(Ct=Nl()):(_i=F,Cl="value"in _i?_i.value:_i.textContent,fa=!0)),ot=oc(P,Mt),0<ot.length&&(Mt=new Ti(Mt,e,null,r,F),Y.push({event:Mt,listeners:ot}),Ct?Mt.data=Ct:(Ct=ha(r),Ct!==null&&(Mt.data=Ct)))),(Ct=kn?Q1(e,r):K1(e,r))&&(Mt=oc(P,"onBeforeInput"),0<Mt.length&&(ot=new Ti("onBeforeInput","beforeinput",null,r,F),Y.push({event:ot,listeners:Mt}),ot.data=Ct)),LT(Y,e,P,r,F)}Yy(Y,n)})}function lo(e,n,r){return{instance:e,listener:n,currentTarget:r}}function oc(e,n){for(var r=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Zn(e,r),h!=null&&l.unshift(lo(e,h,f)),h=Zn(e,n),h!=null&&l.push(lo(e,h,f))),e.tag===3)return l;e=e.return}return[]}function qT(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function $y(e,n,r,l,h){for(var f=n._reactName,g=[];r!==null&&r!==l;){var T=r,R=T.alternate,P=T.stateNode;if(T=T.tag,R!==null&&R===l)break;T!==5&&T!==26&&T!==27||P===null||(R=P,h?(P=Zn(r,f),P!=null&&g.unshift(lo(r,P,R))):h||(P=Zn(r,f),P!=null&&g.push(lo(r,P,R)))),r=r.return}g.length!==0&&e.push({event:n,listeners:g})}var HT=/\r\n?/g,GT=/\u0000|\uFFFD/g;function Zy(e){return(typeof e=="string"?e:""+e).replace(HT,`
`).replace(GT,"")}function Jy(e,n){return n=Zy(n),Zy(e)===n}function te(e,n,r,l,h,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||fn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&fn(e,""+l);break;case"className":bn(e,"class",l);break;case"tabIndex":bn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":bn(e,r,l);break;case"style":xl(e,l,f);break;case"data":if(n!=="object"){bn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=aa(""+l),e.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&te(e,n,"name",h.name,h,null),te(e,n,"formEncType",h.formEncType,h,null),te(e,n,"formMethod",h.formMethod,h,null),te(e,n,"formTarget",h.formTarget,h,null)):(te(e,n,"encType",h.encType,h,null),te(e,n,"method",h.method,h,null),te(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=aa(""+l),e.setAttribute(r,l);break;case"onClick":l!=null&&(e.onclick=$n);break;case"onScroll":l!=null&&Dt("scroll",e);break;case"onScrollEnd":l!=null&&Dt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}r=aa(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""+l):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":l===!0?e.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,l):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(r,l):e.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(r):e.setAttribute(r,l);break;case"popover":Dt("beforetoggle",e),Dt("toggle",e),ia(e,"popover",l);break;case"xlinkActuate":xe(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xe(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xe(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xe(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xe(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xe(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xe(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xe(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xe(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ia(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=ou.get(r)||r,ia(e,r,l))}}function cd(e,n,r,l,h,f){switch(r){case"style":xl(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof l=="string"?fn(e,l):(typeof l=="number"||typeof l=="bigint")&&fn(e,""+l);break;case"onScroll":l!=null&&Dt("scroll",e);break;case"onScrollEnd":l!=null&&Dt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=$n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vl.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(h=r.endsWith("Capture"),n=r.slice(2,h?r.length-7:void 0),f=e[Pe]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,l,h);break t}r in e?e[r]=l:l===!0?e.setAttribute(r,""):ia(e,r,l)}}}function $e(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Dt("error",e),Dt("load",e);var l=!1,h=!1,f;for(f in r)if(r.hasOwnProperty(f)){var g=r[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:te(e,n,f,g,r,null)}}h&&te(e,n,"srcSet",r.srcSet,r,null),l&&te(e,n,"src",r.src,r,null);return;case"input":Dt("invalid",e);var T=f=g=h=null,R=null,P=null;for(l in r)if(r.hasOwnProperty(l)){var F=r[l];if(F!=null)switch(l){case"name":h=F;break;case"type":g=F;break;case"checked":R=F;break;case"defaultChecked":P=F;break;case"value":f=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:te(e,n,l,F,r,null)}}ru(e,f,T,R,P,g,h,!1);return;case"select":Dt("invalid",e),l=g=f=null;for(h in r)if(r.hasOwnProperty(h)&&(T=r[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":g=T;break;case"multiple":l=T;default:te(e,n,h,T,r,null)}n=f,r=g,e.multiple=!!l,n!=null?ps(e,!!l,n,!1):r!=null&&ps(e,!!l,r,!0);return;case"textarea":Dt("invalid",e),f=h=l=null;for(g in r)if(r.hasOwnProperty(g)&&(T=r[g],T!=null))switch(g){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:te(e,n,g,T,r,null)}ys(e,l,h,f);return;case"option":for(R in r)r.hasOwnProperty(R)&&(l=r[R],l!=null)&&(R==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":te(e,n,R,l,r,null));return;case"dialog":Dt("beforetoggle",e),Dt("toggle",e),Dt("cancel",e),Dt("close",e);break;case"iframe":case"object":Dt("load",e);break;case"video":case"audio":for(l=0;l<ao.length;l++)Dt(ao[l],e);break;case"image":Dt("error",e),Dt("load",e);break;case"details":Dt("toggle",e);break;case"embed":case"source":case"link":Dt("error",e),Dt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(l=r[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:te(e,n,P,l,r,null)}return;default:if(ra(n)){for(F in r)r.hasOwnProperty(F)&&(l=r[F],l!==void 0&&cd(e,n,F,l,r,void 0));return}}for(T in r)r.hasOwnProperty(T)&&(l=r[T],l!=null&&te(e,n,T,l,r,null))}function FT(e,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,T=null,R=null,P=null,F=null;for(q in r){var Y=r[q];if(r.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":R=Y;default:l.hasOwnProperty(q)||te(e,n,q,null,l,Y)}}for(var z in l){var q=l[z];if(Y=r[z],l.hasOwnProperty(z)&&(q!=null||Y!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":P=q;break;case"defaultChecked":F=q;break;case"value":g=q;break;case"defaultValue":T=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Y&&te(e,n,z,q,l,Y)}}sa(e,g,T,R,P,F,f,h);return;case"select":q=g=T=z=null;for(f in r)if(R=r[f],r.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":q=R;default:l.hasOwnProperty(f)||te(e,n,f,null,l,R)}for(h in l)if(f=l[h],R=r[h],l.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":T=f;break;case"multiple":g=f;default:f!==R&&te(e,n,h,f,l,R)}n=T,r=g,l=q,z!=null?ps(e,!!r,z,!1):!!l!=!!r&&(n!=null?ps(e,!!r,n,!0):ps(e,!!r,r?[]:"",!1));return;case"textarea":q=z=null;for(T in r)if(h=r[T],r.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:te(e,n,T,null,l,h)}for(g in l)if(h=l[g],f=r[g],l.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&te(e,n,g,h,l,f)}au(e,z,q);return;case"option":for(var lt in r)z=r[lt],r.hasOwnProperty(lt)&&z!=null&&!l.hasOwnProperty(lt)&&(lt==="selected"?e.selected=!1:te(e,n,lt,null,l,z));for(R in l)z=l[R],q=r[R],l.hasOwnProperty(R)&&z!==q&&(z!=null||q!=null)&&(R==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":te(e,n,R,z,l,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in r)z=r[gt],r.hasOwnProperty(gt)&&z!=null&&!l.hasOwnProperty(gt)&&te(e,n,gt,null,l,z);for(P in l)if(z=l[P],q=r[P],l.hasOwnProperty(P)&&z!==q&&(z!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:te(e,n,P,z,l,q)}return;default:if(ra(n)){for(var ee in r)z=r[ee],r.hasOwnProperty(ee)&&z!==void 0&&!l.hasOwnProperty(ee)&&cd(e,n,ee,void 0,l,z);for(F in l)z=l[F],q=r[F],!l.hasOwnProperty(F)||z===q||z===void 0&&q===void 0||cd(e,n,F,z,l,q);return}}for(var k in r)z=r[k],r.hasOwnProperty(k)&&z!=null&&!l.hasOwnProperty(k)&&te(e,n,k,null,l,z);for(Y in l)z=l[Y],q=r[Y],!l.hasOwnProperty(Y)||z===q||z==null&&q==null||te(e,n,Y,z,l,q)}function Wy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function QT(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var h=r[l],f=h.transferSize,g=h.initiatorType,T=h.duration;if(f&&T&&Wy(g)){for(g=0,T=h.responseEnd,l+=1;l<r.length;l++){var R=r[l],P=R.startTime;if(P>T)break;var F=R.transferSize,Y=R.initiatorType;F&&Wy(Y)&&(R=R.responseEnd,g+=F*(R<T?1:(T-P)/(R-P)))}if(--l,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var hd=null,fd=null;function uc(e){return e.nodeType===9?e:e.ownerDocument}function t_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function e_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function dd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var md=null;function KT(){var e=window.event;return e&&e.type==="popstate"?e===md?!1:(md=e,!0):(md=null,!1)}var n_=typeof setTimeout=="function"?setTimeout:void 0,YT=typeof clearTimeout=="function"?clearTimeout:void 0,i_=typeof Promise=="function"?Promise:void 0,XT=typeof queueMicrotask=="function"?queueMicrotask:typeof i_<"u"?function(e){return i_.resolve(null).then(e).catch($T)}:n_;function $T(e){setTimeout(function(){throw e})}function zs(e){return e==="head"}function s_(e,n){var r=n,l=0;do{var h=r.nextSibling;if(e.removeChild(r),h&&h.nodeType===8)if(r=h.data,r==="/$"||r==="/&"){if(l===0){e.removeChild(h),za(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")oo(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,oo(r);for(var f=r.firstChild;f;){var g=f.nextSibling,T=f.nodeName;f[hi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||r.removeChild(f),f=g}}else r==="body"&&oo(e.ownerDocument.body);r=h}while(r);za(n)}function r_(e,n){var r=e;e=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=l}while(r)}function gd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":gd(r),na(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function ZT(e,n,r,l){for(;e.nodeType===1;){var h=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[hi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=qn(e.nextSibling),e===null)break}return null}function JT(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=qn(e.nextSibling),e===null))return null;return e}function a_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=qn(e.nextSibling),e===null))return null;return e}function pd(e){return e.data==="$?"||e.data==="$~"}function yd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function WT(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function qn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var _d=null;function l_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return qn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function o_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function u_(e,n,r){switch(n=uc(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function oo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);na(e)}var Hn=new Map,c_=new Set;function cc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var is=nt.d;nt.d={f:tb,r:eb,D:nb,C:ib,L:sb,m:rb,X:lb,S:ab,M:ob};function tb(){var e=is.f(),n=ec();return e||n}function eb(e){var n=On(e);n!==null&&n.tag===5&&n.type==="form"?Rp(n):is.r(e)}var ja=typeof document>"u"?null:document;function h_(e,n,r){var l=ja;if(l&&typeof n=="string"&&n){var h=hn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof r=="string"&&(h+='[crossorigin="'+r+'"]'),c_.has(h)||(c_.add(h),e={rel:e,crossOrigin:r,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),$e(n,"link",e),we(n),l.head.appendChild(n)))}}function nb(e){is.D(e),h_("dns-prefetch",e,null)}function ib(e,n){is.C(e,n),h_("preconnect",e,n)}function sb(e,n,r){is.L(e,n,r);var l=ja;if(l&&e&&n){var h='link[rel="preload"][as="'+hn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(h+='[imagesrcset="'+hn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(h+='[imagesizes="'+hn(r.imageSizes)+'"]')):h+='[href="'+hn(e)+'"]';var f=h;switch(n){case"style":f=La(e);break;case"script":f=Pa(e)}Hn.has(f)||(e=S({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Hn.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(uo(f))||n==="script"&&l.querySelector(co(f))||(n=l.createElement("link"),$e(n,"link",e),we(n),l.head.appendChild(n)))}}function rb(e,n){is.m(e,n);var r=ja;if(r&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+hn(l)+'"][href="'+hn(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Pa(e)}if(!Hn.has(f)&&(e=S({rel:"modulepreload",href:e},n),Hn.set(f,e),r.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(co(f)))return}l=r.createElement("link"),$e(l,"link",e),we(l),r.head.appendChild(l)}}}function ab(e,n,r){is.S(e,n,r);var l=ja;if(l&&e){var h=di(l).hoistableStyles,f=La(e);n=n||"default";var g=h.get(f);if(!g){var T={loading:0,preload:null};if(g=l.querySelector(uo(f)))T.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Hn.get(f))&&vd(e,r);var R=g=l.createElement("link");we(R),$e(R,"link",e),R._p=new Promise(function(P,F){R.onload=P,R.onerror=F}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,hc(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:T},h.set(f,g)}}}function lb(e,n){is.X(e,n);var r=ja;if(r&&e){var l=di(r).hoistableScripts,h=Pa(e),f=l.get(h);f||(f=r.querySelector(co(h)),f||(e=S({src:e,async:!0},n),(n=Hn.get(h))&&Ed(e,n),f=r.createElement("script"),we(f),$e(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function ob(e,n){is.M(e,n);var r=ja;if(r&&e){var l=di(r).hoistableScripts,h=Pa(e),f=l.get(h);f||(f=r.querySelector(co(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Hn.get(h))&&Ed(e,n),f=r.createElement("script"),we(f),$e(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function f_(e,n,r,l){var h=(h=St.current)?cc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=La(r.href),r=di(h).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=La(r.href);var f=di(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(uo(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Hn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Hn.set(e,r),f||ub(h,e,r,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Pa(r),r=di(h).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function La(e){return'href="'+hn(e)+'"'}function uo(e){return'link[rel="stylesheet"]['+e+"]"}function d_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function ub(e,n,r,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),$e(n,"link",r),we(n),e.head.appendChild(n))}function Pa(e){return'[src="'+hn(e)+'"]'}function co(e){return"script[async]"+e}function m_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+hn(r.href)+'"]');if(l)return n.instance=l,we(l),l;var h=S({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),we(l),$e(l,"style",h),hc(l,r.precedence,e),n.instance=l;case"stylesheet":h=La(r.href);var f=e.querySelector(uo(h));if(f)return n.state.loading|=4,n.instance=f,we(f),f;l=d_(r),(h=Hn.get(h))&&vd(l,h),f=(e.ownerDocument||e).createElement("link"),we(f);var g=f;return g._p=new Promise(function(T,R){g.onload=T,g.onerror=R}),$e(f,"link",l),n.state.loading|=4,hc(f,r.precedence,e),n.instance=f;case"script":return f=Pa(r.src),(h=e.querySelector(co(f)))?(n.instance=h,we(h),h):(l=r,(h=Hn.get(f))&&(l=S({},r),Ed(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),we(h),$e(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,hc(l,r.precedence,e));return n.instance}function hc(e,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,g=0;g<l.length;g++){var T=l[g];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function vd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Ed(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var fc=null;function g_(e,n,r){if(fc===null){var l=new Map,h=fc=new Map;h.set(r,l)}else h=fc,l=h.get(r),l||(l=new Map,h.set(r,l));if(l.has(e))return l;for(l.set(e,null),r=r.getElementsByTagName(e),h=0;h<r.length;h++){var f=r[h];if(!(f[hi]||f[Se]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var T=l.get(g);T?T.push(f):l.set(g,[f])}}return l}function p_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function cb(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function y_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function hb(e,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var h=La(l.href),f=n.querySelector(uo(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=dc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=f,we(f);return}f=n.ownerDocument||n,l=d_(l),(h=Hn.get(h))&&vd(l,h),f=f.createElement("link"),we(f);var g=f;g._p=new Promise(function(T,R){g.onload=T,g.onerror=R}),$e(f,"link",l),r.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=dc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var Td=0;function fb(e,n){return e.stylesheets&&e.count===0&&gc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var l=setTimeout(function(){if(e.stylesheets&&gc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Td===0&&(Td=62500*QT());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&gc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Td?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function dc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var mc=null;function gc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,mc=new Map,n.forEach(db,e),mc=null,dc.call(e))}function db(e,n){if(!(n.state.loading&4)){var r=mc.get(e);if(r)var l=r.get(null);else{r=new Map,mc.set(e,r);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(r.set(g.dataset.precedence,g),l=g)}l&&r.set(null,l)}h=n.instance,g=h.getAttribute("data-precedence"),f=r.get(g)||l,f===l&&r.set(null,h),r.set(g,h),this.count++,l=dc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var ho={$$typeof:pt,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function mb(e,n,r,l,h,f,g,T,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ui(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ui(0),this.hiddenUpdates=ui(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function __(e,n,r,l,h,f,g,T,R,P,F,Y){return e=new mb(e,n,r,g,R,P,F,Y,T),n=1,f===!0&&(n|=24),f=Sn(3,null,null,n),e.current=f,f.stateNode=e,n=Wh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},sf(f),e}function v_(e){return e?(e=pa,e):pa}function E_(e,n,r,l,h,f){h=v_(h),l.context===null?l.context=h:l.pendingContext=h,l=Ns(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Is(e,l,n),r!==null&&(yn(r,e,n),Hl(r,e,n))}function T_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function bd(e,n){T_(e,n),(e=e.alternate)&&T_(e,n)}function b_(e){if(e.tag===13||e.tag===31){var n=Ir(e,67108864);n!==null&&yn(n,e,67108864),bd(e,67108864)}}function A_(e){if(e.tag===13||e.tag===31){var n=Nn();n=_r(n);var r=Ir(e,n);r!==null&&yn(r,e,n),bd(e,n)}}var pc=!0;function gb(e,n,r,l){var h=G.T;G.T=null;var f=nt.p;try{nt.p=2,Ad(e,n,r,l)}finally{nt.p=f,G.T=h}}function pb(e,n,r,l){var h=G.T;G.T=null;var f=nt.p;try{nt.p=8,Ad(e,n,r,l)}finally{nt.p=f,G.T=h}}function Ad(e,n,r,l){if(pc){var h=Sd(l);if(h===null)ud(e,n,l,yc,r),w_(e,l);else if(_b(h,e,n,r,l))l.stopPropagation();else if(w_(e,l),n&4&&-1<yb.indexOf(e)){for(;h!==null;){var f=On(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=li(f.pendingLanes);if(g!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var R=1<<31-pe(g);T.entanglements[1]|=R,g&=~R}xi(f),(Qt&6)===0&&(Wu=an()+500,ro(0))}}break;case 31:case 13:T=Ir(f,2),T!==null&&yn(T,f,2),ec(),bd(f,2)}if(f=Sd(l),f===null&&ud(e,n,l,yc,r),f===h)break;h=f}h!==null&&l.stopPropagation()}else ud(e,n,l,null,r)}}function Sd(e){return e=Mn(e),wd(e)}var yc=null;function wd(e){if(yc=null,e=fi(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=d(n),e!==null)return e;e=null}else if(r===31){if(e=p(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return yc=e,null}function S_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mr()){case ml:return 2;case gl:return 8;case ms:case Ih:return 32;case Xo:return 268435456;default:return 32}default:return 32}}var xd=!1,Bs=null,qs=null,Hs=null,fo=new Map,mo=new Map,Gs=[],yb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function w_(e,n){switch(e){case"focusin":case"focusout":Bs=null;break;case"dragenter":case"dragleave":qs=null;break;case"mouseover":case"mouseout":Hs=null;break;case"pointerover":case"pointerout":fo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":mo.delete(n.pointerId)}}function go(e,n,r,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=On(n),n!==null&&b_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function _b(e,n,r,l,h){switch(n){case"focusin":return Bs=go(Bs,e,n,r,l,h),!0;case"dragenter":return qs=go(qs,e,n,r,l,h),!0;case"mouseover":return Hs=go(Hs,e,n,r,l,h),!0;case"pointerover":var f=h.pointerId;return fo.set(f,go(fo.get(f)||null,e,n,r,l,h)),!0;case"gotpointercapture":return f=h.pointerId,mo.set(f,go(mo.get(f)||null,e,n,r,l,h)),!0}return!1}function x_(e){var n=fi(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){e.blockedOn=n,Yn(e.priority,function(){A_(r)});return}}else if(n===31){if(n=p(r),n!==null){e.blockedOn=n,Yn(e.priority,function(){A_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _c(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Sd(e.nativeEvent);if(r===null){r=e.nativeEvent;var l=new r.constructor(r.type,r);Rl=l,r.target.dispatchEvent(l),Rl=null}else return n=On(r),n!==null&&b_(n),e.blockedOn=r,!1;n.shift()}return!0}function R_(e,n,r){_c(e)&&r.delete(n)}function vb(){xd=!1,Bs!==null&&_c(Bs)&&(Bs=null),qs!==null&&_c(qs)&&(qs=null),Hs!==null&&_c(Hs)&&(Hs=null),fo.forEach(R_),mo.forEach(R_)}function vc(e,n){e.blockedOn===n&&(e.blockedOn=null,xd||(xd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,vb)))}var Ec=null;function C_(e){Ec!==e&&(Ec=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Ec===e&&(Ec=null);for(var n=0;n<e.length;n+=3){var r=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(wd(l||r)===null)continue;break}var f=On(r);f!==null&&(e.splice(n,3),n-=3,Sf(f,{pending:!0,data:h,method:r.method,action:l},l,h))}}))}function za(e){function n(R){return vc(R,e)}Bs!==null&&vc(Bs,e),qs!==null&&vc(qs,e),Hs!==null&&vc(Hs,e),fo.forEach(n),mo.forEach(n);for(var r=0;r<Gs.length;r++){var l=Gs[r];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Gs.length&&(r=Gs[0],r.blockedOn===null);)x_(r),r.blockedOn===null&&Gs.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var h=r[l],f=r[l+1],g=h[Pe]||null;if(typeof f=="function")g||C_(r);else if(g){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Pe]||null)T=g.formAction;else if(wd(h)!==null)continue}else T=g.action;typeof T=="function"?r[l+1]=T:(r.splice(l,3),l-=3),C_(r)}}}function N_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Rd(e){this._internalRoot=e}Tc.prototype.render=Rd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=Nn();E_(r,l,e,n,null,null)},Tc.prototype.unmount=Rd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;E_(e.current,2,null,e,null,null),ec(),n[ci]=null}};function Tc(e){this._internalRoot=e}Tc.prototype.unstable_scheduleHydration=function(e){if(e){var n=eu();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Gs.length&&n!==0&&n<Gs[r].priority;r++);Gs.splice(r,0,e),r===0&&x_(e)}};var I_=t.version;if(I_!=="19.2.3")throw Error(a(527,I_,"19.2.3"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var Eb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bc.isDisabled&&bc.supportsFiber)try{Qn=bc.inject(Eb),Fe=bc}catch{}}return yo.createRoot=function(e,n){if(!o(e))throw Error(a(299));var r=!1,l="",h=jp,f=Lp,g=Pp;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=__(e,1,!1,null,null,r,l,null,h,f,g,N_),e[ci]=n.current,od(e),new Rd(n)},yo.hydrateRoot=function(e,n,r){if(!o(e))throw Error(a(299));var l=!1,h="",f=jp,g=Lp,T=Pp,R=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(g=r.onCaughtError),r.onRecoverableError!==void 0&&(T=r.onRecoverableError),r.formState!==void 0&&(R=r.formState)),n=__(e,1,!0,n,r??null,l,h,R,f,g,T,N_),n.context=v_(null),r=n.current,l=Nn(),l=_r(l),h=Ns(l),h.callback=null,Is(r,h,l),r=l,n.current.lanes=r,pr(n,r),xi(n),e[ci]=n.current,od(e),new Tc(n)},yo.version="19.2.3",yo}var z_;function Db(){if(z_)return Id.exports;z_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Id.exports=Ib(),Id.exports}var Ob=Db();const Mb=p0(Ob),Vb=()=>{};var B_={};const y0=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},kb=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];t[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],d=s[i++],p=s[i++],_=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(_>>10)),t[a++]=String.fromCharCode(56320+(_&1023))}else{const c=s[i++],d=s[i++];t[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return t.join("")},_0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],d=o+1<s.length,p=d?s[o+1]:0,_=o+2<s.length,y=_?s[o+2]:0,A=c>>2,S=(c&3)<<4|p>>4;let M=(p&15)<<2|y>>6,H=y&63;_||(H=64,d||(M=64)),a.push(i[A],i[S],i[M],i[H])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(y0(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):kb(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],p=o<s.length?i[s.charAt(o)]:0;++o;const y=o<s.length?i[s.charAt(o)]:64;++o;const S=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||p==null||y==null||S==null)throw new Ub;const M=c<<2|p>>4;if(a.push(M),y!==64){const H=p<<4&240|y>>2;if(a.push(H),S!==64){const W=y<<6&192|S;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class Ub extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jb=function(s){const t=y0(s);return _0.encodeByteArray(t,!0)},Pc=function(s){return jb(s).replace(/\./g,"")},v0=function(s){try{return _0.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Lb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Pb=()=>Lb().__FIREBASE_DEFAULTS__,zb=()=>{if(typeof process>"u"||typeof B_>"u")return;const s=B_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},Bb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&v0(s[1]);return t&&JSON.parse(t)},rh=()=>{try{return Vb()||Pb()||zb()||Bb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},E0=s=>rh()?.emulatorHosts?.[s],qb=s=>{const t=E0(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},T0=()=>rh()?.config,b0=s=>rh()?.[`_${s}`];class Hb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function rl(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function A0(s){return(await fetch(s,{credentials:"include"})).ok}function Gb(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Pc(JSON.stringify(i)),Pc(JSON.stringify(d)),""].join(".")}const So={};function Fb(){const s={prod:[],emulator:[]};for(const t of Object.keys(So))So[t]?s.emulator.push(t):s.prod.push(t);return s}function Qb(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let q_=!1;function S0(s,t){if(typeof window>"u"||typeof document>"u"||!rl(window.location.host)||So[s]===t||So[s]||q_)return;So[s]=t;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=Fb().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function _(M,H){M.setAttribute("width","24"),M.setAttribute("id",H),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function y(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{q_=!0,d()},M}function A(M,H){M.setAttribute("id",H),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function S(){const M=Qb(a),H=i("text"),W=document.getElementById(H)||document.createElement("span"),$=i("learnmore"),Z=document.getElementById($)||document.createElement("a"),dt=i("preprendIcon"),Tt=document.getElementById(dt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const pt=M.element;p(pt),A(Z,$);const Kt=y();_(Tt,dt),pt.append(Tt,W,Z,Kt),document.body.appendChild(pt)}c?(W.innerText="Preview backend disconnected.",Tt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Tt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Kb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function Yb(){const s=rh()?.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Xb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $b(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function Zb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Jb(){const s=rn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function Wb(){return!Yb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tA(){try{return typeof indexedDB=="object"}catch{return!1}}function eA(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const nA="FirebaseError";class fs extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=nA,Object.setPrototypeOf(this,fs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jo.prototype.create)}}class jo{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?iA(c,a):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new fs(o,p,a)}}function iA(s,t){return s.replace(sA,(i,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const sA=/\{\$([^}]+)}/g;function rA(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function sr(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const o of i){if(!a.includes(o))return!1;const c=s[o],d=t[o];if(H_(c)&&H_(d)){if(!sr(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function H_(s){return s!==null&&typeof s=="object"}function Lo(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function aA(s,t){const i=new lA(s,t);return i.subscribe.bind(i)}class lA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let o;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");oA(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:a},o.next===void 0&&(o.next=Vd),o.error===void 0&&(o.error=Vd),o.complete===void 0&&(o.complete=Vd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oA(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Vd(){}function cn(s){return s&&s._delegate?s._delegate:s}class Kr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Hr="[DEFAULT]";class uA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new Hb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(hA(t))try{this.getOrInitializeService({instanceIdentifier:Hr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(t=Hr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Hr){return this.instances.has(t)}getOptions(t=Hr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(o)}return o}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(t),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&t(c,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:cA(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Hr){return this.component?this.component.multipleInstances?t:Hr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cA(s){return s===Hr?void 0:s}function hA(s){return s.instantiationMode==="EAGER"}class fA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new uA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Vt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Vt||(Vt={}));const dA={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},mA=Vt.INFO,gA={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},pA=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),o=gA[t];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class bm{constructor(t){this.name=t,this._logLevel=mA,this._logHandler=pA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?dA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const yA=(s,t)=>t.some(i=>s instanceof i);let G_,F_;function _A(){return G_||(G_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vA(){return F_||(F_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const w0=new WeakMap,Xd=new WeakMap,x0=new WeakMap,kd=new WeakMap,Am=new WeakMap;function EA(s){const t=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",d)},c=()=>{i(Js(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&w0.set(i,s)}).catch(()=>{}),Am.set(t,s),t}function TA(s){if(Xd.has(s))return;const t=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",d),s.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",d),s.addEventListener("abort",d)});Xd.set(s,t)}let $d={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Xd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||x0.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Js(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function bA(s){$d=s($d)}function AA(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(Ud(this),t,...i);return x0.set(a,t.sort?t.sort():[t]),Js(a)}:vA().includes(s)?function(...t){return s.apply(Ud(this),t),Js(w0.get(this))}:function(...t){return Js(s.apply(Ud(this),t))}}function SA(s){return typeof s=="function"?AA(s):(s instanceof IDBTransaction&&TA(s),yA(s,_A())?new Proxy(s,$d):s)}function Js(s){if(s instanceof IDBRequest)return EA(s);if(kd.has(s))return kd.get(s);const t=SA(s);return t!==s&&(kd.set(s,t),Am.set(t,s)),t}const Ud=s=>Am.get(s);function wA(s,t,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(s,t),p=Js(d);return a&&d.addEventListener("upgradeneeded",_=>{a(Js(d.result),_.oldVersion,_.newVersion,Js(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),o&&_.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const xA=["get","getKey","getAll","getAllKeys","count"],RA=["put","add","delete","clear"],jd=new Map;function Q_(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(jd.get(t))return jd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,o=RA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||xA.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,o?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),o&&_.done]))[0]};return jd.set(t,c),c}bA(s=>({...s,get:(t,i,a)=>Q_(t,i)||s.get(t,i,a),has:(t,i)=>!!Q_(t,i)||s.has(t,i)}));class CA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(NA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function NA(s){return s.getComponent()?.type==="VERSION"}const Zd="@firebase/app",K_="0.14.6";const ls=new bm("@firebase/app"),IA="@firebase/app-compat",DA="@firebase/analytics-compat",OA="@firebase/analytics",MA="@firebase/app-check-compat",VA="@firebase/app-check",kA="@firebase/auth",UA="@firebase/auth-compat",jA="@firebase/database",LA="@firebase/data-connect",PA="@firebase/database-compat",zA="@firebase/functions",BA="@firebase/functions-compat",qA="@firebase/installations",HA="@firebase/installations-compat",GA="@firebase/messaging",FA="@firebase/messaging-compat",QA="@firebase/performance",KA="@firebase/performance-compat",YA="@firebase/remote-config",XA="@firebase/remote-config-compat",$A="@firebase/storage",ZA="@firebase/storage-compat",JA="@firebase/firestore",WA="@firebase/ai",tS="@firebase/firestore-compat",eS="firebase",nS="12.6.0";const Jd="[DEFAULT]",iS={[Zd]:"fire-core",[IA]:"fire-core-compat",[OA]:"fire-analytics",[DA]:"fire-analytics-compat",[VA]:"fire-app-check",[MA]:"fire-app-check-compat",[kA]:"fire-auth",[UA]:"fire-auth-compat",[jA]:"fire-rtdb",[LA]:"fire-data-connect",[PA]:"fire-rtdb-compat",[zA]:"fire-fn",[BA]:"fire-fn-compat",[qA]:"fire-iid",[HA]:"fire-iid-compat",[GA]:"fire-fcm",[FA]:"fire-fcm-compat",[QA]:"fire-perf",[KA]:"fire-perf-compat",[YA]:"fire-rc",[XA]:"fire-rc-compat",[$A]:"fire-gcs",[ZA]:"fire-gcs-compat",[JA]:"fire-fst",[tS]:"fire-fst-compat",[WA]:"fire-vertex","fire-js":"fire-js",[eS]:"fire-js-all"};const zc=new Map,sS=new Map,Wd=new Map;function Y_(s,t){try{s.container.addComponent(t)}catch(i){ls.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function Za(s){const t=s.name;if(Wd.has(t))return ls.debug(`There were multiple attempts to register component ${t}.`),!1;Wd.set(t,s);for(const i of zc.values())Y_(i,s);for(const i of sS.values())Y_(i,s);return!0}function Sm(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function si(s){return s==null?!1:s.settings!==void 0}const rS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ws=new jo("app","Firebase",rS);class aS{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ws.create("app-deleted",{appName:this._name})}}const al=nS;function R0(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a={name:Jd,automaticDataCollectionEnabled:!0,...t},o=a.name;if(typeof o!="string"||!o)throw Ws.create("bad-app-name",{appName:String(o)});if(i||(i=T0()),!i)throw Ws.create("no-options");const c=zc.get(o);if(c){if(sr(i,c.options)&&sr(a,c.config))return c;throw Ws.create("duplicate-app",{appName:o})}const d=new fA(o);for(const _ of Wd.values())d.addComponent(_);const p=new aS(i,a,d);return zc.set(o,p),p}function C0(s=Jd){const t=zc.get(s);if(!t&&s===Jd&&T0())return R0();if(!t)throw Ws.create("no-app",{appName:s});return t}function tr(s,t,i){let a=iS[s]??s;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${t}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ls.warn(d.join(" "));return}Za(new Kr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const lS="firebase-heartbeat-database",oS=1,Io="firebase-heartbeat-store";let Ld=null;function N0(){return Ld||(Ld=wA(lS,oS,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Io)}catch(i){console.warn(i)}}}}).catch(s=>{throw Ws.create("idb-open",{originalErrorMessage:s.message})})),Ld}async function uS(s){try{const i=(await N0()).transaction(Io),a=await i.objectStore(Io).get(I0(s));return await i.done,a}catch(t){if(t instanceof fs)ls.warn(t.message);else{const i=Ws.create("idb-get",{originalErrorMessage:t?.message});ls.warn(i.message)}}}async function X_(s,t){try{const a=(await N0()).transaction(Io,"readwrite");await a.objectStore(Io).put(t,I0(s)),await a.done}catch(i){if(i instanceof fs)ls.warn(i.message);else{const a=Ws.create("idb-set",{originalErrorMessage:i?.message});ls.warn(a.message)}}}function I0(s){return`${s.name}!${s.options.appId}`}const cS=1024,hS=30;class fS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new mS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=$_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>hS){const o=gS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ls.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=$_(),{heartbeatsToSend:i,unsentEntries:a}=dS(this._heartbeatsCache.heartbeats),o=Pc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ls.warn(t),""}}}function $_(){return new Date().toISOString().substring(0,10)}function dS(s,t=cS){const i=[];let a=s.slice();for(const o of s){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),Z_(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Z_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class mS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tA()?eA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await uS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return X_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return X_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function Z_(s){return Pc(JSON.stringify({version:2,heartbeats:s})).length}function gS(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}function pS(s){Za(new Kr("platform-logger",t=>new CA(t),"PRIVATE")),Za(new Kr("heartbeat",t=>new fS(t),"PRIVATE")),tr(Zd,K_,s),tr(Zd,K_,"esm2020"),tr("fire-js","")}pS("");var yS="firebase",_S="12.7.0";tr(yS,_S,"app");var J_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var er,D0;(function(){var s;function t(N,w){function C(){}C.prototype=w.prototype,N.F=w.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(V,D,U){for(var x=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)x[Nt-2]=arguments[Nt];return w.prototype[D].apply(V,x)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,w,C){C||(C=0);const V=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)V[D]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(D=0;D<16;++D)V[D]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=N.g[0],C=N.g[1],D=N.g[2];let U=N.g[3],x;x=w+(U^C&(D^U))+V[0]+3614090360&4294967295,w=C+(x<<7&4294967295|x>>>25),x=U+(D^w&(C^D))+V[1]+3905402710&4294967295,U=w+(x<<12&4294967295|x>>>20),x=D+(C^U&(w^C))+V[2]+606105819&4294967295,D=U+(x<<17&4294967295|x>>>15),x=C+(w^D&(U^w))+V[3]+3250441966&4294967295,C=D+(x<<22&4294967295|x>>>10),x=w+(U^C&(D^U))+V[4]+4118548399&4294967295,w=C+(x<<7&4294967295|x>>>25),x=U+(D^w&(C^D))+V[5]+1200080426&4294967295,U=w+(x<<12&4294967295|x>>>20),x=D+(C^U&(w^C))+V[6]+2821735955&4294967295,D=U+(x<<17&4294967295|x>>>15),x=C+(w^D&(U^w))+V[7]+4249261313&4294967295,C=D+(x<<22&4294967295|x>>>10),x=w+(U^C&(D^U))+V[8]+1770035416&4294967295,w=C+(x<<7&4294967295|x>>>25),x=U+(D^w&(C^D))+V[9]+2336552879&4294967295,U=w+(x<<12&4294967295|x>>>20),x=D+(C^U&(w^C))+V[10]+4294925233&4294967295,D=U+(x<<17&4294967295|x>>>15),x=C+(w^D&(U^w))+V[11]+2304563134&4294967295,C=D+(x<<22&4294967295|x>>>10),x=w+(U^C&(D^U))+V[12]+1804603682&4294967295,w=C+(x<<7&4294967295|x>>>25),x=U+(D^w&(C^D))+V[13]+4254626195&4294967295,U=w+(x<<12&4294967295|x>>>20),x=D+(C^U&(w^C))+V[14]+2792965006&4294967295,D=U+(x<<17&4294967295|x>>>15),x=C+(w^D&(U^w))+V[15]+1236535329&4294967295,C=D+(x<<22&4294967295|x>>>10),x=w+(D^U&(C^D))+V[1]+4129170786&4294967295,w=C+(x<<5&4294967295|x>>>27),x=U+(C^D&(w^C))+V[6]+3225465664&4294967295,U=w+(x<<9&4294967295|x>>>23),x=D+(w^C&(U^w))+V[11]+643717713&4294967295,D=U+(x<<14&4294967295|x>>>18),x=C+(U^w&(D^U))+V[0]+3921069994&4294967295,C=D+(x<<20&4294967295|x>>>12),x=w+(D^U&(C^D))+V[5]+3593408605&4294967295,w=C+(x<<5&4294967295|x>>>27),x=U+(C^D&(w^C))+V[10]+38016083&4294967295,U=w+(x<<9&4294967295|x>>>23),x=D+(w^C&(U^w))+V[15]+3634488961&4294967295,D=U+(x<<14&4294967295|x>>>18),x=C+(U^w&(D^U))+V[4]+3889429448&4294967295,C=D+(x<<20&4294967295|x>>>12),x=w+(D^U&(C^D))+V[9]+568446438&4294967295,w=C+(x<<5&4294967295|x>>>27),x=U+(C^D&(w^C))+V[14]+3275163606&4294967295,U=w+(x<<9&4294967295|x>>>23),x=D+(w^C&(U^w))+V[3]+4107603335&4294967295,D=U+(x<<14&4294967295|x>>>18),x=C+(U^w&(D^U))+V[8]+1163531501&4294967295,C=D+(x<<20&4294967295|x>>>12),x=w+(D^U&(C^D))+V[13]+2850285829&4294967295,w=C+(x<<5&4294967295|x>>>27),x=U+(C^D&(w^C))+V[2]+4243563512&4294967295,U=w+(x<<9&4294967295|x>>>23),x=D+(w^C&(U^w))+V[7]+1735328473&4294967295,D=U+(x<<14&4294967295|x>>>18),x=C+(U^w&(D^U))+V[12]+2368359562&4294967295,C=D+(x<<20&4294967295|x>>>12),x=w+(C^D^U)+V[5]+4294588738&4294967295,w=C+(x<<4&4294967295|x>>>28),x=U+(w^C^D)+V[8]+2272392833&4294967295,U=w+(x<<11&4294967295|x>>>21),x=D+(U^w^C)+V[11]+1839030562&4294967295,D=U+(x<<16&4294967295|x>>>16),x=C+(D^U^w)+V[14]+4259657740&4294967295,C=D+(x<<23&4294967295|x>>>9),x=w+(C^D^U)+V[1]+2763975236&4294967295,w=C+(x<<4&4294967295|x>>>28),x=U+(w^C^D)+V[4]+1272893353&4294967295,U=w+(x<<11&4294967295|x>>>21),x=D+(U^w^C)+V[7]+4139469664&4294967295,D=U+(x<<16&4294967295|x>>>16),x=C+(D^U^w)+V[10]+3200236656&4294967295,C=D+(x<<23&4294967295|x>>>9),x=w+(C^D^U)+V[13]+681279174&4294967295,w=C+(x<<4&4294967295|x>>>28),x=U+(w^C^D)+V[0]+3936430074&4294967295,U=w+(x<<11&4294967295|x>>>21),x=D+(U^w^C)+V[3]+3572445317&4294967295,D=U+(x<<16&4294967295|x>>>16),x=C+(D^U^w)+V[6]+76029189&4294967295,C=D+(x<<23&4294967295|x>>>9),x=w+(C^D^U)+V[9]+3654602809&4294967295,w=C+(x<<4&4294967295|x>>>28),x=U+(w^C^D)+V[12]+3873151461&4294967295,U=w+(x<<11&4294967295|x>>>21),x=D+(U^w^C)+V[15]+530742520&4294967295,D=U+(x<<16&4294967295|x>>>16),x=C+(D^U^w)+V[2]+3299628645&4294967295,C=D+(x<<23&4294967295|x>>>9),x=w+(D^(C|~U))+V[0]+4096336452&4294967295,w=C+(x<<6&4294967295|x>>>26),x=U+(C^(w|~D))+V[7]+1126891415&4294967295,U=w+(x<<10&4294967295|x>>>22),x=D+(w^(U|~C))+V[14]+2878612391&4294967295,D=U+(x<<15&4294967295|x>>>17),x=C+(U^(D|~w))+V[5]+4237533241&4294967295,C=D+(x<<21&4294967295|x>>>11),x=w+(D^(C|~U))+V[12]+1700485571&4294967295,w=C+(x<<6&4294967295|x>>>26),x=U+(C^(w|~D))+V[3]+2399980690&4294967295,U=w+(x<<10&4294967295|x>>>22),x=D+(w^(U|~C))+V[10]+4293915773&4294967295,D=U+(x<<15&4294967295|x>>>17),x=C+(U^(D|~w))+V[1]+2240044497&4294967295,C=D+(x<<21&4294967295|x>>>11),x=w+(D^(C|~U))+V[8]+1873313359&4294967295,w=C+(x<<6&4294967295|x>>>26),x=U+(C^(w|~D))+V[15]+4264355552&4294967295,U=w+(x<<10&4294967295|x>>>22),x=D+(w^(U|~C))+V[6]+2734768916&4294967295,D=U+(x<<15&4294967295|x>>>17),x=C+(U^(D|~w))+V[13]+1309151649&4294967295,C=D+(x<<21&4294967295|x>>>11),x=w+(D^(C|~U))+V[4]+4149444226&4294967295,w=C+(x<<6&4294967295|x>>>26),x=U+(C^(w|~D))+V[11]+3174756917&4294967295,U=w+(x<<10&4294967295|x>>>22),x=D+(w^(U|~C))+V[2]+718787259&4294967295,D=U+(x<<15&4294967295|x>>>17),x=C+(U^(D|~w))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(D+(x<<21&4294967295|x>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+U&4294967295}a.prototype.v=function(N,w){w===void 0&&(w=N.length);const C=w-this.blockSize,V=this.C;let D=this.h,U=0;for(;U<w;){if(D==0)for(;U<=C;)o(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<w;)if(V[D++]=N.charCodeAt(U++),D==this.blockSize){o(this,V),D=0;break}}else for(;U<w;)if(V[D++]=N[U++],D==this.blockSize){o(this,V),D=0;break}}this.h=D,this.o+=w},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;w=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=w&255,w/=256;for(this.v(N),N=Array(16),w=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)N[w++]=this.g[C]>>>V&255;return N};function c(N,w){var C=p;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=w(N)}function d(N,w){this.h=w;const C=[];let V=!0;for(let D=N.length-1;D>=0;D--){const U=N[D]|0;V&&U==w||(C[D]=U,V=!1)}this.g=C}var p={};function _(N){return-128<=N&&N<128?c(N,function(w){return new d([w|0],w<0?-1:0)}):new d([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return S;if(N<0)return Z(y(-N));const w=[];let C=1;for(let V=0;N>=C;V++)w[V]=N/C|0,C*=4294967296;return new d(w,0)}function A(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return Z(A(N.substring(1),w));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(w,8));let V=S;for(let U=0;U<N.length;U+=8){var D=Math.min(8,N.length-U);const x=parseInt(N.substring(U,U+D),w);D<8?(D=y(Math.pow(w,D)),V=V.j(D).add(y(x))):(V=V.j(C),V=V.add(y(x)))}return V}var S=_(0),M=_(1),H=_(16777216);s=d.prototype,s.m=function(){if($(this))return-Z(this).m();let N=0,w=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);N+=(V>=0?V:4294967296+V)*w,w*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(W(this))return"0";if($(this))return"-"+Z(this).toString(N);const w=y(Math.pow(N,6));var C=this;let V="";for(;;){const D=Kt(C,w).g;C=dt(C,D.j(w));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=D,W(C))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function W(N){if(N.h!=0)return!1;for(let w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function $(N){return N.h==-1}s.l=function(N){return N=dt(this,N),$(N)?-1:W(N)?0:1};function Z(N){const w=N.g.length,C=[];for(let V=0;V<w;V++)C[V]=~N.g[V];return new d(C,~N.h).add(M)}s.abs=function(){return $(this)?Z(this):this},s.add=function(N){const w=Math.max(this.g.length,N.g.length),C=[];let V=0;for(let D=0;D<=w;D++){let U=V+(this.i(D)&65535)+(N.i(D)&65535),x=(U>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);V=x>>>16,U&=65535,x&=65535,C[D]=x<<16|U}return new d(C,C[C.length-1]&-2147483648?-1:0)};function dt(N,w){return N.add(Z(w))}s.j=function(N){if(W(this)||W(N))return S;if($(this))return $(N)?Z(this).j(Z(N)):Z(Z(this).j(N));if($(N))return Z(this.j(Z(N)));if(this.l(H)<0&&N.l(H)<0)return y(this.m()*N.m());const w=this.g.length+N.g.length,C=[];for(var V=0;V<2*w;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<N.g.length;D++){const U=this.i(V)>>>16,x=this.i(V)&65535,Nt=N.i(D)>>>16,ge=N.i(D)&65535;C[2*V+2*D]+=x*ge,Tt(C,2*V+2*D),C[2*V+2*D+1]+=U*ge,Tt(C,2*V+2*D+1),C[2*V+2*D+1]+=x*Nt,Tt(C,2*V+2*D+1),C[2*V+2*D+2]+=U*Nt,Tt(C,2*V+2*D+2)}for(N=0;N<w;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=w;N<2*w;N++)C[N]=0;return new d(C,0)};function Tt(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function pt(N,w){this.g=N,this.h=w}function Kt(N,w){if(W(w))throw Error("division by zero");if(W(N))return new pt(S,S);if($(N))return w=Kt(Z(N),w),new pt(Z(w.g),Z(w.h));if($(w))return w=Kt(N,Z(w)),new pt(Z(w.g),w.h);if(N.g.length>30){if($(N)||$(w))throw Error("slowDivide_ only works with positive integers.");for(var C=M,V=w;V.l(N)<=0;)C=ne(C),V=ne(V);var D=Rt(C,1),U=Rt(V,1);for(V=Rt(V,2),C=Rt(C,2);!W(V);){var x=U.add(V);x.l(N)<=0&&(D=D.add(C),U=x),V=Rt(V,1),C=Rt(C,1)}return w=dt(N,D.j(w)),new pt(D,w)}for(D=S;N.l(w)>=0;){for(C=Math.max(1,Math.floor(N.m()/w.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=y(C),x=U.j(w);$(x)||x.l(N)>0;)C-=V,U=y(C),x=U.j(w);W(U)&&(U=M),D=D.add(U),N=dt(N,x)}return new pt(D,N)}s.B=function(N){return Kt(this,N).h},s.and=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)&N.i(V);return new d(C,this.h&N.h)},s.or=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)|N.i(V);return new d(C,this.h|N.h)},s.xor=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)^N.i(V);return new d(C,this.h^N.h)};function ne(N){const w=N.g.length+1,C=[];for(let V=0;V<w;V++)C[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(C,N.h)}function Rt(N,w){const C=w>>5;w%=32;const V=N.g.length-C,D=[];for(let U=0;U<V;U++)D[U]=w>0?N.i(U+C)>>>w|N.i(U+C+1)<<32-w:N.i(U+C);return new d(D,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,D0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,er=d}).apply(typeof J_<"u"?J_:typeof self<"u"?self:typeof window<"u"?window:{});var Ac=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var O0,Eo,M0,Nc,tm,V0,k0,U0;(function(){var s,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ac=="object"&&Ac];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var j=u[b];if(!(j in v))break t;v=v[j]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,j,B){for(var tt=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)tt[wt-2]=arguments[wt];return m.prototype[j].apply(b,tt)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function W(u,m){for(let b=1;b<arguments.length;b++){const j=arguments[b];var v=typeof j;if(v=v!="object"?v:j?Array.isArray(j)?"array":v:"null",v=="array"||v=="object"&&typeof j.length=="number"){v=u.length||0;const B=j.length||0;u.length=v+B;for(let tt=0;tt<B;tt++)u[v+tt]=j[tt]}else u.push(j)}}class ${constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){d.setTimeout(()=>{throw u},0)}function dt(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Tt{constructor(){this.h=this.g=null}add(m,v){const b=pt.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var pt=new $(()=>new Kt,u=>u.reset());class Kt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ne,Rt=!1,N=new Tt,w=()=>{const u=Promise.resolve(void 0);ne=()=>{u.then(C)}};function C(){for(var u;u=dt();){try{u.h.call(u.g)}catch(v){Z(v)}var m=pt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Rt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function Nt(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(Nt,D),Nt.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Nt.Z.h.call(this)},Nt.prototype.h=function(){Nt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ge="closure_listenable_"+(Math.random()*1e6|0),G=0;function nt(u,m,v,b,j){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=j,this.key=++G,this.da=this.fa=!1}function ht(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function jt(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function Gt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(u,m){let v,b;for(let j=1;j<arguments.length;j++){b=arguments[j];for(v in b)u[v]=b[v];for(let B=0;B<K.length;B++)v=K[B],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,v,b,j){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const tt=St(u,m,b,j);return tt>-1?(m=u[tt],v||(m.fa=!1)):(m=new nt(m,this.src,B,!!b,j),m.fa=v,u.push(m)),m};function _t(u,m){const v=m.type;if(v in u.g){var b=u.g[v],j=Array.prototype.indexOf.call(b,m,void 0),B;(B=j>=0)&&Array.prototype.splice.call(b,j,1),B&&(ht(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function St(u,m,v,b){for(let j=0;j<u.length;++j){const B=u[j];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==b)return j}return-1}var et="closure_lm_"+(Math.random()*1e6|0),st={};function ut(u,m,v,b,j){if(Array.isArray(m)){for(let B=0;B<m.length;B++)ut(u,m[B],v,b,j);return null}return v=dl(v),u&&u[ge]?u.J(m,v,p(b)?!!b.capture:!1,j):Pt(u,m,v,!1,b,j)}function Pt(u,m,v,b,j,B){if(!m)throw Error("Invalid event type");const tt=p(j)?!!j.capture:!!j;let wt=Li(u);if(wt||(u[et]=wt=new rt(u)),v=wt.add(m,v,b,tt,B),v.proxy)return v;if(b=he(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)U||(j=tt),j===void 0&&(j=!1),u.addEventListener(m.toString(),b,j);else if(u.attachEvent)u.attachEvent(Ge(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function he(){function u(v){return m.call(u.src,u.listener,v)}const m=En;return u}function Le(u,m,v,b,j){if(Array.isArray(m))for(var B=0;B<m.length;B++)Le(u,m[B],v,b,j);else b=p(b)?!!b.capture:!!b,v=dl(v),u&&u[ge]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=St(m,v,b,j),v>-1&&(ht(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=Li(u))&&(m=u.g[m.toString()],u=-1,m&&(u=St(m,v,b,j)),(v=u>-1?m[u]:null)&&Te(v))}function Te(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ge])_t(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(Ge(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=Li(m))?(_t(v,u),v.h==0&&(v.src=null,m[et]=null)):ht(u)}}}function Ge(u){return u in st?st[u]:st[u]="on"+u}function En(u,m){if(u.da)u=!0;else{m=new Nt(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&Te(u),u=v.call(b,m)}return u}function Li(u){return u=u[et],u instanceof rt?u:null}var fl="__closure_events_fn_"+(Math.random()*1e9>>>0);function dl(u){return typeof u=="function"?u:(u[fl]||(u[fl]=function(m){return u.handleEvent(m)}),u[fl])}function be(){V.call(this),this.i=new rt(this),this.M=this,this.G=null}S(be,V),be.prototype[ge]=!0,be.prototype.removeEventListener=function(u,m,v,b){Le(this,u,m,v,b)};function Ve(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var j=m;m=new D(b,u),it(m,j)}j=!0;let B,tt;if(v)for(tt=v.length-1;tt>=0;tt--)B=m.g=v[tt],j=ds(B,b,!0,m)&&j;if(B=m.g=u,j=ds(B,b,!0,m)&&j,j=ds(B,b,!1,m)&&j,v)for(tt=0;tt<v.length;tt++)B=m.g=v[tt],j=ds(B,b,!1,m)&&j}be.prototype.N=function(){if(be.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)ht(v[b]);delete u.g[m],u.h--}}this.G=null},be.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},be.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function ds(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let j=!0;for(let B=0;B<m.length;++B){const tt=m[B];if(tt&&!tt.da&&tt.capture==v){const wt=tt.listener,ye=tt.ha||tt.src;tt.fa&&_t(u.i,tt),j=wt.call(ye,b)!==!1&&j}}return j&&!b.defaultPrevented}function Nh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Yo(u){u.g=Nh(()=>{u.g=null,u.i&&(u.i=!1,Yo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class an extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Yo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mr(u){V.call(this),this.h=u,this.g={}}S(mr,V);var ml=[];function gl(u){jt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Te(m)},u),u.g={}}mr.prototype.N=function(){mr.Z.N.call(this),gl(this)},mr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ms=d.JSON.stringify,Ih=d.JSON.parse,Xo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function $o(){}function Zo(){}var Qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Fe(){D.call(this,"d")}S(Fe,D);function Dn(){D.call(this,"c")}S(Dn,D);var pe={},Jo=null;function ta(){return Jo=Jo||new be}pe.Ia="serverreachability";function Wo(u){D.call(this,pe.Ia,u)}S(Wo,D);function ai(u){const m=ta();Ve(m,new Wo(m))}pe.STAT_EVENT="statevent";function gr(u,m){D.call(this,pe.STAT_EVENT,u),this.stat=m}S(gr,D);function Ae(u){const m=ta();Ve(m,new gr(m,u))}pe.Ja="timingevent";function li(u,m){D.call(this,pe.Ja,u),this.size=m}S(li,D);function oi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Kn(){this.g=!0}Kn.prototype.ua=function(){this.g=!1};function Dh(u,m,v,b,j,B){u.info(function(){if(u.g)if(B){var tt="",wt=B.split("&");for(let Ft=0;Ft<wt.length;Ft++){var ye=wt[Ft].split("=");if(ye.length>1){const ue=ye[0];ye=ye[1];const kn=ue.split("_");tt=kn.length>=2&&kn[1]=="type"?tt+(ue+"="+ye+"&"):tt+(ue+"=redacted&")}}}else tt=null;else tt=B;return"XMLHTTP REQ ("+b+") [attempt "+j+"]: "+m+`
`+v+`
`+tt})}function tu(u,m,v,b,j,B,tt){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+j+"]: "+m+`
`+v+`
`+B+" "+tt})}function ui(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Oh(u,v)+(b?" "+b:"")})}function pr(u,m){u.info(function(){return"TIMEOUT: "+m})}Kn.prototype.info=function(){};function Oh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var j=b[0];if(j!="noop"&&j!="stop"&&j!="close")for(let tt=1;tt<b.length;tt++)b[tt]=""}}}}return ms(B)}catch{return m}}var yr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},pl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},yl;function _r(){}S(_r,$o),_r.prototype.g=function(){return new XMLHttpRequest},yl=new _r;function Pi(u){return encodeURIComponent(String(u))}function eu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Yn(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new mr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Xn}function Xn(){this.i=null,this.g="",this.h=!1}var Se={},Pe={};function ci(u,m,v){u.M=1,u.A=vr(xe(m)),u.u=v,u.R=!0,ea(u,null)}function ea(u,m){u.F=Date.now(),hi(u),u.B=xe(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),ra(v.i,"t",b),u.C=0,v=u.j.L,u.h=new Xn,u.g=pu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new an(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var j="readystatechange";Array.isArray(j)||(j&&(ml[0]=j.toString()),j=ml);for(let B=0;B<j.length;B++){const tt=ut(v,j[B],b||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ai(),Dh(u.i,u.v,u.B,u.l,u.S,u.u)}Yn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Jn(u)==3?m.j():this.Y(u)},Yn.prototype.Y=function(u){try{if(u==this.g)t:{const wt=Jn(this.g),ye=this.g.ya(),Ft=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||Qe(this.g)))){this.K||wt!=4||ye==7||(ye==8||Ft<=0?ai(3):ai(2)),fi(this);var m=this.g.ca();this.X=m;var v=Mh(this);if(this.o=m==200,tu(this.i,this.v,this.B,this.l,this.S,wt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,j=this.g;if((b=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(b)){var B=b;break e}}B=null}if(u=B)ui(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,di(this,u);else{this.o=!1,this.m=3,Ae(12),Tn(this),On(this);break t}}if(this.R){u=!0;let ue;for(;!this.K&&this.C<v.length;)if(ue=iu(this,v),ue==Pe){wt==4&&(this.m=4,Ae(14),u=!1),ui(this.i,this.l,null,"[Incomplete Response]");break}else if(ue==Se){this.m=4,Ae(15),ui(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ui(this.i,this.l,ue,null),di(this,ue);if(nu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||v.length!=0||this.h.h||(this.m=1,Ae(16),u=!1),this.o=this.o&&u,!u)ui(this.i,this.l,v,"[Invalid Chunked Response]"),Tn(this),On(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Ol(tt),tt.P=!0,Ae(11))}}else ui(this.i,this.l,v,null),di(this,v);wt==4&&Tn(this),this.o&&!this.K&&(wt==4?fu(this.j,this):(this.o=!1,hi(this)))}else Bi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ae(12)):(this.m=0,Ae(13)),Tn(this),On(this)}}}catch{}};function Mh(u){if(!nu(u))return u.g.la();const m=Qe(u.g);if(m==="")return"";let v="";const b=m.length,j=Jn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Tn(u),On(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<b;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(j&&B==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function nu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function iu(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?Pe:(v=Number(m.substring(v,b)),isNaN(v)?Se:(b+=1,b+v>m.length?Pe:(m=m.slice(b,b+v),u.C=b+v,m)))}Yn.prototype.cancel=function(){this.K=!0,Tn(this)};function hi(u){u.T=Date.now()+u.H,na(u,u.H)}function na(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=oi(y(u.aa,u),m)}function fi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Yn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(pr(this.i,this.B),this.M!=2&&(ai(),Ae(17)),Tn(this),this.m=2,On(this)):na(this,this.T-u)};function On(u){u.j.I==0||u.K||fu(u.j,u)}function Tn(u){fi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,gl(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function di(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||gi(v.h,u))){if(!u.L&&gi(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var j=b;if(j[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ca(v),bs(v);else break t;xr(v),Ae(18)}}else v.xa=j[1],0<v.xa-v.K&&j[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=oi(y(v.Va,v),6e3));mi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ti(v,11)}else if((u.L||v.g==u)&&ca(v),!x(m))for(j=v.Ba.g.parse(m),m=0;m<j.length;m++){let Ft=j[m];const ue=Ft[0];if(!(ue<=v.K))if(v.K=ue,Ft=Ft[1],v.I==2)if(Ft[0]=="c"){v.M=Ft[1],v.ba=Ft[2];const kn=Ft[3];kn!=null&&(v.ka=kn,v.j.info("VER="+v.ka));const bi=Ft[4];bi!=null&&(v.za=bi,v.j.info("SVER="+v.za));const Wn=Ft[5];Wn!=null&&typeof Wn=="number"&&Wn>0&&(b=1.5*Wn,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const ti=u.g;if(ti){const Rr=ti.g?ti.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rr){var B=b.h;B.g||Rr.indexOf("spdy")==-1&&Rr.indexOf("quic")==-1&&Rr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(El(B,B.h),B.h=null))}if(b.G){const ha=ti.g?ti.g.getResponseHeader("X-HTTP-Session-Id"):null;ha&&(b.wa=ha,Xt(b.J,b.G,ha))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var tt=u;if(b.na=gu(b,b.L?b.ba:null,b.W),tt.L){Tl(b.h,tt);var wt=tt,ye=b.O;ye&&(wt.H=ye),wt.D&&(fi(wt),hi(wt)),b.g=tt}else cu(b);v.i.length>0&&Ei(v)}else Ft[0]!="stop"&&Ft[0]!="close"||Ti(v,7);else v.I==3&&(Ft[0]=="stop"||Ft[0]=="close"?Ft[0]=="stop"?Ti(v,7):Il(v):Ft[0]!="noop"&&v.l&&v.l.qa(Ft),v.A=0)}}ai(4)}catch{}}var we=class{constructor(u,m){this.g=u,this.map=m}};function _l(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function vl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function mi(u){return u.h?1:u.g?u.g.size:0}function gi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function El(u,m){u.g?u.g.add(m):u.h=m}function Tl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}_l.prototype.cancel=function(){if(this.i=bl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function bl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return H(u.i)}var su=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ia(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let j,B=null;b>=0?(j=u[v].substring(0,b),B=u[v].substring(b+1)):j=u[v],m(j,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function bn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof bn?(this.l=u.l,ze(this,u.j),this.o=u.o,this.g=u.g,gs(this,u.u),this.h=u.h,Al(this,ou(u.i)),this.m=u.m):u&&(m=String(u).match(su))?(this.l=!1,ze(this,m[1]||"",!0),this.o=pi(m[2]||""),this.g=pi(m[3]||"",!0),gs(this,m[4]),this.h=pi(m[5]||"",!0),Al(this,m[6]||"",!0),this.m=pi(m[7]||"")):(this.l=!1,this.i=new ys(null,this.l))}bn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Er(m,sa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Er(m,sa,!0),"@"),u.push(Pi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Er(v,v.charAt(0)=="/"?Sl:ru,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Er(v,au)),u.join("")},bn.prototype.resolve=function(u){const m=xe(this);let v=!!u.j;v?ze(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)gs(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var j=m.h.lastIndexOf("/");j!=-1&&(b=m.h.slice(0,j+1)+b)}if(j=b,j==".."||j==".")b="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){b=j.lastIndexOf("/",0)==0,j=j.split("/");const B=[];for(let tt=0;tt<j.length;){const wt=j[tt++];wt=="."?b&&tt==j.length&&B.push(""):wt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),b&&tt==j.length&&B.push("")):(B.push(wt),b=!0)}b=B.join("/")}else b=j}return v?m.h=b:v=u.i.toString()!=="",v?Al(m,ou(u.i)):v=!!u.m,v&&(m.m=u.m),m};function xe(u){return new bn(u)}function ze(u,m,v){u.j=v?pi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function gs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Al(u,m,v){m instanceof ys?(u.i=m,aa(u.i,u.l)):(v||(m=Er(m,ps)),u.i=new ys(m,u.l))}function Xt(u,m,v){u.i.set(m,v)}function vr(u){return Xt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function pi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Er(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,hn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function hn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var sa=/[#\/\?@]/g,ru=/[#\?:]/g,Sl=/[#\?]/g,ps=/[#\?@]/g,au=/#/g;function ys(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function fn(u){u.g||(u.g=new Map,u.h=0,u.i&&ia(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=ys.prototype,s.add=function(u,m){fn(this),this.i=null,u=_s(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function lu(u,m){fn(u),m=_s(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function wl(u,m){return fn(u),m=_s(u,m),u.g.has(m)}s.forEach=function(u,m){fn(this),this.g.forEach(function(v,b){v.forEach(function(j){u.call(m,j,b,this)},this)},this)};function xl(u,m){fn(u);let v=[];if(typeof m=="string")wl(u,m)&&(v=v.concat(u.g.get(_s(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}s.set=function(u,m){return fn(this),this.i=null,u=_s(this,u),wl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=xl(this,u),u.length>0?String(u[0]):m):m};function ra(u,m,v){lu(u,m),v.length>0&&(u.i=null,u.g.set(_s(u,m),H(v)),u.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const j=Pi(v);v=xl(this,v);for(let B=0;B<v.length;B++){let tt=j;v[B]!==""&&(tt+="="+Pi(v[B])),u.push(tt)}}return this.i=u.join("&")};function ou(u){const m=new ys;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function _s(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function aa(u,m){m&&!u.j&&(fn(u),u.i=null,u.g.forEach(function(v,b){const j=b.toLowerCase();b!=j&&(lu(this,b),ra(this,j,v))},u)),u.j=m}function $n(u,m){const v=new Kn;if(d.Image){const b=new Image;b.onload=A(Mn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=A(Mn,v,"TestLoadImage: error",!1,m,b),b.onabort=A(Mn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=A(Mn,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Rl(u,m){const v=new Kn,b=new AbortController,j=setTimeout(()=>{b.abort(),Mn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(B=>{clearTimeout(j),B.ok?Mn(v,"TestPingServer: ok",!0,m):Mn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),Mn(v,"TestPingServer: error",!1,m)})}function Mn(u,m,v,b,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),b(v)}catch{}}function vs(){this.g=new Xo}function yi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(yi,$o),yi.prototype.g=function(){return new Tr(this.i,this.h)};function Tr(u,m){be.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Tr,be),s=Tr.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Zn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Es(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;la(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function la(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Es(this):Zn(this),this.readyState==3&&la(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Es(this))},s.Na=function(u){this.g&&(this.response=u,Es(this))},s.ga=function(){this.g&&Es(this)};function Es(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Zn(u)}s.setRequestHeader=function(u,m){this.A.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Zn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Tr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Vn(u){let m="";return jt(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function br(u,m,v){t:{for(b in v){var b=!1;break t}b=!0}b||(v=Vn(v),typeof u=="string"?v!=null&&Pi(v):Xt(u,m,v))}function Jt(u){be.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Jt,be);var _i=/^https?$/i,Cl=["POST","PUT"];s=Jt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():yl.g(),this.g.onreadystatechange=M(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Ar(this,B);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var j in b)v.set(j,b[j]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const B of b.keys())v.set(B,b.get(B));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),j=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Cl,m,void 0)>=0)||b||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of v)this.g.setRequestHeader(B,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){Ar(this,B)}};function Ar(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Nl(u),zi(u)}function Nl(u){u.A||(u.A=!0,Ve(u,"complete"),Ve(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ve(this,"complete"),Ve(this,"abort"),zi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zi(this,!0)),Jt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Sr(this):this.Xa())},s.Xa=function(){Sr(this)};function Sr(u){if(u.h&&typeof c<"u"){if(u.v&&Jn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ve(u,"readystatechange"),Jn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var b;if(b=B===0){let tt=String(u.D).match(su)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),b=!_i.test(tt?tt.toLowerCase():"")}v=b}if(v)Ve(u,"complete"),Ve(u,"success");else{u.o=6;try{var j=Jn(u)>2?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.ca()+"]",Nl(u)}}finally{zi(u)}}}}function zi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ve(u,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function Jn(u){return u.g?u.g.readyState:0}s.ca=function(){try{return Jn(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ih(m)}};function Qe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Bi(u){const m={};u=(u.g&&Jn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(x(u[b]))continue;var v=eu(u[b]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[j]||[];m[j]=B,B.push(v)}Gt(m,function(b){return b.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function vi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ts(u){this.za=0,this.i=[],this.j=new Kn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=vi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=vi("baseRetryDelayMs",5e3,u),this.Za=vi("retryDelaySeedMs",1e4,u),this.Ta=vi("forwardChannelMaxRetries",2,u),this.va=vi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new _l(u&&u.concurrentRequestLimit),this.Ba=new vs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ts.prototype,s.ka=8,s.I=1,s.connect=function(u,m,v,b){Ae(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=gu(this,null,this.W),Ei(this)};function Il(u){if(oa(u),u.I==3){var m=u.V++,v=xe(u.J);if(Xt(v,"SID",u.M),Xt(v,"RID",m),Xt(v,"TYPE","terminate"),wr(u,v),m=new Yn(u,u.j,m),m.M=2,m.A=vr(xe(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=pu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),hi(m)}mu(u)}function bs(u){u.g&&(Ol(u),u.g.cancel(),u.g=null)}function oa(u){bs(u),u.v&&(d.clearTimeout(u.v),u.v=null),ca(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ei(u){if(!vl(u.h)&&!u.m){u.m=!0;var m=u.Ea;ne||w(),Rt||(ne(),Rt=!0),N.add(m,u),u.D=0}}function ua(u,m){return mi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=oi(y(u.Ea,u,m),du(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const j=new Yn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),it(B,this.U)):B=this.U),this.u!==null||this.R||(j.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=uu(this,j,m),v=xe(this.J),Xt(v,"RID",u),Xt(v,"CVER",22),this.G&&Xt(v,"X-HTTP-Session-Id",this.G),wr(this,v),B&&(this.R?m="headers="+Pi(Vn(B))+"&"+m:this.u&&br(v,this.u,B)),El(this.h,j),this.Ra&&Xt(v,"TYPE","init"),this.S?(Xt(v,"$req",m),Xt(v,"SID","null"),j.U=!0,ci(j,v,null)):ci(j,v,m),this.I=2}}else this.I==3&&(u?Dl(this,u):this.i.length==0||vl(this.h)||Dl(this))};function Dl(u,m){var v;m?v=m.l:v=u.V++;const b=xe(u.J);Xt(b,"SID",u.M),Xt(b,"RID",v),Xt(b,"AID",u.K),wr(u,b),u.u&&u.o&&br(b,u.u,u.o),v=new Yn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=uu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),El(u.h,v),ci(v,b,m)}function wr(u,m){u.H&&jt(u.H,function(v,b){Xt(m,b,v)}),u.l&&jt({},function(v,b){Xt(m,b,v)})}function uu(u,m,v){v=Math.min(u.i.length,v);const b=u.l?y(u.l.Ka,u.l,u):null;t:{var j=u.i;let wt=-1;for(;;){const ye=["count="+v];wt==-1?v>0?(wt=j[0].g,ye.push("ofs="+wt)):wt=0:ye.push("ofs="+wt);let Ft=!0;for(let ue=0;ue<v;ue++){var B=j[ue].g;const kn=j[ue].map;if(B-=wt,B<0)wt=Math.max(0,j[ue].g-100),Ft=!1;else try{B="req"+B+"_"||"";try{var tt=kn instanceof Map?kn:Object.entries(kn);for(const[bi,Wn]of tt){let ti=Wn;p(Wn)&&(ti=ms(Wn)),ye.push(B+bi+"="+encodeURIComponent(ti))}}catch(bi){throw ye.push(B+"type="+encodeURIComponent("_badmap")),bi}}catch{b&&b(kn)}}if(Ft){tt=ye.join("&");break t}}tt=void 0}return u=u.i.splice(0,v),m.G=u,tt}function cu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;ne||w(),Rt||(ne(),Rt=!0),N.add(m,u),u.A=0}}function xr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=oi(y(u.Da,u),du(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,hu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=oi(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ae(10),bs(this),hu(this))};function Ol(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function hu(u){u.g=new Yn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=xe(u.na);Xt(m,"RID","rpc"),Xt(m,"SID",u.M),Xt(m,"AID",u.K),Xt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Xt(m,"TO",u.ia),Xt(m,"TYPE","xmlhttp"),wr(u,m),u.u&&u.o&&br(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=vr(xe(m)),v.u=null,v.R=!0,ea(v,u)}s.Va=function(){this.C!=null&&(this.C=null,bs(this),xr(this),Ae(19))};function ca(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function fu(u,m){var v=null;if(u.g==m){ca(u),Ol(u),u.g=null;var b=2}else if(gi(u.h,m))v=m.G,Tl(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var j=u.D;b=ta(),Ve(b,new li(b,v)),Ei(u)}else cu(u);else if(j=m.m,j==3||j==0&&m.X>0||!(b==1&&ua(u,m)||b==2&&xr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),j){case 1:Ti(u,5);break;case 4:Ti(u,10);break;case 3:Ti(u,6);break;default:Ti(u,2)}}}function du(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Ti(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),b=u.Ua;const j=!b;b=new bn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ze(b,"https"),vr(b),j?$n(b.toString(),v):Rl(b.toString(),v)}else Ae(2);u.I=0,u.l&&u.l.pa(m),mu(u),oa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ae(2)):(this.j.info("Failed to ping google.com"),Ae(1))};function mu(u){if(u.I=0,u.ja=[],u.l){const m=bl(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function gu(u,m,v){var b=v instanceof bn?xe(v):new bn(v);if(b.g!="")m&&(b.g=m+"."+b.g),gs(b,b.u);else{var j=d.location;b=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;const B=new bn(null);b&&ze(B,b),m&&(B.g=m),j&&gs(B,j),v&&(B.h=v),b=B}return v=u.G,m=u.wa,v&&m&&Xt(b,v,m),Xt(b,"VER",u.ka),wr(u,b),b}function pu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Jt(new yi({ab:v})):new Jt(u.ma),m.Fa(u.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function yu(){}s=yu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function As(){}As.prototype.g=function(u,m){return new ln(u,m)};function ln(u,m){be.call(this),this.g=new Ts(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!x(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new qi(this)}S(ln,be),ln.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){Il(this.g)},ln.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ms(u),u=v);m.i.push(new we(m.Ya++,u)),m.I==3&&Ei(m)},ln.prototype.N=function(){this.g.l=null,delete this.j,Il(this.g),delete this.g,ln.Z.N.call(this)};function _u(u){Fe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(_u,Fe);function vu(){Dn.call(this),this.status=1}S(vu,Dn);function qi(u){this.g=u}S(qi,yu),qi.prototype.ra=function(){Ve(this.g,"a")},qi.prototype.qa=function(u){Ve(this.g,new _u(u))},qi.prototype.pa=function(u){Ve(this.g,new vu)},qi.prototype.oa=function(){Ve(this.g,"b")},As.prototype.createWebChannel=As.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,U0=function(){return new As},k0=function(){return ta()},V0=pe,tm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},yr.NO_ERROR=0,yr.TIMEOUT=8,yr.HTTP_ERROR=6,Nc=yr,pl.COMPLETE="complete",M0=pl,Zo.EventType=Qn,Qn.OPEN="a",Qn.CLOSE="b",Qn.ERROR="c",Qn.MESSAGE="d",be.prototype.listen=be.prototype.J,Eo=Zo,Jt.prototype.listenOnce=Jt.prototype.K,Jt.prototype.getLastError=Jt.prototype.Ha,Jt.prototype.getLastErrorCode=Jt.prototype.ya,Jt.prototype.getStatus=Jt.prototype.ca,Jt.prototype.getResponseJson=Jt.prototype.La,Jt.prototype.getResponseText=Jt.prototype.la,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Fa,O0=Jt}).apply(typeof Ac<"u"?Ac:typeof self<"u"?self:typeof window<"u"?window:{});const W_="@firebase/firestore",tv="4.9.3";let nn=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");let ll="12.7.0";const Yr=new bm("@firebase/firestore");function Ba(){return Yr.logLevel}function at(s,...t){if(Yr.logLevel<=Vt.DEBUG){const i=t.map(wm);Yr.debug(`Firestore (${ll}): ${s}`,...i)}}function os(s,...t){if(Yr.logLevel<=Vt.ERROR){const i=t.map(wm);Yr.error(`Firestore (${ll}): ${s}`,...i)}}function Ja(s,...t){if(Yr.logLevel<=Vt.WARN){const i=t.map(wm);Yr.warn(`Firestore (${ll}): ${s}`,...i)}}function wm(s){if(typeof s=="string")return s;try{return(function(i){return JSON.stringify(i)})(s)}catch{return s}}function yt(s,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,j0(s,a,i)}function j0(s,t,i){let a=`FIRESTORE (${ll}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw os(a),new Error(a)}function Yt(s,t,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,s||j0(t,o,a)}function At(s,t){return s}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends fs{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class L0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class vS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(nn.UNAUTHENTICATED)))}shutdown(){}}class ES{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class TS{constructor(t){this.t=t,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Yt(this.o===void 0,42304);let a=this.i;const o=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new Fr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Fr,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},p=_=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Fr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Yt(typeof a.accessToken=="string",31837,{l:a}),new L0(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string",2055,{h:t}),new nn(t)}}class bS{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class AS{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new bS(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ev{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SS{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,si(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Yt(this.o===void 0,3512);const a=c=>{c.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const o=c=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ev(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Yt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new ev(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function wS(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}class xm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=wS(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=t.charAt(o[c]%62))}return a}}function kt(s,t){return s<t?-1:s>t?1:0}function em(s,t){const i=Math.min(s.length,t.length);for(let a=0;a<i;a++){const o=s.charAt(a),c=t.charAt(a);if(o!==c)return Pd(o)===Pd(c)?kt(o,c):Pd(o)?1:-1}return kt(s.length,t.length)}const xS=55296,RS=57343;function Pd(s){const t=s.charCodeAt(0);return t>=xS&&t<=RS}function Wa(s,t,i){return s.length===t.length&&s.every(((a,o)=>i(a,t[o])))}const nv="__name__";class Ci{constructor(t,i,a){i===void 0?i=0:i>t.length&&yt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&yt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ci.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ci?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let o=0;o<a;o++){const c=Ci.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return kt(t.length,i.length)}static compareSegments(t,i){const a=Ci.isNumericId(t),o=Ci.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Ci.extractNumericId(t).compare(Ci.extractNumericId(i)):em(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return er.fromString(t.substring(4,t.length-2))}}class le extends Ci{construct(t,i,a){return new le(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ct(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new le(i)}static emptyPath(){return new le([])}}const CS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends Ci{construct(t,i,a){return new Je(t,i,a)}static isValidIdentifier(t){return CS.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nv}static keyField(){return new Je([nv])}static fromServerFormat(t){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new ct(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new ct(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ct(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(a+=p,o++):(c(),o++)}if(c(),d)throw new ct(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Je(i)}static emptyPath(){return new Je([])}}class mt{constructor(t){this.path=t}static fromPath(t){return new mt(le.fromString(t))}static fromName(t){return new mt(le.fromString(t).popFirst(5))}static empty(){return new mt(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&le.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return le.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new le(t.slice()))}}function P0(s,t,i){if(!i)throw new ct(J.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function NS(s,t,i,a){if(t===!0&&a===!0)throw new ct(J.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function iv(s){if(!mt.isDocumentKey(s))throw new ct(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function sv(s){if(mt.isDocumentKey(s))throw new ct(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function z0(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Rm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":yt(12329,{type:typeof s})}function Ni(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new ct(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Rm(s);throw new ct(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return s}function Oe(s,t){const i={typeString:s};return t&&(i.value=t),i}function Po(s,t){if(!z0(s))throw new ct(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const o=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in s)){i=`JSON missing required field: '${a}'`;break}const d=s[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ct(J.INVALID_ARGUMENT,i);return!0}const rv=-62135596800,av=1e6;class oe{static now(){return oe.fromMillis(Date.now())}static fromDate(t){return oe.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*av);return new oe(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ct(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<rv)throw new ct(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/av}_compareTo(t){return this.seconds===t.seconds?kt(this.nanoseconds,t.nanoseconds):kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:oe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Po(t,oe._jsonSchema))return new oe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-rv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}oe._jsonSchemaVersion="firestore/timestamp/1.0",oe._jsonSchema={type:Oe("string",oe._jsonSchemaVersion),seconds:Oe("number"),nanoseconds:Oe("number")};class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new oe(0,0))}static max(){return new Et(new oe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Do=-1;function IS(s,t){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(a===1e9?new oe(i+1,0):new oe(i,a));return new rr(o,mt.empty(),t)}function DS(s){return new rr(s.readTime,s.key,Do)}class rr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new rr(Et.min(),mt.empty(),Do)}static max(){return new rr(Et.max(),mt.empty(),Do)}}function OS(s,t){let i=s.readTime.compareTo(t.readTime);return i!==0?i:(i=mt.comparator(s.documentKey,t.documentKey),i!==0?i:kt(s.largestBatchId,t.largestBatchId))}const MS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ol(s){if(s.code!==J.FAILED_PRECONDITION||s.message!==MS)throw s;at("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let o=0,c=0,d=!1;t.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&i()}),(_=>a(_)))})),d=!0,c===o&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((o=>o?X.resolve(o):a()));return i}static forEach(t,i){const a=[];return t.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,o)=>{const c=t.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((A=>{d[y]=A,++p,p===c&&a(d)}),(A=>o(A)))}}))}static doWhile(t,i){return new X(((a,o)=>{const c=()=>{t()===!0?i().next((()=>{c()}),o):a()};c()}))}}function kS(s){const t=s.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ul(s){return s.name==="IndexedDbTransactionError"}class ah{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ah.ce=-1;const Cm=-1;function lh(s){return s==null}function Bc(s){return s===0&&1/s==-1/0}function US(s){return typeof s=="number"&&Number.isInteger(s)&&!Bc(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}const B0="";function jS(s){let t="";for(let i=0;i<s.length;i++)t.length>0&&(t=lv(t)),t=LS(s.get(i),t);return lv(t)}function LS(s,t){let i=t;const a=s.length;for(let o=0;o<a;o++){const c=s.charAt(o);switch(c){case"\0":i+="";break;case B0:i+="";break;default:i+=c}}return i}function lv(s){return s+B0+""}function ov(s){let t=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t++;return t}function fr(s,t){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&t(i,s[i])}function q0(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}class fe{constructor(t,i){this.comparator=t,this.root=i||Ze.EMPTY}insert(t,i){return new fe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ze.BLACK,null,null))}remove(t){return new fe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ze.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Sc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Sc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Sc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Sc(this.root,t,this.comparator,!0)}}class Sc{constructor(t,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ze{constructor(t,i,a,o,c){this.key=t,this.value=i,this.color=a??Ze.RED,this.left=o??Ze.EMPTY,this.right=c??Ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,o,c){return new Ze(t??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const c=a(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return Ze.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}Ze.EMPTY=null,Ze.RED=!0,Ze.BLACK=!1;Ze.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,i,a,o,c){return this}insert(t,i,a){return new Ze(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class je{constructor(t){this.comparator=t,this.data=new fe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new uv(this.data.getIterator())}getIteratorFrom(t){return new uv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof je)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new je(this.comparator);return i.data=t,i}}class uv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class In{constructor(t){this.fields=t,t.sort(Je.comparator)}static empty(){return new In([])}unionWith(t){let i=new je(Je.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new In(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Wa(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class H0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class We{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new H0("Invalid base64 string: "+c):c}})(t);return new We(i)}static fromUint8Array(t){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(t);return new We(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}We.EMPTY_BYTE_STRING=new We("");const PS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ar(s){if(Yt(!!s,39018),typeof s=="string"){let t=0;const i=PS.exec(s);if(Yt(!!i,46558,{timestamp:s}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Ee(s.seconds),nanos:Ee(s.nanos)}}function Ee(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function lr(s){return typeof s=="string"?We.fromBase64String(s):We.fromUint8Array(s)}const G0="server_timestamp",F0="__type__",Q0="__previous_value__",K0="__local_write_time__";function Nm(s){return(s?.mapValue?.fields||{})[F0]?.stringValue===G0}function oh(s){const t=s.mapValue.fields[Q0];return Nm(t)?oh(t):t}function Oo(s){const t=ar(s.mapValue.fields[K0].timestampValue);return new oe(t.seconds,t.nanos)}class zS{constructor(t,i,a,o,c,d,p,_,y,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=A}}const qc="(default)";class Mo{constructor(t,i){this.projectId=t,this.database=i||qc}static empty(){return new Mo("","")}get isDefaultDatabase(){return this.database===qc}isEqual(t){return t instanceof Mo&&t.projectId===this.projectId&&t.database===this.database}}const Y0="__type__",BS="__max__",wc={mapValue:{}},X0="__vector__",Hc="value";function or(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Nm(s)?4:HS(s)?9007199254740991:qS(s)?10:11:yt(28295,{value:s})}function Ui(s,t){if(s===t)return!0;const i=or(s);if(i!==or(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Oo(s).isEqual(Oo(t));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=ar(o.timestampValue),p=ar(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(o,c){return lr(o.bytesValue).isEqual(lr(c.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(o,c){return Ee(o.geoPointValue.latitude)===Ee(c.geoPointValue.latitude)&&Ee(o.geoPointValue.longitude)===Ee(c.geoPointValue.longitude)})(s,t);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Ee(o.integerValue)===Ee(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Ee(o.doubleValue),p=Ee(c.doubleValue);return d===p?Bc(d)===Bc(p):isNaN(d)&&isNaN(p)}return!1})(s,t);case 9:return Wa(s.arrayValue.values||[],t.arrayValue.values||[],Ui);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(ov(d)!==ov(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Ui(d[_],p[_])))return!1;return!0})(s,t);default:return yt(52216,{left:s})}}function Vo(s,t){return(s.values||[]).find((i=>Ui(i,t)))!==void 0}function tl(s,t){if(s===t)return 0;const i=or(s),a=or(t);if(i!==a)return kt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return kt(s.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=Ee(c.integerValue||c.doubleValue),_=Ee(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(s,t);case 3:return cv(s.timestampValue,t.timestampValue);case 4:return cv(Oo(s),Oo(t));case 5:return em(s.stringValue,t.stringValue);case 6:return(function(c,d){const p=lr(c),_=lr(d);return p.compareTo(_)})(s.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const A=kt(p[y],_[y]);if(A!==0)return A}return kt(p.length,_.length)})(s.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=kt(Ee(c.latitude),Ee(d.latitude));return p!==0?p:kt(Ee(c.longitude),Ee(d.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return hv(s.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[Hc]?.arrayValue,A=_[Hc]?.arrayValue,S=kt(y?.values?.length||0,A?.values?.length||0);return S!==0?S:hv(y,A)})(s.mapValue,t.mapValue);case 11:return(function(c,d){if(c===wc.mapValue&&d===wc.mapValue)return 0;if(c===wc.mapValue)return 1;if(d===wc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},A=Object.keys(y);_.sort(),A.sort();for(let S=0;S<_.length&&S<A.length;++S){const M=em(_[S],A[S]);if(M!==0)return M;const H=tl(p[_[S]],y[A[S]]);if(H!==0)return H}return kt(_.length,A.length)})(s.mapValue,t.mapValue);default:throw yt(23264,{he:i})}}function cv(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return kt(s,t);const i=ar(s),a=ar(t),o=kt(i.seconds,a.seconds);return o!==0?o:kt(i.nanos,a.nanos)}function hv(s,t){const i=s.values||[],a=t.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=tl(i[o],a[o]);if(c)return c}return kt(i.length,a.length)}function el(s){return nm(s)}function nm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(i){const a=ar(i);return`time(${a.seconds},${a.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(i){return lr(i).toBase64()})(s.bytesValue):"referenceValue"in s?(function(i){return mt.fromName(i).toString()})(s.referenceValue):"geoPointValue"in s?(function(i){return`geo(${i.latitude},${i.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=nm(c);return a+"]"})(s.arrayValue):"mapValue"in s?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${nm(i.fields[d])}`;return o+"}"})(s.mapValue):yt(61005,{value:s})}function Ic(s){switch(or(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=oh(s);return t?16+Ic(t):16;case 5:return 2*s.stringValue.length;case 6:return lr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Ic(c)),0)})(s.arrayValue);case 10:case 11:return(function(a){let o=0;return fr(a.fields,((c,d)=>{o+=c.length+Ic(d)})),o})(s.mapValue);default:throw yt(13486,{value:s})}}function im(s){return!!s&&"integerValue"in s}function Im(s){return!!s&&"arrayValue"in s}function fv(s){return!!s&&"nullValue"in s}function dv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Dc(s){return!!s&&"mapValue"in s}function qS(s){return(s?.mapValue?.fields||{})[Y0]?.stringValue===X0}function wo(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return fr(s.mapValue.fields,((i,a)=>t.mapValue.fields[i]=wo(a))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=wo(s.arrayValue.values[i]);return t}return{...s}}function HS(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===BS}class vn{constructor(t){this.value=t}static empty(){return new vn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Dc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=wo(i)}setAll(t){let i=Je.emptyPath(),a={},o=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,o),a={},o=[],i=p.popLast()}d?a[p.lastSegment()]=wo(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(t){const i=this.field(t.popLast());Dc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ui(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=i.mapValue.fields[t.get(a)];Dc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,a){fr(i,((o,c)=>t[o]=c));for(const o of a)delete t[o]}clone(){return new vn(wo(this.value))}}function $0(s){const t=[];return fr(s.fields,((i,a)=>{const o=new Je([i]);if(Dc(a)){const c=$0(a.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)})),new In(t)}class sn{constructor(t,i,a,o,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new sn(t,0,Et.min(),Et.min(),Et.min(),vn.empty(),0)}static newFoundDocument(t,i,a,o){return new sn(t,1,i,Et.min(),a,o,0)}static newNoDocument(t,i){return new sn(t,2,i,Et.min(),Et.min(),vn.empty(),0)}static newUnknownDocument(t,i){return new sn(t,3,i,Et.min(),Et.min(),vn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=vn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=vn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof sn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Gc{constructor(t,i){this.position=t,this.inclusive=i}}function mv(s,t,i){let a=0;for(let o=0;o<s.position.length;o++){const c=t[o],d=s.position[o];if(c.field.isKeyField()?a=mt.comparator(mt.fromName(d.referenceValue),i.key):a=tl(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function gv(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!Ui(s.position[i],t.position[i]))return!1;return!0}class Fc{constructor(t,i="asc"){this.field=t,this.dir=i}}function GS(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}class Z0{}class Ue extends Z0{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new QS(t,i,a):i==="array-contains"?new XS(t,a):i==="in"?new $S(t,a):i==="not-in"?new ZS(t,a):i==="array-contains-any"?new JS(t,a):new Ue(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new KS(t,a):new YS(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(tl(i,this.value)):i!==null&&or(this.value)===or(i)&&this.matchesComparison(tl(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ji extends Z0{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new ji(t,i)}matches(t){return J0(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function J0(s){return s.op==="and"}function W0(s){return FS(s)&&J0(s)}function FS(s){for(const t of s.filters)if(t instanceof ji)return!1;return!0}function sm(s){if(s instanceof Ue)return s.field.canonicalString()+s.op.toString()+el(s.value);if(W0(s))return s.filters.map((t=>sm(t))).join(",");{const t=s.filters.map((i=>sm(i))).join(",");return`${s.op}(${t})`}}function tE(s,t){return s instanceof Ue?(function(a,o){return o instanceof Ue&&a.op===o.op&&a.field.isEqual(o.field)&&Ui(a.value,o.value)})(s,t):s instanceof ji?(function(a,o){return o instanceof ji&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,p)=>c&&tE(d,o.filters[p])),!0):!1})(s,t):void yt(19439)}function eE(s){return s instanceof Ue?(function(i){return`${i.field.canonicalString()} ${i.op} ${el(i.value)}`})(s):s instanceof ji?(function(i){return i.op.toString()+" {"+i.getFilters().map(eE).join(" ,")+"}"})(s):"Filter"}class QS extends Ue{constructor(t,i,a){super(t,i,a),this.key=mt.fromName(a.referenceValue)}matches(t){const i=mt.comparator(t.key,this.key);return this.matchesComparison(i)}}class KS extends Ue{constructor(t,i){super(t,"in",i),this.keys=nE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class YS extends Ue{constructor(t,i){super(t,"not-in",i),this.keys=nE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function nE(s,t){return(t.arrayValue?.values||[]).map((i=>mt.fromName(i.referenceValue)))}class XS extends Ue{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Im(i)&&Vo(i.arrayValue,this.value)}}class $S extends Ue{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Vo(this.value.arrayValue,i)}}class ZS extends Ue{constructor(t,i){super(t,"not-in",i)}matches(t){if(Vo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Vo(this.value.arrayValue,i)}}class JS extends Ue{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Im(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Vo(this.value.arrayValue,a)))}}class WS{constructor(t,i=null,a=[],o=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function pv(s,t=null,i=[],a=[],o=null,c=null,d=null){return new WS(s,t,i,a,o,c,d)}function Dm(s){const t=At(s);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>sm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),lh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>el(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>el(a))).join(",")),t.Te=i}return t.Te}function Om(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!GS(s.orderBy[i],t.orderBy[i]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!tE(s.filters[i],t.filters[i]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!gv(s.startAt,t.startAt)&&gv(s.endAt,t.endAt)}function rm(s){return mt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}class uh{constructor(t,i=null,a=[],o=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function t2(s,t,i,a,o,c,d,p){return new uh(s,t,i,a,o,c,d,p)}function Mm(s){return new uh(s)}function yv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function e2(s){return s.collectionGroup!==null}function xo(s){const t=At(s);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new je(Je.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Fc(c,a))})),i.has(Je.keyField().canonicalString())||t.Ie.push(new Fc(Je.keyField(),a))}return t.Ie}function Ii(s){const t=At(s);return t.Ee||(t.Ee=n2(t,xo(s))),t.Ee}function n2(s,t){if(s.limitType==="F")return pv(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Fc(o.field,c)}));const i=s.endAt?new Gc(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Gc(s.startAt.position,s.startAt.inclusive):null;return pv(s.path,s.collectionGroup,t,s.filters,s.limit,i,a)}}function am(s,t,i){return new uh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,i,s.startAt,s.endAt)}function ch(s,t){return Om(Ii(s),Ii(t))&&s.limitType===t.limitType}function iE(s){return`${Dm(Ii(s))}|lt:${s.limitType}`}function qa(s){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>eE(o))).join(", ")}]`),lh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>el(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>el(o))).join(",")),`Target(${a})`})(Ii(s))}; limitType=${s.limitType})`}function hh(s,t){return t.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):mt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(s,t)&&(function(a,o){for(const c of xo(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,t)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(s,t)&&(function(a,o){return!(a.startAt&&!(function(d,p,_){const y=mv(d,p,_);return d.inclusive?y<=0:y<0})(a.startAt,xo(a),o)||a.endAt&&!(function(d,p,_){const y=mv(d,p,_);return d.inclusive?y>=0:y>0})(a.endAt,xo(a),o))})(s,t)}function i2(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function sE(s){return(t,i)=>{let a=!1;for(const o of xo(s)){const c=s2(o,t,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function s2(s,t,i){const a=s.field.isKeyField()?mt.comparator(t.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?tl(_,y):yt(42886)})(s.field,t,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return yt(19790,{direction:s.dir})}}class Jr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){fr(this.inner,((i,a)=>{for(const[o,c]of a)t(o,c)}))}isEmpty(){return q0(this.inner)}size(){return this.innerSize}}const r2=new fe(mt.comparator);function us(){return r2}const rE=new fe(mt.comparator);function To(...s){let t=rE;for(const i of s)t=t.insert(i.key,i);return t}function aE(s){let t=rE;return s.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Gr(){return Ro()}function lE(){return Ro()}function Ro(){return new Jr((s=>s.toString()),((s,t)=>s.isEqual(t)))}const a2=new fe(mt.comparator),l2=new je(mt.comparator);function Ut(...s){let t=l2;for(const i of s)t=t.add(i);return t}const o2=new je(kt);function u2(){return o2}function Vm(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bc(t)?"-0":t}}function oE(s){return{integerValue:""+s}}function c2(s,t){return US(t)?oE(t):Vm(s,t)}class fh{constructor(){this._=void 0}}function h2(s,t,i){return s instanceof Qc?(function(o,c){const d={fields:{[F0]:{stringValue:G0},[K0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Nm(c)&&(c=oh(c)),c&&(d.fields[Q0]=c),{mapValue:d}})(i,t):s instanceof nl?cE(s,t):s instanceof ko?hE(s,t):(function(o,c){const d=uE(o,c),p=_v(d)+_v(o.Ae);return im(d)&&im(o.Ae)?oE(p):Vm(o.serializer,p)})(s,t)}function f2(s,t,i){return s instanceof nl?cE(s,t):s instanceof ko?hE(s,t):i}function uE(s,t){return s instanceof Kc?(function(a){return im(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Qc extends fh{}class nl extends fh{constructor(t){super(),this.elements=t}}function cE(s,t){const i=fE(t);for(const a of s.elements)i.some((o=>Ui(o,a)))||i.push(a);return{arrayValue:{values:i}}}class ko extends fh{constructor(t){super(),this.elements=t}}function hE(s,t){let i=fE(t);for(const a of s.elements)i=i.filter((o=>!Ui(o,a)));return{arrayValue:{values:i}}}class Kc extends fh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function _v(s){return Ee(s.integerValue||s.doubleValue)}function fE(s){return Im(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}class d2{constructor(t,i){this.field=t,this.transform=i}}function m2(s,t){return s.field.isEqual(t.field)&&(function(a,o){return a instanceof nl&&o instanceof nl||a instanceof ko&&o instanceof ko?Wa(a.elements,o.elements,Ui):a instanceof Kc&&o instanceof Kc?Ui(a.Ae,o.Ae):a instanceof Qc&&o instanceof Qc})(s.transform,t.transform)}class g2{constructor(t,i){this.version=t,this.transformResults=i}}class Fn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Fn}static exists(t){return new Fn(void 0,t)}static updateTime(t){return new Fn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Oc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class dh{}function dE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new km(s.key,Fn.none()):new zo(s.key,s.data,Fn.none());{const i=s.data,a=vn.empty();let o=new je(Je.comparator);for(let c of t.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new dr(s.key,a,new In(o.toArray()),Fn.none())}}function p2(s,t,i){s instanceof zo?(function(o,c,d){const p=o.value.clone(),_=Ev(o.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(s,t,i):s instanceof dr?(function(o,c,d){if(!Oc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Ev(o.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(mE(o)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(s,t,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Co(s,t,i,a){return s instanceof zo?(function(c,d,p,_){if(!Oc(c.precondition,d))return p;const y=c.value.clone(),A=Tv(c.fieldTransforms,_,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(s,t,i,a):s instanceof dr?(function(c,d,p,_){if(!Oc(c.precondition,d))return p;const y=Tv(c.fieldTransforms,_,d),A=d.data;return A.setAll(mE(c)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(s,t,i,a):(function(c,d,p){return Oc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(s,t,i)}function y2(s,t){let i=null;for(const a of s.fieldTransforms){const o=t.data.field(a.field),c=uE(a.transform,o||null);c!=null&&(i===null&&(i=vn.empty()),i.set(a.field,c))}return i||null}function vv(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Wa(a,o,((c,d)=>m2(c,d)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class zo extends dh{constructor(t,i,a,o=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class dr extends dh{constructor(t,i,a,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function mE(s){const t=new Map;return s.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=s.data.field(i);t.set(i,a)}})),t}function Ev(s,t,i){const a=new Map;Yt(s.length===i.length,32656,{Re:i.length,Ve:s.length});for(let o=0;o<i.length;o++){const c=s[o],d=c.transform,p=t.data.field(c.field);a.set(c.field,f2(d,p,i[o]))}return a}function Tv(s,t,i){const a=new Map;for(const o of s){const c=o.transform,d=i.data.field(o.field);a.set(o.field,h2(c,d,t))}return a}class km extends dh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _2 extends dh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class v2{constructor(t,i,a,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&p2(c,t,a[o])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Co(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Co(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=lE();return this.mutations.forEach((o=>{const c=t.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(o.key)?null:p;const _=dE(d,p);_!==null&&a.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(Et.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&Wa(this.mutations,t.mutations,((i,a)=>vv(i,a)))&&Wa(this.baseMutations,t.baseMutations,((i,a)=>vv(i,a)))}}class Um{constructor(t,i,a,o){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(t,i,a){Yt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let o=(function(){return a2})();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Um(t,i,a,o)}}class E2{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class T2{constructor(t,i){this.count=t,this.unchangedNames=i}}var De,zt;function b2(s){switch(s){case J.OK:return yt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return yt(15467,{code:s})}}function gE(s){if(s===void 0)return os("GRPC error has no .code"),J.UNKNOWN;switch(s){case De.OK:return J.OK;case De.CANCELLED:return J.CANCELLED;case De.UNKNOWN:return J.UNKNOWN;case De.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case De.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case De.INTERNAL:return J.INTERNAL;case De.UNAVAILABLE:return J.UNAVAILABLE;case De.UNAUTHENTICATED:return J.UNAUTHENTICATED;case De.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case De.NOT_FOUND:return J.NOT_FOUND;case De.ALREADY_EXISTS:return J.ALREADY_EXISTS;case De.PERMISSION_DENIED:return J.PERMISSION_DENIED;case De.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case De.ABORTED:return J.ABORTED;case De.OUT_OF_RANGE:return J.OUT_OF_RANGE;case De.UNIMPLEMENTED:return J.UNIMPLEMENTED;case De.DATA_LOSS:return J.DATA_LOSS;default:return yt(39323,{code:s})}}(zt=De||(De={}))[zt.OK=0]="OK",zt[zt.CANCELLED=1]="CANCELLED",zt[zt.UNKNOWN=2]="UNKNOWN",zt[zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",zt[zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",zt[zt.NOT_FOUND=5]="NOT_FOUND",zt[zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",zt[zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",zt[zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",zt[zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",zt[zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",zt[zt.ABORTED=10]="ABORTED",zt[zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",zt[zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",zt[zt.INTERNAL=13]="INTERNAL",zt[zt.UNAVAILABLE=14]="UNAVAILABLE",zt[zt.DATA_LOSS=15]="DATA_LOSS";function A2(){return new TextEncoder}const S2=new er([4294967295,4294967295],0);function bv(s){const t=A2().encode(s),i=new D0;return i.update(t),new Uint8Array(i.digest())}function Av(s){const t=new DataView(s.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new er([i,a],0),new er([o,c],0)]}class jm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new bo(`Invalid padding: ${i}`);if(a<0)throw new bo(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new bo(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new bo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=er.fromNumber(this.ge)}ye(t,i,a){let o=t.add(i.multiply(er.fromNumber(a)));return o.compare(S2)===1&&(o=new er([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=bv(t),[a,o]=Av(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new jm(c,o,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=bv(t),[a,o]=Av(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class bo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class mh{constructor(t,i,a,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const o=new Map;return o.set(t,Bo.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new mh(Et.min(),o,new fe(kt),us(),Ut())}}class Bo{constructor(t,i,a,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Bo(a,i,Ut(),Ut(),Ut())}}class Mc{constructor(t,i,a,o){this.be=t,this.removedTargetIds=i,this.key=a,this.De=o}}class pE{constructor(t,i){this.targetId=t,this.Ce=i}}class yE{constructor(t,i,a=We.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=o}}class Sv{constructor(){this.ve=0,this.Fe=wv(),this.Me=We.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),i=Ut(),a=Ut();return this.Fe.forEach(((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:yt(38017,{changeType:c})}})),new Bo(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=wv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Yt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class w2{constructor(t){this.Ge=t,this.ze=new Map,this.je=us(),this.Je=xc(),this.He=xc(),this.Ye=new fe(kt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,a=t.Ce.count,o=this.ot(i);if(o){const c=o.target;if(rm(c))if(a===0){const d=new mt(c.path);this.et(i,d,sn.newNoDocument(d,Et.min()))}else Yt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,p;try{d=lr(a).toUint8Array()}catch(_){if(_ instanceof H0)return Ja("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new jm(d,o,c)}catch(_){return Ja(_ instanceof bo?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&rm(p.target)){const _=new mt(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,sn.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Ut();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const o=new mh(t,i,this.Ye,this.je,a);return this.je=us(),this.Je=xc(),this.He=xc(),this.Ye=new fe(kt),o}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Sv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new je(kt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new je(kt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||at("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Sv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function xc(){return new fe(mt.comparator)}function wv(){return new fe(mt.comparator)}const x2={asc:"ASCENDING",desc:"DESCENDING"},R2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},C2={and:"AND",or:"OR"};class N2{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function lm(s,t){return s.useProto3Json||lh(t)?t:{value:t}}function Yc(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function _E(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function I2(s,t){return Yc(s,t.toTimestamp())}function Di(s){return Yt(!!s,49232),Et.fromTimestamp((function(i){const a=ar(i);return new oe(a.seconds,a.nanos)})(s))}function Lm(s,t){return om(s,t).canonicalString()}function om(s,t){const i=(function(o){return new le(["projects",o.projectId,"databases",o.database])})(s).child("documents");return t===void 0?i:i.child(t)}function vE(s){const t=le.fromString(s);return Yt(SE(t),10190,{key:t.toString()}),t}function um(s,t){return Lm(s.databaseId,t.path)}function zd(s,t){const i=vE(t);if(i.get(1)!==s.databaseId.projectId)throw new ct(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new ct(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new mt(TE(i))}function EE(s,t){return Lm(s.databaseId,t)}function D2(s){const t=vE(s);return t.length===4?le.emptyPath():TE(t)}function cm(s){return new le(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function TE(s){return Yt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function xv(s,t,i){return{name:um(s,t),fields:i.value.mapValue.fields}}function O2(s,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:yt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=(function(y,A){return y.useProto3Json?(Yt(A===void 0||typeof A=="string",58123),We.fromBase64String(A||"")):(Yt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),We.fromUint8Array(A||new Uint8Array))})(s,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const A=y.code===void 0?J.UNKNOWN:gE(y.code);return new ct(A,y.message||"")})(d);i=new yE(a,o,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=zd(s,a.document.name),c=Di(a.document.updateTime),d=a.document.createTime?Di(a.document.createTime):Et.min(),p=new vn({mapValue:{fields:a.document.fields}}),_=sn.newFoundDocument(o,c,d,p),y=a.targetIds||[],A=a.removedTargetIds||[];i=new Mc(y,A,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=zd(s,a.document),c=a.readTime?Di(a.readTime):Et.min(),d=sn.newNoDocument(o,c),p=a.removedTargetIds||[];i=new Mc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=zd(s,a.document),c=a.removedTargetIds||[];i=new Mc([],c,o,null)}else{if(!("filter"in t))return yt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new T2(o,c),p=a.targetId;i=new pE(p,d)}}return i}function M2(s,t){let i;if(t instanceof zo)i={update:xv(s,t.key,t.value)};else if(t instanceof km)i={delete:um(s,t.key)};else if(t instanceof dr)i={update:xv(s,t.key,t.data),updateMask:q2(t.fieldMask)};else{if(!(t instanceof _2))return yt(16599,{Vt:t.type});i={verify:um(s,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof Qc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof nl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof ko)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Kc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw yt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:I2(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:yt(27497)})(s,t.precondition)),i}function V2(s,t){return s&&s.length>0?(Yt(t!==void 0,14353),s.map((i=>(function(o,c){let d=o.updateTime?Di(o.updateTime):Di(c);return d.isEqual(Et.min())&&(d=Di(c)),new g2(d,o.transformResults||[])})(i,t)))):[]}function k2(s,t){return{documents:[EE(s,t.path)]}}function U2(s,t){const i={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=EE(s,o);const c=(function(y){if(y.length!==0)return AE(ji.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((A=>(function(M){return{field:Ha(M.field),direction:P2(M.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=lm(s,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:o}}function j2(s){let t=D2(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Yt(a===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(S){const M=bE(S);return M instanceof ji&&W0(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((M=>(function(W){return new Fc(Ga(W.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let M;return M=typeof S=="object"?S.value:S,lh(M)?null:M})(i.limit));let _=null;i.startAt&&(_=(function(S){const M=!!S.before,H=S.values||[];return new Gc(H,M)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const M=!S.before,H=S.values||[];return new Gc(H,M)})(i.endAt)),t2(t,o,d,c,p,"F",_,y)}function L2(s,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function bE(s){return s.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ga(i.unaryFilter.field);return Ue.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Ga(i.unaryFilter.field);return Ue.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ga(i.unaryFilter.field);return Ue.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ga(i.unaryFilter.field);return Ue.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(s):s.fieldFilter!==void 0?(function(i){return Ue.create(Ga(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(i){return ji.create(i.compositeFilter.filters.map((a=>bE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(i.compositeFilter.op))})(s):yt(30097,{filter:s})}function P2(s){return x2[s]}function z2(s){return R2[s]}function B2(s){return C2[s]}function Ha(s){return{fieldPath:s.canonicalString()}}function Ga(s){return Je.fromServerFormat(s.fieldPath)}function AE(s){return s instanceof Ue?(function(i){if(i.op==="=="){if(dv(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NAN"}};if(fv(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(dv(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NOT_NAN"}};if(fv(i.value))return{unaryFilter:{field:Ha(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ha(i.field),op:z2(i.op),value:i.value}}})(s):s instanceof ji?(function(i){const a=i.getFilters().map((o=>AE(o)));return a.length===1?a[0]:{compositeFilter:{op:B2(i.op),filters:a}}})(s):yt(54877,{filter:s})}function q2(s){const t=[];return s.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function SE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}class Zs{constructor(t,i,a,o,c=Et.min(),d=Et.min(),p=We.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new Zs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Zs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class H2{constructor(t){this.yt=t}}function G2(s){const t=j2({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?am(t,t.limit,"L"):t}class F2{constructor(){this.Cn=new Q2}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(rr.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(rr.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class Q2{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i]||new je(le.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(t){return(this.index[t]||new je(le.comparator)).toArray()}}const Rv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wE=41943040;class _n{static withCacheSize(t){return new _n(t,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(wE,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);class il{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new il(0)}static cr(){return new il(-1)}}const Cv="LruGarbageCollector",K2=1048576;function Nv([s,t],[i,a]){const o=kt(s,i);return o===0?kt(t,a):o}class Y2{constructor(t){this.Ir=t,this.buffer=new je(Nv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Nv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class X2{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){at(Cv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ul(i)?at(Cv,"Ignoring IndexedDB error during garbage collection: ",i):await ol(i)}await this.Vr(3e5)}))}}class $2{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(ah.ce);const a=new Y2(i);return this.mr.forEachTarget(t,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Rv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Rv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,o,c,d,p,_,y;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(t,o)))).next((S=>(a=S,p=Date.now(),this.removeTargets(t,a,i)))).next((S=>(c=S,_=Date.now(),this.removeOrphanedDocuments(t,a)))).next((S=>(y=Date.now(),Ba()<=Vt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${S} documents in `+(y-_)+`ms
Total Duration: ${y-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S}))))}}function Z2(s,t){return new $2(s,t)}class J2{constructor(){this.changes=new Jr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,sn.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class W2{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class tw{constructor(t,i,a,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(a!==null&&Co(a.mutation,o,In.empty(),oe.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Ut()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Ut()){const o=Gr();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,a).next((c=>{let d=To();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Gr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Ut())))}populateOverlays(t,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(t,o).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,o){let c=us();const d=Ro(),p=(function(){return Ro()})();return i.forEach(((_,y)=>{const A=a.get(y.key);o.has(y.key)&&(A===void 0||A.mutation instanceof dr)?c=c.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),Co(A.mutation,y,A.mutation.getFieldMask(),oe.now())):d.set(y.key,In.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,A)=>d.set(y,A))),i.forEach(((y,A)=>p.set(y,new W2(A,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Ro();let o=new fe(((d,p)=>d-p)),c=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let A=a.get(_)||In.empty();A=p.applyToLocalView(y,A),a.set(_,A);const S=(o.get(p.batchId)||Ut()).add(_);o=o.insert(p.batchId,S)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,A=_.value,S=lE();A.forEach((M=>{if(!c.has(M)){const H=dE(i.get(M),a.get(M));H!==null&&S.set(M,H),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,S))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,o){return(function(d){return mt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):e2(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,o):this.getDocumentsMatchingCollectionQuery(t,i,a,o)}getNextDocuments(t,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,o-c.size):X.resolve(Gr());let p=Do,_=c;return d.next((y=>X.forEach(y,((A,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(A)?X.resolve():this.remoteDocumentCache.getEntry(t,A).next((M=>{_=_.insert(A,M)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,Ut()))).next((A=>({batchId:p,changes:aE(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new mt(i)).next((a=>{let o=To();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,o){const c=i.collectionGroup;let d=To();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(_=>{const y=(function(S,M){return new uh(M,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,o).next((A=>{A.forEach(((S,M)=>{d=d.insert(S,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,o)))).next((d=>{c.forEach(((_,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,sn.newInvalidDocument(A)))}));let p=To();return d.forEach(((_,y)=>{const A=c.get(_);A!==void 0&&Co(A.mutation,y,In.empty(),oe.now()),hh(i,y)&&(p=p.insert(_,y))})),p}))}}class ew{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Di(o.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:G2(o.bundledQuery),readTime:Di(o.readTime)}})(i)),X.resolve()}}class nw{constructor(){this.overlays=new fe(mt.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Gr();return X.forEach(i,(o=>this.getOverlay(t,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((o,c)=>{this.St(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const o=Gr(),c=i.length+1,d=new mt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&o.set(_.getKey(),_)}return X.resolve(o)}getOverlaysForCollectionGroup(t,i,a,o){let c=new fe(((y,A)=>y-A));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let A=c.get(y.largestBatchId);A===null&&(A=Gr(),c=c.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const p=Gr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,A)=>p.set(y,A))),!(p.size()>=o)););return X.resolve(p)}St(t,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new E2(i,a));let c=this.qr.get(i);c===void 0&&(c=Ut(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class iw{constructor(){this.sessionToken=We.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Pm{constructor(){this.Qr=new je(He.$r),this.Ur=new je(He.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new He(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new He(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new mt(new le([])),a=new He(i,t),o=new He(i,t+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new mt(new le([])),a=new He(i,t),o=new He(i,t+1);let c=Ut();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new He(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class He{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return mt.comparator(t.key,i.key)||kt(t.Yr,i.Yr)}static Kr(t,i){return kt(t.Yr,i.Yr)||mt.comparator(t.key,i.key)}}class sw{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new je(He.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new v2(c,i,a,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new He(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Cm:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new He(i,0),o=new He(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const p=this.Xr(d.Yr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new je(kt);return i.forEach((o=>{const c=new He(o,0),d=new He(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,o=a.length+1;let c=a;mt.isDocumentKey(c)||(c=c.child(""));const d=new He(new mt(c),0);let p=new je(kt);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(p=p.add(_.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){Yt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(o=>{const c=new He(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new He(i,0),o=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class rw{constructor(t){this.ri=t,this.docs=(function(){return new fe(mt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():sn.newInvalidDocument(i))}getEntries(t,i){let a=us();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():sn.newInvalidDocument(o))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,o){let c=us();const d=i.path,p=new mt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:A}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||OS(DS(A),a)<=0||(o.has(A.key)||hh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,o){yt(9500)}ii(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new aw(this)}getSize(t){return X.resolve(this.size)}}class aw extends J2{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class lw{constructor(t){this.persistence=t,this.si=new Jr((i=>Dm(i)),Om),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.oi=0,this._i=new Pm,this.targetCount=0,this.ai=il.ur()}forEachTarget(t,i){return this.si.forEach(((a,o)=>i(o))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new il(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let o=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)})),X.waitFor(c).next((()=>o))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}class xE{constructor(t,i){this.ui={},this.overlays={},this.ci=new ah(0),this.li=!1,this.li=!0,this.hi=new iw,this.referenceDelegate=t(this),this.Pi=new lw(this),this.indexManager=new F2,this.remoteDocumentCache=(function(o){return new rw(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new H2(i),this.Ii=new ew(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new nw,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new sw(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){at("MemoryPersistence","Starting transaction:",t);const o=new ow(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(t,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class ow extends VS{constructor(t){super(),this.currentSequenceNumber=t}}class zm{constructor(t){this.persistence=t,this.Ri=new Pm,this.Vi=null}static mi(t){return new zm(t)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const o=mt.fromPath(a);return this.gi(t,o).next((c=>{c||i.removeEntry(o,Et.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Xc{constructor(t,i){this.persistence=t,this.pi=new Jr((a=>jS(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=Z2(this,i)}static mi(t,i){return new Xc(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((o=>a+o))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((a,o)=>this.br(t,a,o).next((c=>c?X.resolve():i(o)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,Et.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Ic(t.data.value)),i}br(t,i,a){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return X.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Bm{constructor(t,i,a,o){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=o}static As(t,i){let a=Ut(),o=Ut();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Bm(t,i.fromCache,a,o)}}class uw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class cw{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Wb()?8:kS(rn())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,o){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new uw;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,o){return a.documentReadCount<this.fs?(Ba()<=Vt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",qa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Ba()<=Vt.DEBUG&&at("QueryEngine","Query:",qa(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(Ba()<=Vt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",qa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ii(i))):X.resolve())}ys(t,i){if(yv(i))return X.resolve(null);let a=Ii(i);return this.indexManager.getIndexType(t,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=am(i,null,"F"),a=Ii(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Ut(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((_=>{const y=this.Ds(i,p);return this.Cs(i,y,d,_.readTime)?this.ys(t,am(i,null,"F")):this.vs(t,y,i,_)}))))})))))}ws(t,i,a,o){return yv(i)||o.isEqual(Et.min())?X.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?X.resolve(null):(Ba()<=Vt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),qa(i)),this.vs(t,d,i,IS(o,Do)).next((p=>p)))}))}Ds(t,i){let a=new je(sE(t));return i.forEach(((o,c)=>{hh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,o){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(t,i,a){return Ba()<=Vt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",qa(i)),this.ps.getDocumentsMatchingQuery(t,i,rr.min(),a)}vs(t,i,a,o){return this.ps.getDocumentsMatchingQuery(t,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const qm="LocalStore",hw=3e8;class fw{constructor(t,i,a,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new fe(kt),this.xs=new Jr((c=>Dm(c)),Om),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new tw(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function dw(s,t,i,a){return new fw(s,t,i,a)}async function RE(s,t){const i=At(s);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let _=Ut();for(const y of o){d.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}for(const y of c){p.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function mw(s,t){const i=At(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,A){const S=y.batch,M=S.keys();let H=X.resolve();return M.forEach((W=>{H=H.next((()=>A.getEntry(_,W))).next(($=>{const Z=y.docVersions.get(W);Yt(Z!==null,48541),$.version.compareTo(Z)<0&&(S.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),A.addEntry($)))}))})),H.next((()=>p.mutationQueue.removeMutationBatch(_,S)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let _=Ut();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function CE(s){const t=At(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function gw(s,t){const i=At(s),a=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];t.targetChanges.forEach(((A,S)=>{const M=o.get(S);if(!M)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,S))));let H=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?H=H.withResumeToken(We.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):A.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(A.resumeToken,a)),o=o.insert(S,H),(function($,Z,dt){return $.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=hw?!0:dt.addedDocuments.size+dt.modifiedDocuments.size+dt.removedDocuments.size>0})(M,H,A)&&p.push(i.Pi.updateTargetData(c,H))}));let _=us(),y=Ut();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(pw(c,d,t.documentUpdates).next((A=>{_=A.ks,y=A.qs}))),!a.isEqual(Et.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(A)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=o,c)))}function pw(s,t,i){let a=Ut(),o=Ut();return i.forEach((c=>a=a.add(c))),t.getEntries(s,a).next((c=>{let d=us();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),_.isNoDocument()&&_.version.isEqual(Et.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):at(qm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:o}}))}function yw(s,t){const i=At(s);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Cm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function _w(s,t){const i=At(s);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,t).next((c=>c?(o=c,X.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new Zs(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function hm(s,t,i){const a=At(s),o=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!ul(d))throw d;at(qm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(o.target)}function Iv(s,t,i){const a=At(s);let o=Et.min(),c=Ut();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,A){const S=At(_),M=S.xs.get(A);return M!==void 0?X.resolve(S.Ms.get(M)):S.Pi.getTargetData(y,A)})(a,d,Ii(t)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?o:Et.min(),i?c:Ut()))).next((p=>(vw(a,i2(t),p),{documents:p,Qs:c})))))}function vw(s,t,i){let a=s.Os.get(t)||Et.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),s.Os.set(t,a)}class Dv{constructor(){this.activeTargetIds=u2()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Ew{constructor(){this.Mo=new Dv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Dv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Tw{Oo(t){}shutdown(){}}const Ov="ConnectivityMonitor";class Mv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(Ov,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){at(Ov,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Rc=null;function fm(){return Rc===null?Rc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Rc++,"0x"+Rc.toString(16)}const Bd="RestConnection",bw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Aw{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===qc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(t,i,a,o,c){const d=fm(),p=this.zo(t,i.toUriEncodedString());at(Bd,`Sending RPC '${t}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,c);const{host:y}=new URL(p),A=rl(y);return this.Jo(t,p,_,a,A).then((S=>(at(Bd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw Ja(Bd,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",a),S}))}Ho(t,i,a,o,c,d){return this.Go(t,i,a,o,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ll})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>t[c]=o)),a&&a.headers.forEach(((o,c)=>t[c]=o))}zo(t,i){const a=bw[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class Sw{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const en="WebChannelConnection";class ww extends Aw{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,o,c){const d=fm();return new Promise(((p,_)=>{const y=new O0;y.setWithCredentials(!0),y.listenOnce(M0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Nc.NO_ERROR:const S=y.getResponseJson();at(en,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case Nc.TIMEOUT:at(en,`RPC '${t}' ${d} timed out`),_(new ct(J.DEADLINE_EXCEEDED,"Request time out"));break;case Nc.HTTP_ERROR:const M=y.getStatus();if(at(en,`RPC '${t}' ${d} failed with status:`,M,"response text:",y.getResponseText()),M>0){let H=y.getResponseJson();Array.isArray(H)&&(H=H[0]);const W=H?.error;if(W&&W.status&&W.message){const $=(function(dt){const Tt=dt.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(Tt)>=0?Tt:J.UNKNOWN})(W.status);_(new ct($,W.message))}else _(new ct(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ct(J.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{at(en,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(o);at(en,`RPC '${t}' ${d} sending request:`,o),y.send(i,"POST",A,a,15)}))}T_(t,i,a){const o=fm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=U0(),p=k0(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const A=c.join("");at(en,`Creating RPC '${t}' stream ${o}: ${A}`,_);const S=d.createWebChannel(A,_);this.I_(S);let M=!1,H=!1;const W=new Sw({Yo:Z=>{H?at(en,`Not sending because RPC '${t}' stream ${o} is closed:`,Z):(M||(at(en,`Opening RPC '${t}' stream ${o} transport.`),S.open(),M=!0),at(en,`RPC '${t}' stream ${o} sending:`,Z),S.send(Z))},Zo:()=>S.close()}),$=(Z,dt,Tt)=>{Z.listen(dt,(pt=>{try{Tt(pt)}catch(Kt){setTimeout((()=>{throw Kt}),0)}}))};return $(S,Eo.EventType.OPEN,(()=>{H||(at(en,`RPC '${t}' stream ${o} transport opened.`),W.o_())})),$(S,Eo.EventType.CLOSE,(()=>{H||(H=!0,at(en,`RPC '${t}' stream ${o} transport closed`),W.a_(),this.E_(S))})),$(S,Eo.EventType.ERROR,(Z=>{H||(H=!0,Ja(en,`RPC '${t}' stream ${o} transport errored. Name:`,Z.name,"Message:",Z.message),W.a_(new ct(J.UNAVAILABLE,"The operation could not be completed")))})),$(S,Eo.EventType.MESSAGE,(Z=>{if(!H){const dt=Z.data[0];Yt(!!dt,16349);const Tt=dt,pt=Tt?.error||Tt[0]?.error;if(pt){at(en,`RPC '${t}' stream ${o} received error:`,pt);const Kt=pt.status;let ne=(function(w){const C=De[w];if(C!==void 0)return gE(C)})(Kt),Rt=pt.message;ne===void 0&&(ne=J.INTERNAL,Rt="Unknown error status: "+Kt+" with message "+pt.message),H=!0,W.a_(new ct(ne,Rt)),S.close()}else at(en,`RPC '${t}' stream ${o} received:`,dt),W.u_(dt)}})),$(p,V0.STAT_EVENT,(Z=>{Z.stat===tm.PROXY?at(en,`RPC '${t}' stream ${o} detected buffering proxy`):Z.stat===tm.NOPROXY&&at(en,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function qd(){return typeof document<"u"?document:null}function gh(s){return new N2(s,!0)}class NE{constructor(t,i,a=1e3,o=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&at("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Vv="PersistentStream";class IE{constructor(t,i,a,o,c,d,p,_){this.Mi=t,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new NE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(os(i.toString()),os("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{t((()=>{const o=new ct(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(Vv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(at(Vv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class xw extends IE{constructor(t,i,a,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=O2(this.serializer,t),a=(function(c){if(!("targetChange"in c))return Et.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?Di(d.readTime):Et.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=cm(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=rm(_)?{documents:k2(c,_)}:{query:U2(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=_E(c,d.resumeToken);const y=lm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(Et.min())>0){p.readTime=Yc(c,d.snapshotVersion.toTimestamp());const y=lm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const a=L2(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=cm(this.serializer),i.removeTarget=t,this.q_(i)}}class Rw extends IE{constructor(t,i,a,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=V2(t.writeResults,t.commitTime),a=Di(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=cm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>M2(this.serializer,a)))};this.q_(i)}}class Cw{}class Nw extends Cw{constructor(t,i,a,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ct(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,om(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct(J.UNKNOWN,c.toString())}))}Ho(t,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,om(i,a),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Iw{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(os(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Xr="RemoteStore";class Dw{constructor(t,i,a,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Wr(this)&&(at(Xr,"Restarting streams for network reachability change."),await(async function(_){const y=At(_);y.Ea.add(4),await qo(y),y.Ra.set("Unknown"),y.Ea.delete(4),await ph(y)})(this))}))})),this.Ra=new Iw(a,o)}}async function ph(s){if(Wr(s))for(const t of s.da)await t(!0)}async function qo(s){for(const t of s.da)await t(!1)}function DE(s,t){const i=At(s);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Qm(i)?Fm(i):cl(i).O_()&&Gm(i,t))}function Hm(s,t){const i=At(s),a=cl(i);i.Ia.delete(t),a.O_()&&OE(i,t),i.Ia.size===0&&(a.O_()?a.L_():Wr(i)&&i.Ra.set("Unknown"))}function Gm(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}cl(s).Y_(t)}function OE(s,t){s.Va.Ue(t),cl(s).Z_(t)}function Fm(s){s.Va=new w2({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),cl(s).start(),s.Ra.ua()}function Qm(s){return Wr(s)&&!cl(s).x_()&&s.Ia.size>0}function Wr(s){return At(s).Ea.size===0}function ME(s){s.Va=void 0}async function Ow(s){s.Ra.set("Online")}async function Mw(s){s.Ia.forEach(((t,i)=>{Gm(s,t)}))}async function Vw(s,t){ME(s),Qm(s)?(s.Ra.ha(t),Fm(s)):s.Ra.set("Unknown")}async function kw(s,t,i){if(s.Ra.set("Online"),t instanceof yE&&t.state===2&&t.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(s,t)}catch(a){at(Xr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await $c(s,a)}else if(t instanceof Mc?s.Va.Ze(t):t instanceof pE?s.Va.st(t):s.Va.tt(t),!i.isEqual(Et.min()))try{const a=await CE(s.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const A=c.Ia.get(y);A&&c.Ia.set(y,A.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const A=c.Ia.get(_);if(!A)return;c.Ia.set(_,A.withResumeToken(We.EMPTY_BYTE_STRING,A.snapshotVersion)),OE(c,_);const S=new Zs(A.target,_,y,A.sequenceNumber);Gm(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(s,i)}catch(a){at(Xr,"Failed to raise snapshot:",a),await $c(s,a)}}async function $c(s,t,i){if(!ul(t))throw t;s.Ea.add(1),await qo(s),s.Ra.set("Offline"),i||(i=()=>CE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{at(Xr,"Retrying IndexedDB access"),await i(),s.Ea.delete(1),await ph(s)}))}function VE(s,t){return t().catch((i=>$c(s,i,t)))}async function yh(s){const t=At(s),i=ur(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Cm;for(;Uw(t);)try{const o=await yw(t.localStore,a);if(o===null){t.Ta.length===0&&i.L_();break}a=o.batchId,jw(t,o)}catch(o){await $c(t,o)}kE(t)&&UE(t)}function Uw(s){return Wr(s)&&s.Ta.length<10}function jw(s,t){s.Ta.push(t);const i=ur(s);i.O_()&&i.X_&&i.ea(t.mutations)}function kE(s){return Wr(s)&&!ur(s).x_()&&s.Ta.length>0}function UE(s){ur(s).start()}async function Lw(s){ur(s).ra()}async function Pw(s){const t=ur(s);for(const i of s.Ta)t.ea(i.mutations)}async function zw(s,t,i){const a=s.Ta.shift(),o=Um.from(a,t,i);await VE(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await yh(s)}async function Bw(s,t){t&&ur(s).X_&&await(async function(a,o){if((function(d){return b2(d)&&d!==J.ABORTED})(o.code)){const c=a.Ta.shift();ur(a).B_(),await VE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await yh(a)}})(s,t),kE(s)&&UE(s)}async function kv(s,t){const i=At(s);i.asyncQueue.verifyOperationInProgress(),at(Xr,"RemoteStore received new credentials");const a=Wr(i);i.Ea.add(3),await qo(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await ph(i)}async function qw(s,t){const i=At(s);t?(i.Ea.delete(2),await ph(i)):t||(i.Ea.add(2),await qo(i),i.Ra.set("Unknown"))}function cl(s){return s.ma||(s.ma=(function(i,a,o){const c=At(i);return c.sa(),new xw(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:Ow.bind(null,s),t_:Mw.bind(null,s),r_:Vw.bind(null,s),H_:kw.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),Qm(s)?Fm(s):s.Ra.set("Unknown")):(await s.ma.stop(),ME(s))}))),s.ma}function ur(s){return s.fa||(s.fa=(function(i,a,o){const c=At(i);return c.sa(),new Rw(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:Lw.bind(null,s),r_:Bw.bind(null,s),ta:Pw.bind(null,s),na:zw.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await yh(s)):(await s.fa.stop(),s.Ta.length>0&&(at(Xr,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}class Km{constructor(t,i,a,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new Fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,o,c){const d=Date.now()+a,p=new Km(t,i,d,o,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ym(s,t){if(os("AsyncQueue",`${t}: ${s}`),ul(s))return new ct(J.UNAVAILABLE,`${t}: ${s}`);throw s}class Qa{static emptySet(t){return new Qa(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||mt.comparator(i.key,a.key):(i,a)=>mt.comparator(i.key,a.key),this.keyedMap=To(),this.sortedSet=new fe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Qa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Qa;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Uv{constructor(){this.ga=new fe(mt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):yt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class sl{constructor(t,i,a,o,c,d,p,_,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,o,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new sl(t,i,Qa.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ch(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class Hw{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class Gw{constructor(){this.queries=jv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=At(i),c=o.queries;o.queries=jv(),c.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(a)}))})(this,new ct(J.ABORTED,"Firestore shutting down"))}}function jv(){return new Jr((s=>iE(s)),ch)}async function Fw(s,t){const i=At(s);let a=3;const o=t.query;let c=i.queries.get(o);c?!c.ba()&&t.Da()&&(a=2):(c=new Hw,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=Ym(d,`Initialization of query '${qa(t.query)}' failed`);return void t.onError(p)}i.queries.set(o,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Xm(i)}async function Qw(s,t){const i=At(s),a=t.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=t.Da()?0:1:!c.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function Kw(s,t){const i=At(s);let a=!1;for(const o of t){const c=o.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(o)&&(a=!0);d.wa=o}}a&&Xm(i)}function Yw(s,t,i){const a=At(s),o=a.queries.get(t);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(t)}function Xm(s){s.Ca.forEach((t=>{t.next()}))}var dm,Lv;(Lv=dm||(dm={})).Ma="default",Lv.Cache="cache";class Xw{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new sl(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=sl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==dm.Cache}}class jE{constructor(t){this.key=t}}class LE{constructor(t){this.key=t}}class $w{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ut(),this.mutatedKeys=Ut(),this.eu=sE(t),this.tu=new Qa(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new Uv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((A,S)=>{const M=o.get(A),H=hh(this.query,S)?S:null,W=!!M&&this.mutatedKeys.has(M.key),$=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let Z=!1;M&&H?M.data.isEqual(H.data)?W!==$&&(a.track({type:3,doc:H}),Z=!0):this.su(M,H)||(a.track({type:2,doc:H}),Z=!0,(_&&this.eu(H,_)>0||y&&this.eu(H,y)<0)&&(p=!0)):!M&&H?(a.track({type:0,doc:H}),Z=!0):M&&!H&&(a.track({type:1,doc:M}),Z=!0,(_||y)&&(p=!0)),Z&&(H?(d=d.add(H),c=$?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,o){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,S)=>(function(H,W){const $=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:Z})}};return $(H)-$(W)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(a),o=o??!1;const p=i&&!o?this._u():[],_=this.Xa.size===0&&this.current&&!o?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new sl(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Uv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ut(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new LE(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new jE(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Ut();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return sl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const $m="SyncEngine";class Zw{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class Jw{constructor(t){this.key=t,this.hu=!1}}class Ww{constructor(t,i,a,o,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Jr((p=>iE(p)),ch),this.Iu=new Map,this.Eu=new Set,this.du=new fe(mt.comparator),this.Au=new Map,this.Ru=new Pm,this.Vu={},this.mu=new Map,this.fu=il.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function tx(s,t,i=!0){const a=GE(s);let o;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await PE(a,t,i,!0),o}async function ex(s,t){const i=GE(s);await PE(i,t,!0,!1)}async function PE(s,t,i,a){const o=await _w(s.localStore,Ii(t)),c=o.targetId,d=s.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await nx(s,t,c,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&DE(s.remoteStore,o),p}async function nx(s,t,i,a,o){s.pu=(S,M,H)=>(async function($,Z,dt,Tt){let pt=Z.view.ru(dt);pt.Cs&&(pt=await Iv($.localStore,Z.query,!1).then((({documents:N})=>Z.view.ru(N,pt))));const Kt=Tt&&Tt.targetChanges.get(Z.targetId),ne=Tt&&Tt.targetMismatches.get(Z.targetId)!=null,Rt=Z.view.applyChanges(pt,$.isPrimaryClient,Kt,ne);return zv($,Z.targetId,Rt.au),Rt.snapshot})(s,S,M,H);const c=await Iv(s.localStore,t,!0),d=new $w(t,c.Qs),p=d.ru(c.documents),_=Bo.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),y=d.applyChanges(p,s.isPrimaryClient,_);zv(s,i,y.au);const A=new Zw(t,i,d);return s.Tu.set(t,A),s.Iu.has(i)?s.Iu.get(i).push(t):s.Iu.set(i,[t]),y.snapshot}async function ix(s,t,i){const a=At(s),o=a.Tu.get(t),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!ch(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await hm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Hm(a.remoteStore,o.targetId),mm(a,o.targetId)})).catch(ol)):(mm(a,o.targetId),await hm(a.localStore,o.targetId,!0))}async function sx(s,t){const i=At(s),a=i.Tu.get(t),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Hm(i.remoteStore,a.targetId))}async function rx(s,t,i){const a=fx(s);try{const o=await(function(d,p){const _=At(d),y=oe.now(),A=p.reduce(((H,W)=>H.add(W.key)),Ut());let S,M;return _.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let W=us(),$=Ut();return _.Ns.getEntries(H,A).next((Z=>{W=Z,W.forEach(((dt,Tt)=>{Tt.isValidDocument()||($=$.add(dt))}))})).next((()=>_.localDocuments.getOverlayedDocuments(H,W))).next((Z=>{S=Z;const dt=[];for(const Tt of p){const pt=y2(Tt,S.get(Tt.key).overlayedDocument);pt!=null&&dt.push(new dr(Tt.key,pt,$0(pt.value.mapValue),Fn.exists(!0)))}return _.mutationQueue.addMutationBatch(H,y,dt,p)})).next((Z=>{M=Z;const dt=Z.applyToLocalDocumentSet(S,$);return _.documentOverlayCache.saveOverlays(H,Z.batchId,dt)}))})).then((()=>({batchId:M.batchId,changes:aE(S)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),(function(d,p,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new fe(kt)),y=y.insert(p,_),d.Vu[d.currentUser.toKey()]=y})(a,o.batchId,i),await Ho(a,o.changes),await yh(a.remoteStore)}catch(o){const c=Ym(o,"Failed to persist write");i.reject(c)}}async function zE(s,t){const i=At(s);try{const a=await gw(i.localStore,t);t.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Yt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Yt(d.hu,14607):o.removedDocuments.size>0&&(Yt(d.hu,42227),d.hu=!1))})),await Ho(i,a,t)}catch(a){await ol(a)}}function Pv(s,t,i){const a=At(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const _=At(d);_.onlineState=p;let y=!1;_.queries.forEach(((A,S)=>{for(const M of S.Sa)M.va(p)&&(y=!0)})),y&&Xm(_)})(a.eventManager,t),o.length&&a.Pu.H_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function ax(s,t,i){const a=At(s);a.sharedClientState.updateQueryState(t,"rejected",i);const o=a.Au.get(t),c=o&&o.key;if(c){let d=new fe(mt.comparator);d=d.insert(c,sn.newNoDocument(c,Et.min()));const p=Ut().add(c),_=new mh(Et.min(),new Map,new fe(kt),d,p);await zE(a,_),a.du=a.du.remove(c),a.Au.delete(t),Zm(a)}else await hm(a.localStore,t,!1).then((()=>mm(a,t,i))).catch(ol)}async function lx(s,t){const i=At(s),a=t.batch.batchId;try{const o=await mw(i.localStore,t);qE(i,a,null),BE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Ho(i,o)}catch(o){await ol(o)}}async function ox(s,t,i){const a=At(s);try{const o=await(function(d,p){const _=At(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return _.mutationQueue.lookupMutationBatch(y,p).next((S=>(Yt(S!==null,37113),A=S.keys(),_.mutationQueue.removeMutationBatch(y,S)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,A,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>_.localDocuments.getDocuments(y,A)))}))})(a.localStore,t);qE(a,t,i),BE(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Ho(a,o)}catch(o){await ol(o)}}function BE(s,t){(s.mu.get(t)||[]).forEach((i=>{i.resolve()})),s.mu.delete(t)}function qE(s,t,i){const a=At(s);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),a.Vu[a.currentUser.toKey()]=o}}function mm(s,t,i=null){s.sharedClientState.removeLocalQueryTarget(t);for(const a of s.Iu.get(t))s.Tu.delete(a),i&&s.Pu.yu(a,i);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((a=>{s.Ru.containsKey(a)||HE(s,a)}))}function HE(s,t){s.Eu.delete(t.path.canonicalString());const i=s.du.get(t);i!==null&&(Hm(s.remoteStore,i),s.du=s.du.remove(t),s.Au.delete(i),Zm(s))}function zv(s,t,i){for(const a of i)a instanceof jE?(s.Ru.addReference(a.key,t),ux(s,a)):a instanceof LE?(at($m,"Document no longer in limbo: "+a.key),s.Ru.removeReference(a.key,t),s.Ru.containsKey(a.key)||HE(s,a.key)):yt(19791,{wu:a})}function ux(s,t){const i=t.key,a=i.path.canonicalString();s.du.get(i)||s.Eu.has(a)||(at($m,"New document in limbo: "+i),s.Eu.add(a),Zm(s))}function Zm(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const i=new mt(le.fromString(t)),a=s.fu.next();s.Au.set(a,new Jw(i)),s.du=s.du.insert(i,a),DE(s.remoteStore,new Zs(Ii(Mm(i.path)),a,"TargetPurposeLimboResolution",ah.ce))}}async function Ho(s,t,i){const a=At(s),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,_)=>{d.push(a.pu(_,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const A=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(y){o.push(y);const A=Bm.As(_.targetId,y);c.push(A)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(_,y){const A=At(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>X.forEach(y,(M=>X.forEach(M.Es,(H=>A.persistence.referenceDelegate.addReference(S,M.targetId,H))).next((()=>X.forEach(M.ds,(H=>A.persistence.referenceDelegate.removeReference(S,M.targetId,H)))))))))}catch(S){if(!ul(S))throw S;at(qm,"Failed to update sequence numbers: "+S)}for(const S of y){const M=S.targetId;if(!S.fromCache){const H=A.Ms.get(M),W=H.snapshotVersion,$=H.withLastLimboFreeSnapshotVersion(W);A.Ms=A.Ms.insert(M,$)}}})(a.localStore,c))}async function cx(s,t){const i=At(s);if(!i.currentUser.isEqual(t)){at($m,"User change. New user:",t.toKey());const a=await RE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new ct(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Ho(i,a.Ls)}}function hx(s,t){const i=At(s),a=i.Au.get(t);if(a&&a.hu)return Ut().add(a.key);{let o=Ut();const c=i.Iu.get(t);if(!c)return o;for(const d of c){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function GE(s){const t=At(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=zE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=hx.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=ax.bind(null,t),t.Pu.H_=Kw.bind(null,t.eventManager),t.Pu.yu=Yw.bind(null,t.eventManager),t}function fx(s){const t=At(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=lx.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ox.bind(null,t),t}class Zc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=gh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return dw(this.persistence,new cw,t.initialUser,this.serializer)}Cu(t){return new xE(zm.mi,this.serializer)}Du(t){return new Ew}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zc.provider={build:()=>new Zc};class dx extends Zc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Yt(this.persistence.referenceDelegate instanceof Xc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new X2(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new xE((a=>Xc.mi(a,i)),this.serializer)}}class gm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Pv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=cx.bind(null,this.syncEngine),await qw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new Gw})()}createDatastore(t){const i=gh(t.databaseInfo.databaseId),a=(function(c){return new ww(c)})(t.databaseInfo);return(function(c,d,p,_){return new Nw(c,d,p,_)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,o,c,d,p){return new Dw(a,o,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Pv(this.syncEngine,i,0)),(function(){return Mv.v()?new Mv:new Tw})())}createSyncEngine(t,i){return(function(o,c,d,p,_,y,A){const S=new Ww(o,c,d,p,_,y);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=At(i);at(Xr,"RemoteStore shutting down."),a.Ea.add(5),await qo(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}gm.provider={build:()=>new gm};class mx{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):os("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const cr="FirestoreClient";class gx{constructor(t,i,a,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=nn.UNAUTHENTICATED,this.clientId=xm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{at(cr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(at(cr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Ym(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Hd(s,t){s.asyncQueue.verifyOperationInProgress(),at(cr,"Initializing OfflineComponentProvider");const i=s.configuration;await t.initialize(i);let a=i.initialUser;s.setCredentialChangeListener((async o=>{a.isEqual(o)||(await RE(t.localStore,o),a=o)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function Bv(s,t){s.asyncQueue.verifyOperationInProgress();const i=await px(s);at(cr,"Initializing OnlineComponentProvider"),await t.initialize(i,s.configuration),s.setCredentialChangeListener((a=>kv(t.remoteStore,a))),s.setAppCheckTokenChangeListener(((a,o)=>kv(t.remoteStore,o))),s._onlineComponents=t}async function px(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){at(cr,"Using user provided OfflineComponentProvider");try{await Hd(s,s._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Ja("Error using user provided cache. Falling back to memory cache: "+i),await Hd(s,new Zc)}}else at(cr,"Using default OfflineComponentProvider"),await Hd(s,new dx(void 0));return s._offlineComponents}async function FE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(at(cr,"Using user provided OnlineComponentProvider"),await Bv(s,s._uninitializedComponentsProvider._online)):(at(cr,"Using default OnlineComponentProvider"),await Bv(s,new gm))),s._onlineComponents}function yx(s){return FE(s).then((t=>t.syncEngine))}async function qv(s){const t=await FE(s),i=t.eventManager;return i.onListen=tx.bind(null,t.syncEngine),i.onUnlisten=ix.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=ex.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=sx.bind(null,t.syncEngine),i}function QE(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}const Hv=new Map;const KE="firestore.googleapis.com",Gv=!0;class Fv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=KE,this.ssl=Gv}else this.host=t.host,this.ssl=t.ssl??Gv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=wE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<K2)throw new ct(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}NS("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QE(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class _h{constructor(t,i,a,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new vS;switch(a.type){case"firstParty":return new AS(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ct(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Hv.get(i);a&&(at("ComponentProvider","Removing Datastore"),Hv.delete(i),a.terminate())})(this),Promise.resolve()}}function _x(s,t,i,a={}){s=Ni(s,_h);const o=rl(t),c=s._getSettings(),d={...c,emulatorOptions:s._getEmulatorOptions()},p=`${t}:${i}`;o&&(A0(`https://${p}`),S0("Firestore",!0)),c.host!==KE&&c.host!==p&&Ja("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:o,emulatorOptions:a};if(!sr(_,d)&&(s._setSettings(_),a.mockUserToken)){let y,A;if(typeof a.mockUserToken=="string")y=a.mockUserToken,A=nn.MOCK_USER;else{y=Gb(a.mockUserToken,s._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new ct(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new nn(S)}s._authCredentials=new ES(new L0(y,A))}}class vh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new vh(this.firestore,t,this._query)}}class Me{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Me(this.firestore,t,this._key)}toJSON(){return{type:Me._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Po(i,Me._jsonSchema))return new Me(t,a||null,new mt(le.fromString(i.referencePath)))}}Me._jsonSchemaVersion="firestore/documentReference/1.0",Me._jsonSchema={type:Oe("string",Me._jsonSchemaVersion),referencePath:Oe("string")};class nr extends vh{constructor(t,i,a){super(t,i,Mm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Me(this.firestore,null,new mt(t))}withConverter(t){return new nr(this.firestore,t,this._path)}}function _o(s,t,...i){if(s=cn(s),P0("collection","path",t),s instanceof _h){const a=le.fromString(t,...i);return sv(a),new nr(s,null,a)}{if(!(s instanceof Me||s instanceof nr))throw new ct(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(le.fromString(t,...i));return sv(a),new nr(s.firestore,null,a)}}function Ri(s,t,...i){if(s=cn(s),arguments.length===1&&(t=xm.newId()),P0("doc","path",t),s instanceof _h){const a=le.fromString(t,...i);return iv(a),new Me(s,null,new mt(a))}{if(!(s instanceof Me||s instanceof nr))throw new ct(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(le.fromString(t,...i));return iv(a),new Me(s.firestore,s instanceof nr?s.converter:null,new mt(a))}}const Qv="AsyncQueue";class Kv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new NE(this,"async_queue_retry"),this._c=()=>{const a=qd();a&&at(Qv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Fr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ul(t))throw t;at(Qv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,os("INTERNAL UNHANDLED ERROR: ",Yv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=Km.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&yt(47125,{Pc:Yv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Yv(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}function Xv(s){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}class $r extends _h{constructor(t,i,a,o){super(t,i,a,o),this.type="firestore",this._queue=new Kv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Kv(t),this._firestoreClient=void 0,await t}}}function vx(s,t){const i=typeof s=="object"?s:C0(),a=typeof s=="string"?s:qc,o=Sm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=qb("firestore");c&&_x(o,...c)}return o}function YE(s){if(s._terminated)throw new ct(J.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Ex(s),s._firestoreClient}function Ex(s){const t=s._freezeSettings(),i=(function(o,c,d,p){return new zS(o,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,QE(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(s._databaseId,s._app?.options.appId||"",s._persistenceKey,t);s._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new gx(s._authCredentials,s._appCheckCredentials,s._queue,i,s._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(s._componentsProvider))}class Gn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Gn(We.fromBase64String(t))}catch(i){throw new ct(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Gn(We.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Gn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Po(t,Gn._jsonSchema))return Gn.fromBase64String(t.bytes)}}Gn._jsonSchemaVersion="firestore/bytes/1.0",Gn._jsonSchema={type:Oe("string",Gn._jsonSchemaVersion),bytes:Oe("string")};class Eh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ct(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Th{constructor(t){this._methodName=t}}class Oi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ct(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ct(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return kt(this._lat,t._lat)||kt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Oi._jsonSchemaVersion}}static fromJSON(t){if(Po(t,Oi._jsonSchema))return new Oi(t.latitude,t.longitude)}}Oi._jsonSchemaVersion="firestore/geoPoint/1.0",Oi._jsonSchema={type:Oe("string",Oi._jsonSchemaVersion),latitude:Oe("number"),longitude:Oe("number")};class Mi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Mi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Po(t,Mi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Mi(t.vectorValues);throw new ct(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Mi._jsonSchemaVersion="firestore/vectorValue/1.0",Mi._jsonSchema={type:Oe("string",Mi._jsonSchemaVersion),vectorValues:Oe("object")};const Tx=/^__.*__$/;class bx{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new dr(t,this.data,this.fieldMask,i,this.fieldTransforms):new zo(t,this.data,i,this.fieldTransforms)}}class XE{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new dr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function $E(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:s})}}class bh{constructor(t,i,a,o,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new bh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Jc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if($E(this.Ac)&&Tx.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class Ax{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||gh(t)}Cc(t,i,a,o=!1){return new bh({Ac:t,methodName:i,Dc:a,path:Je.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jm(s){const t=s._freezeSettings(),i=gh(s._databaseId);return new Ax(s._databaseId,!!t.ignoreUndefinedProperties,i)}function ZE(s,t,i,a,o,c={}){const d=s.Cc(c.merge||c.mergeFields?2:0,t,i,o);tg("Data must be an object, but it was:",d,a);const p=JE(a,d);let _,y;if(c.merge)_=new In(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const M=pm(t,S,i);if(!d.contains(M))throw new ct(J.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);t1(A,M)||A.push(M)}_=new In(A),y=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,y=d.fieldTransforms;return new bx(new vn(p),_,y)}class Ah extends Th{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ah}}function Sx(s,t,i){return new bh({Ac:3,Dc:t.settings.Dc,methodName:s._methodName,fc:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Wm extends Th{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=Sx(this,t,!0),a=this.vc.map((c=>Go(c,i))),o=new nl(a);return new d2(t.path,o)}isEqual(t){return t instanceof Wm&&sr(this.vc,t.vc)}}function wx(s,t,i,a){const o=s.Cc(1,t,i);tg("Data must be an object, but it was:",o,a);const c=[],d=vn.empty();fr(a,((_,y)=>{const A=eg(t,_,i);y=cn(y);const S=o.yc(A);if(y instanceof Ah)c.push(A);else{const M=Go(y,S);M!=null&&(c.push(A),d.set(A,M))}}));const p=new In(c);return new XE(d,p,o.fieldTransforms)}function xx(s,t,i,a,o,c){const d=s.Cc(1,t,i),p=[pm(t,a,i)],_=[o];if(c.length%2!=0)throw new ct(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)p.push(pm(t,c[M])),_.push(c[M+1]);const y=[],A=vn.empty();for(let M=p.length-1;M>=0;--M)if(!t1(y,p[M])){const H=p[M];let W=_[M];W=cn(W);const $=d.yc(H);if(W instanceof Ah)y.push(H);else{const Z=Go(W,$);Z!=null&&(y.push(H),A.set(H,Z))}}const S=new In(y);return new XE(A,S,d.fieldTransforms)}function Go(s,t){if(WE(s=cn(s)))return tg("Unsupported field value:",t,s),JE(s,t);if(s instanceof Th)return(function(a,o){if(!$E(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const p of a){let _=Go(p,o.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(s,t)}return(function(a,o){if((a=cn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return c2(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=oe.fromDate(a);return{timestampValue:Yc(o.serializer,c)}}if(a instanceof oe){const c=new oe(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Yc(o.serializer,c)}}if(a instanceof Oi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Gn)return{bytesValue:_E(o.serializer,a._byteString)};if(a instanceof Me){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Lm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Mi)return(function(d,p){return{mapValue:{fields:{[Y0]:{stringValue:X0},[Hc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Vm(p.serializer,y)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Rm(a)}`)})(s,t)}function JE(s,t){const i={};return q0(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):fr(s,((a,o)=>{const c=Go(o,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function WE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof oe||s instanceof Oi||s instanceof Gn||s instanceof Me||s instanceof Th||s instanceof Mi)}function tg(s,t,i){if(!WE(i)||!z0(i)){const a=Rm(i);throw a==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+a)}}function pm(s,t,i){if((t=cn(t))instanceof Eh)return t._internalPath;if(typeof t=="string")return eg(s,t);throw Jc("Field path arguments must be of type string or ",s,!1,void 0,i)}const Rx=new RegExp("[~\\*/\\[\\]]");function eg(s,t,i){if(t.search(Rx)>=0)throw Jc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new Eh(...t.split("."))._internalPath}catch{throw Jc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function Jc(s,t,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${o}`),_+=")"),new ct(J.INVALID_ARGUMENT,p+s+_)}function t1(s,t){return s.some((i=>i.isEqual(t)))}class e1{constructor(t,i,a,o,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Me(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Cx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(n1("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Cx extends e1{data(){return super.data()}}function n1(s,t){return typeof t=="string"?eg(s,t):t instanceof Eh?t._internalPath:t._delegate._internalPath}function Nx(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new ct(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ix{convertValue(t,i="none"){switch(or(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ee(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(lr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return fr(t,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Hc].arrayValue?.values?.map((a=>Ee(a.doubleValue)));return new Mi(i)}convertGeoPoint(t){return new Oi(Ee(t.latitude),Ee(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=oh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Oo(t));default:return null}}convertTimestamp(t){const i=ar(t);return new oe(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=le.fromString(t);Yt(SE(a),9688,{name:t});const o=new Mo(a.get(1),a.get(3)),c=new mt(a.popFirst(5));return o.isEqual(i)||os(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function i1(s,t,i){let a;return a=s?s.toFirestore(t):t,a}class Ao{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Qr extends e1{constructor(t,i,a,o,c,d){super(t,i,a,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Vc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(n1("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Qr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Qr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qr._jsonSchema={type:Oe("string",Qr._jsonSchemaVersion),bundleSource:Oe("string","DocumentSnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class Vc extends Qr{data(t={}){return super.data(t)}}class Ka{constructor(t,i,a,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new Ao(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Vc(this._firestore,this._userDataWriter,a.key,a,new Ao(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const _=new Vc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ao(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new Vc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Ao(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,A=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:Dx(p.type),doc:_,oldIndex:y,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ka._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=xm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Dx(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:s})}}Ka._jsonSchemaVersion="firestore/querySnapshot/1.0",Ka._jsonSchema={type:Oe("string",Ka._jsonSchemaVersion),bundleSource:Oe("string","QuerySnapshot"),bundleName:Oe("string"),bundle:Oe("string")};class s1 extends Ix{constructor(t){super(),this.firestore=t}convertBytes(t){return new Gn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Me(this.firestore,null,i)}}function $v(s,t,i){s=Ni(s,Me);const a=Ni(s.firestore,$r),o=i1(s.converter,t);return Sh(a,[ZE(Jm(a),"setDoc",s._key,o,s.converter!==null,i).toMutation(s._key,Fn.none())])}function vo(s,t,i,...a){s=Ni(s,Me);const o=Ni(s.firestore,$r),c=Jm(o);let d;return d=typeof(t=cn(t))=="string"||t instanceof Eh?xx(c,"updateDoc",s._key,t,i,a):wx(c,"updateDoc",s._key,t),Sh(o,[d.toMutation(s._key,Fn.exists(!0))])}function Gd(s){return Sh(Ni(s.firestore,$r),[new km(s._key,Fn.none())])}function Zv(s,t){const i=Ni(s.firestore,$r),a=Ri(s),o=i1(s.converter,t);return Sh(i,[ZE(Jm(s.firestore),"addDoc",a._key,o,s.converter!==null,{}).toMutation(a._key,Fn.exists(!1))]).then((()=>a))}function Fd(s,...t){s=cn(s);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||Xv(t[a])||(i=t[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Xv(t[a])){const _=t[a];t[a]=_.next?.bind(_),t[a+1]=_.error?.bind(_),t[a+2]=_.complete?.bind(_)}let c,d,p;if(s instanceof Me)d=Ni(s.firestore,$r),p=Mm(s._key.path),c={next:_=>{t[a]&&t[a](Ox(d,s,_))},error:t[a+1],complete:t[a+2]};else{const _=Ni(s,vh);d=Ni(_.firestore,$r),p=_._query;const y=new s1(d);c={next:A=>{t[a]&&t[a](new Ka(d,y,_,A))},error:t[a+1],complete:t[a+2]},Nx(s._query)}return(function(y,A,S,M){const H=new mx(M),W=new Xw(A,H,S);return y.asyncQueue.enqueueAndForget((async()=>Fw(await qv(y),W))),()=>{H.Nu(),y.asyncQueue.enqueueAndForget((async()=>Qw(await qv(y),W)))}})(YE(d),p,o,c)}function Sh(s,t){return(function(a,o){const c=new Fr;return a.asyncQueue.enqueueAndForget((async()=>rx(await yx(a),o,c))),c.promise})(YE(s),t)}function Ox(s,t,i){const a=i.docs.get(t._key),o=new s1(s);return new Qr(s,o,t._key,a,new Ao(i.hasPendingWrites,i.fromCache),t.converter)}function Mx(...s){return new Wm("arrayUnion",s)}(function(t,i=!0){(function(o){ll=o})(al),Za(new Kr("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new $r(new TS(a.getProvider("auth-internal")),new SS(d,a.getProvider("app-check-internal")),(function(y,A){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ct(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mo(y.options.projectId,A)})(d,o),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),tr(W_,tv,t),tr(W_,tv,"esm2020")})();function r1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Vx=r1,a1=new jo("auth","Firebase",r1());const Wc=new bm("@firebase/auth");function kx(s,...t){Wc.logLevel<=Vt.WARN&&Wc.warn(`Auth (${al}): ${s}`,...t)}function kc(s,...t){Wc.logLevel<=Vt.ERROR&&Wc.error(`Auth (${al}): ${s}`,...t)}function cs(s,...t){throw ng(s,...t)}function Vi(s,...t){return ng(s,...t)}function l1(s,t,i){const a={...Vx(),[t]:i};return new jo("auth","Firebase",a).create(t,{appName:s.name})}function ir(s){return l1(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ng(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return a1.create(s,...t)}function vt(s,t,...i){if(!s)throw ng(t,...i)}function ss(s){const t="INTERNAL ASSERTION FAILED: "+s;throw kc(t),new Error(t)}function hs(s,t){s||ss(t)}function ym(){return typeof self<"u"&&self.location?.href||""}function Ux(){return Jv()==="http:"||Jv()==="https:"}function Jv(){return typeof self<"u"&&self.location?.protocol||null}function jx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ux()||$b()||"connection"in navigator)?navigator.onLine:!0}function Lx(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}class Fo{constructor(t,i){this.shortDelay=t,this.longDelay=i,hs(i>t,"Short delay should be less than long delay!"),this.isMobile=Kb()||Zb()}get(){return jx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ig(s,t){hs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class o1{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Px={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const zx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Bx=new Fo(3e4,6e4);function wh(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function hl(s,t,i,a,o={}){return u1(s,o,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Lo({key:s.config.apiKey,...d}).slice(1),_=await s._getAdditionalHeaders();_["Content-Type"]="application/json",s.languageCode&&(_["X-Firebase-Locale"]=s.languageCode);const y={method:t,headers:_,...c};return Xb()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&rl(s.emulatorConfig.host)&&(y.credentials="include"),o1.fetch()(await h1(s,s.config.apiHost,i,p),y)})}async function u1(s,t,i){s._canInitEmulator=!1;const a={...Px,...t};try{const o=new qx(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Cc(s,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cc(s,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Cc(s,"email-already-in-use",d);if(_==="USER_DISABLED")throw Cc(s,"user-disabled",d);const A=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw l1(s,A,y);cs(s,A)}}catch(o){if(o instanceof fs)throw o;cs(s,"network-request-failed",{message:String(o)})}}async function c1(s,t,i,a,o={}){const c=await hl(s,t,i,a,o);return"mfaPendingCredential"in c&&cs(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function h1(s,t,i,a){const o=`${t}${i}?${a}`,c=s,d=c.config.emulator?ig(s.config,o):`${s.config.apiScheme}://${o}`;return zx.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class qx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Vi(this.auth,"network-request-failed")),Bx.get())})}}function Cc(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Vi(s,t,a);return o.customData._tokenResponse=i,o}async function Hx(s,t){return hl(s,"POST","/v1/accounts:delete",t)}async function th(s,t){return hl(s,"POST","/v1/accounts:lookup",t)}function No(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Gx(s,t=!1){const i=cn(s),a=await i.getIdToken(t),o=sg(a);vt(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:No(Qd(o.auth_time)),issuedAtTime:No(Qd(o.iat)),expirationTime:No(Qd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Qd(s){return Number(s)*1e3}function sg(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return kc("JWT malformed, contained fewer than 3 sections"),null;try{const o=v0(i);return o?JSON.parse(o):(kc("Failed to decode base64 JWT payload"),null)}catch(o){return kc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Wv(s){const t=sg(s);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Uo(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof fs&&Fx(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function Fx({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}class Qx{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class _m{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=No(this.lastLoginAt),this.creationTime=No(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function eh(s){const t=s.auth,i=await s.getIdToken(),a=await Uo(s,th(t,{idToken:i}));vt(a?.users.length,t,"internal-error");const o=a.users[0];s._notifyReloadListener(o);const c=o.providerUserInfo?.length?f1(o.providerUserInfo):[],d=Yx(s.providerData,c),p=s.isAnonymous,_=!(s.email&&o.passwordHash)&&!d?.length,y=p?_:!1,A={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new _m(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(s,A)}async function Kx(s){const t=cn(s);await eh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Yx(s,t){return[...s.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function f1(s){return s.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function Xx(s,t){const i=await u1(s,{},async()=>{const a=Lo({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,d=await h1(s,o,"/v1/token",`key=${c}`),p=await s._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:a};return s.emulatorConfig&&rl(s.emulatorConfig.host)&&(_.credentials="include"),o1.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function $x(s,t){return hl(s,"POST","/v2/accounts:revokeToken",wh(s,t))}class Ya{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Wv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const i=Wv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await Xx(t,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new Ya;return a&&(vt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),o&&(vt(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),c&&(vt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ya,this.toJSON())}_performRefresh(){return ss("not implemented")}}function Qs(s,t){vt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class ri{constructor({uid:t,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new Qx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new _m(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await Uo(this,this.stsTokenManager.getToken(this.auth,t));return vt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return Gx(this,t)}reload(){return Kx(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ri({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await eh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(si(this.auth.app))return Promise.reject(ir(this.auth));const t=await this.getIdToken();return await Uo(this,Hx(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:M,isAnonymous:H,providerData:W,stsTokenManager:$}=i;vt(S&&$,t,"internal-error");const Z=Ya.fromJSON(this.name,$);vt(typeof S=="string",t,"internal-error"),Qs(a,t.name),Qs(o,t.name),vt(typeof M=="boolean",t,"internal-error"),vt(typeof H=="boolean",t,"internal-error"),Qs(c,t.name),Qs(d,t.name),Qs(p,t.name),Qs(_,t.name),Qs(y,t.name),Qs(A,t.name);const dt=new ri({uid:S,auth:t,email:o,emailVerified:M,displayName:a,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:Z,createdAt:y,lastLoginAt:A});return W&&Array.isArray(W)&&(dt.providerData=W.map(Tt=>({...Tt}))),_&&(dt._redirectEventId=_),dt}static async _fromIdTokenResponse(t,i,a=!1){const o=new Ya;o.updateFromServerResponse(i);const c=new ri({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await eh(c),c}static async _fromGetAccountInfoResponse(t,i,a){const o=i.users[0];vt(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?f1(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,p=new Ya;p.updateFromIdToken(a);const _=new ri({uid:o.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new _m(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const t0=new Map;function rs(s){hs(s instanceof Function,"Expected a class definition");let t=t0.get(s);return t?(hs(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,t0.set(s,t),t)}class d1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}d1.type="NONE";const e0=d1;function Uc(s,t,i){return`firebase:${s}:${t}:${i}`}class Xa{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Uc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Uc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await th(this.auth,{idToken:t}).catch(()=>{});return i?ri._fromGetAccountInfoResponse(this.auth,i,t):null}return ri._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Xa(rs(e0),t,a);const o=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||rs(e0);const d=Uc(a,t.config.apiKey,t.name);let p=null;for(const y of i)try{const A=await y._get(d);if(A){let S;if(typeof A=="string"){const M=await th(t,{idToken:A}).catch(()=>{});if(!M)break;S=await ri._fromGetAccountInfoResponse(t,M,A)}else S=ri._fromJSON(t,A);y!==c&&(p=S),c=y;break}}catch{}const _=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Xa(c,t,a):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Xa(c,t,a))}}function n0(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(y1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(m1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(v1(t))return"Blackberry";if(E1(t))return"Webos";if(g1(t))return"Safari";if((t.includes("chrome/")||p1(t))&&!t.includes("edge/"))return"Chrome";if(_1(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if(a?.length===2)return a[1]}return"Other"}function m1(s=rn()){return/firefox\//i.test(s)}function g1(s=rn()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function p1(s=rn()){return/crios\//i.test(s)}function y1(s=rn()){return/iemobile/i.test(s)}function _1(s=rn()){return/android/i.test(s)}function v1(s=rn()){return/blackberry/i.test(s)}function E1(s=rn()){return/webos/i.test(s)}function rg(s=rn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function Zx(s=rn()){return rg(s)&&!!window.navigator?.standalone}function Jx(){return Jb()&&document.documentMode===10}function T1(s=rn()){return rg(s)||_1(s)||E1(s)||v1(s)||/windows phone/i.test(s)||y1(s)}function b1(s,t=[]){let i;switch(s){case"Browser":i=n0(rn());break;case"Worker":i=`${n0(rn())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${al}/${a}`}class Wx{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const _=t(c);d(_)}catch(_){p(_)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function tR(s,t={}){return hl(s,"GET","/v2/passwordPolicy",wh(s,t))}const eR=6;class nR{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??eR,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class iR{constructor(t,i,a,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new i0(this),this.idTokenSubscription=new i0(this),this.beforeStateQueue=new Wx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=a1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=rs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Xa.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await th(this,{idToken:t}),a=await ri._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(si(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await eh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Lx()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(si(this.app))return Promise.reject(ir(this));const i=t?cn(t):null;return i&&vt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return si(this.app)?Promise.reject(ir(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return si(this.app)?Promise.reject(ir(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await tR(this),i=new nR(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new jo("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await $x(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&rs(t)||this._popupRedirectResolver;vt(i,this,"argument-error"),this.redirectPersistenceManager=await Xa.create(this,[rs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,o);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=b1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(si(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&kx(`Error while retrieving App Check token: ${t.error}`),t?.token}}function xh(s){return cn(s)}class i0{constructor(t){this.auth=t,this.observer=null,this.addObserver=aA(i=>this.observer=i)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ag={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function sR(s){ag=s}function rR(s){return ag.loadJS(s)}function aR(){return ag.gapiScript}function lR(s){return`__${s}${Math.floor(Math.random()*1e6)}`}function oR(s,t){const i=Sm(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(sr(c,t??{}))return o;cs(o,"already-initialized")}return i.initialize({options:t})}function uR(s,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(rs);t?.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t?.popupRedirectResolver)}function cR(s,t,i){const a=xh(s);vt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,c=A1(t),{host:d,port:p}=hR(t),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){vt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),vt(sr(y,a.config.emulator)&&sr(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,rl(d)?(A0(`${c}//${d}${_}`),S0("Auth",!0)):fR()}function A1(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function hR(s){const t=A1(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:s0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:s0(d)}}}function s0(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function fR(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}class S1{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return ss("not implemented")}_getIdTokenResponse(t){return ss("not implemented")}_linkToIdToken(t,i){return ss("not implemented")}_getReauthenticationResolver(t){return ss("not implemented")}}async function $a(s,t){return c1(s,"POST","/v1/accounts:signInWithIdp",wh(s,t))}const dR="http://localhost";class Zr extends S1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Zr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):cs("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new Zr(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return $a(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,$a(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,$a(t,i)}buildRequest(){const t={requestUri:dR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Lo(i)}return t}}class w1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Qo extends w1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ks extends Qo{constructor(){super("facebook.com")}static credential(t){return Zr._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ks.credentialFromTaggedObject(t)}static credentialFromError(t){return Ks.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ks.credential(t.oauthAccessToken)}catch{return null}}}Ks.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ks.PROVIDER_ID="facebook.com";class Ys extends Qo{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Zr._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Ys.credentialFromTaggedObject(t)}static credentialFromError(t){return Ys.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Ys.credential(i,a)}catch{return null}}}Ys.GOOGLE_SIGN_IN_METHOD="google.com";Ys.PROVIDER_ID="google.com";class Xs extends Qo{constructor(){super("github.com")}static credential(t){return Zr._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Xs.credentialFromTaggedObject(t)}static credentialFromError(t){return Xs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Xs.credential(t.oauthAccessToken)}catch{return null}}}Xs.GITHUB_SIGN_IN_METHOD="github.com";Xs.PROVIDER_ID="github.com";class $s extends Qo{constructor(){super("twitter.com")}static credential(t,i){return Zr._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return $s.credentialFromTaggedObject(t)}static credentialFromError(t){return $s.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return $s.credential(i,a)}catch{return null}}}$s.TWITTER_SIGN_IN_METHOD="twitter.com";$s.PROVIDER_ID="twitter.com";async function mR(s,t){return c1(s,"POST","/v1/accounts:signUp",wh(s,t))}class hr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,o=!1){const c=await ri._fromIdTokenResponse(t,a,o),d=r0(a);return new hr({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const o=r0(a);return new hr({user:t,providerId:o,_tokenResponse:a,operationType:i})}}function r0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}async function gR(s){if(si(s.app))return Promise.reject(ir(s));const t=xh(s);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new hr({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await mR(t,{returnSecureToken:!0}),a=await hr._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class nh extends fs{constructor(t,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,nh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,o){return new nh(t,i,a,o)}}function x1(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?nh._fromErrorAndOperation(s,c,t,a):c})}async function pR(s,t,i=!1){const a=await Uo(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return hr._forOperation(s,"link",a)}async function yR(s,t,i=!1){const{auth:a}=s;if(si(a.app))return Promise.reject(ir(a));const o="reauthenticate";try{const c=await Uo(s,x1(a,o,t,s),i);vt(c.idToken,a,"internal-error");const d=sg(c.idToken);vt(d,a,"internal-error");const{sub:p}=d;return vt(s.uid===p,a,"user-mismatch"),hr._forOperation(s,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&cs(a,"user-mismatch"),c}}async function _R(s,t,i=!1){if(si(s.app))return Promise.reject(ir(s));const a="signIn",o=await x1(s,a,t),c=await hr._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}function vR(s,t,i,a){return cn(s).onIdTokenChanged(t,i,a)}function ER(s,t,i){return cn(s).beforeAuthStateChanged(t,i)}const ih="__sak";class R1{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ih,"1"),this.storage.removeItem(ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const TR=1e3,bR=10;class C1 extends R1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=T1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&t(i,o,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);Jx()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,bR):o()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},TR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}C1.type="LOCAL";const AR=C1;class N1 extends R1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}N1.type="SESSION";const I1=N1;function SR(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Rh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const a=new Rh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await SR(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rh.receivers=[];function lg(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}class wR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=lg("",20);o.port1.start();const A=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(S){const M=S;if(M.data.eventId===y)switch(M.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(M.data.response);break;default:clearTimeout(A),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function ki(){return window}function xR(s){ki().location.href=s}function D1(){return typeof ki().WorkerGlobalScope<"u"&&typeof ki().importScripts=="function"}async function RR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CR(){return navigator?.serviceWorker?.controller||null}function NR(){return D1()?self:null}const O1="firebaseLocalStorageDb",IR=1,sh="firebaseLocalStorage",M1="fbase_key";class Ko{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Ch(s,t){return s.transaction([sh],t?"readwrite":"readonly").objectStore(sh)}function DR(){const s=indexedDB.deleteDatabase(O1);return new Ko(s).toPromise()}function vm(){const s=indexedDB.open(O1,IR);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(sh,{keyPath:M1})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(sh)?t(a):(a.close(),await DR(),t(await vm()))})})}async function a0(s,t,i){const a=Ch(s,!0).put({[M1]:t,value:i});return new Ko(a).toPromise()}async function OR(s,t){const i=Ch(s,!1).get(t),a=await new Ko(i).toPromise();return a===void 0?null:a.value}function l0(s,t){const i=Ch(s,!0).delete(t);return new Ko(i).toPromise()}const MR=800,VR=3;class V1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>VR)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return D1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rh._getInstance(NR()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await RR(),!this.activeServiceWorker)return;this.sender=new wR(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||CR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await vm();return await a0(t,ih,"1"),await l0(t,ih),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>a0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>OR(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>l0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=Ch(o,!1).getAll();return new Ko(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),MR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}V1.type="LOCAL";const kR=V1;new Fo(3e4,6e4);function UR(s,t){return t?rs(t):(vt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}class og extends S1{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return $a(t,this._buildIdpRequest())}_linkToIdToken(t,i){return $a(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return $a(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function jR(s){return _R(s.auth,new og(s),s.bypassAuthState)}function LR(s){const{auth:t,user:i}=s;return vt(i,t,"internal-error"),yR(i,new og(s),s.bypassAuthState)}async function PR(s){const{auth:t,user:i}=s;return vt(i,t,"internal-error"),pR(i,new og(s),s.bypassAuthState)}class k1{constructor(t,i,a,o,c=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return jR;case"linkViaPopup":case"linkViaRedirect":return PR;case"reauthViaPopup":case"reauthViaRedirect":return LR;default:cs(this.auth,"internal-error")}}resolve(t){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const zR=new Fo(2e3,1e4);class Fa extends k1{constructor(t,i,a,o,c){super(t,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,Fa.currentPopupAction&&Fa.currentPopupAction.cancel(),Fa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){hs(this.filter.length===1,"Popup operations only handle one event");const t=lg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,zR.get())};t()}}Fa.currentPopupAction=null;const BR="pendingRedirect",jc=new Map;class qR extends k1{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=jc.get(this.auth._key());if(!t){try{const a=await HR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}jc.set(this.auth._key(),t)}return this.bypassAuthState||jc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function HR(s,t){const i=QR(t),a=FR(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function GR(s,t){jc.set(s._key(),t)}function FR(s){return rs(s._redirectPersistence)}function QR(s){return Uc(BR,s.config.apiKey,s.name)}async function KR(s,t,i=!1){if(si(s.app))return Promise.reject(ir(s));const a=xh(s),o=UR(a,t),d=await new qR(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const YR=600*1e3;class XR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!$R(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!U1(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Vi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=YR&&this.cachedEventUids.clear(),this.cachedEventUids.has(o0(t))}saveEventToCache(t){this.cachedEventUids.add(o0(t)),this.lastProcessedEventTime=Date.now()}}function o0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function U1({type:s,error:t}){return s==="unknown"&&t?.code==="auth/no-auth-event"}function $R(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return U1(s);default:return!1}}async function ZR(s,t={}){return hl(s,"GET","/v1/projects",t)}const JR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,WR=/^https?/;async function tC(s){if(s.config.emulator)return;const{authorizedDomains:t}=await ZR(s);for(const i of t)try{if(eC(i))return}catch{}cs(s,"unauthorized-domain")}function eC(s){const t=ym(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const d=new URL(s);return d.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!WR.test(i))return!1;if(JR.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const nC=new Fo(3e4,6e4);function u0(){const s=ki().___jsl;if(s?.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function iC(s){return new Promise((t,i)=>{function a(){u0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{u0(),i(Vi(s,"network-request-failed"))},timeout:nC.get()})}if(ki().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ki().gapi?.load)a();else{const o=lR("iframefcb");return ki()[o]=()=>{gapi.load?a():i(Vi(s,"network-request-failed"))},rR(`${aR()}?onload=${o}`).catch(c=>i(c))}}).catch(t=>{throw Lc=null,t})}let Lc=null;function sC(s){return Lc=Lc||iC(s),Lc}const rC=new Fo(5e3,15e3),aC="__/auth/iframe",lC="emulator/auth/iframe",oC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cC(s){const t=s.config;vt(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?ig(t,lC):`https://${s.config.authDomain}/${aC}`,a={apiKey:t.apiKey,appName:s.name,v:al},o=uC.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Lo(a).slice(1)}`}async function hC(s){const t=await sC(s),i=ki().gapi;return vt(i,s,"internal-error"),t.open({where:document.body,url:cC(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:oC,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Vi(s,"network-request-failed"),p=ki().setTimeout(()=>{c(d)},rC.get());function _(){ki().clearTimeout(p),o(a)}a.ping(_).then(_,()=>{c(d)})}))}const fC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},dC=500,mC=600,gC="_blank",pC="http://localhost";class c0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yC(s,t,i,a=dC,o=mC){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const _={...fC,width:a.toString(),height:o.toString(),top:c,left:d},y=rn().toLowerCase();i&&(p=p1(y)?gC:i),m1(y)&&(t=t||pC,_.scrollbars="yes");const A=Object.entries(_).reduce((M,[H,W])=>`${M}${H}=${W},`,"");if(Zx(y)&&p!=="_self")return _C(t||"",p),new c0(null);const S=window.open(t||"",p,A);vt(S,s,"popup-blocked");try{S.focus()}catch{}return new c0(S)}function _C(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const vC="__/auth/handler",EC="emulator/auth/handler",TC=encodeURIComponent("fac");async function h0(s,t,i,a,o,c){vt(s.config.authDomain,s,"auth-domain-config-required"),vt(s.config.apiKey,s,"invalid-api-key");const d={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:al,eventId:o};if(t instanceof w1){t.setDefaultLanguage(s.languageCode),d.providerId=t.providerId||"",rA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(t instanceof Qo){const A=t.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}s.tenantId&&(d.tid=s.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const _=await s._getAppCheckToken(),y=_?`#${TC}=${encodeURIComponent(_)}`:"";return`${bC(s)}?${Lo(p).slice(1)}${y}`}function bC({config:s}){return s.emulator?ig(s,EC):`https://${s.authDomain}/${vC}`}const Kd="webStorageSupport";class AC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=I1,this._completeRedirectFn=KR,this._overrideRedirectResult=GR}async _openPopup(t,i,a,o){hs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await h0(t,i,a,ym(),o);return yC(t,c,lg())}async _openRedirect(t,i,a,o){await this._originValidation(t);const c=await h0(t,i,a,ym(),o);return xR(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(hs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await hC(t),a=new XR(t);return i.register("authEvent",o=>(vt(o?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Kd,{type:Kd},o=>{const c=o?.[0]?.[Kd];c!==void 0&&i(!!c),cs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=tC(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return T1()||g1()||rg()}}const SC=AC;var f0="@firebase/auth",d0="1.12.0";class wC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function xC(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RC(s){Za(new Kr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;vt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:p,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:b1(s)},y=new iR(a,o,c,_);return uR(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Za(new Kr("auth-internal",t=>{const i=xh(t.getProvider("auth").getImmediate());return(a=>new wC(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),tr(f0,d0,xC(s)),tr(f0,d0,"esm2020")}const CC=300,NC=b0("authIdTokenMaxAge")||CC;let m0=null;const IC=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>NC)return;const o=i?.token;m0!==o&&(m0=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function DC(s=C0()){const t=Sm(s,"auth");if(t.isInitialized())return t.getImmediate();const i=oR(s,{popupRedirectResolver:SC,persistence:[kR,AR,I1]}),a=b0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=IC(c.toString());ER(i,d,()=>d(i.currentUser)),vR(i,p=>d(p))}}const o=E0("auth");return o&&cR(i,`http://${o}`),i}function OC(){return document.getElementsByTagName("head")?.[0]??document}sR({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=o=>{const c=Vi("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",OC().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RC("Browser");const MC=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),VC=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),g0=s=>{const t=VC(s);return t.charAt(0).toUpperCase()+t.slice(1)},j1=(...s)=>s.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),kC=s=>{for(const t in s)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var UC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const jC=Bt.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...p},_)=>Bt.createElement("svg",{ref:_,...UC,width:t,height:t,stroke:s,strokeWidth:a?Number(i)*24/Number(t):i,className:j1("lucide",o),...!c&&!kC(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,A])=>Bt.createElement(y,A)),...Array.isArray(c)?c:[c]]));const se=(s,t)=>{const i=Bt.forwardRef(({className:a,...o},c)=>Bt.createElement(jC,{ref:c,iconNode:t,className:j1(`lucide-${MC(g0(s))}`,`lucide-${s}`,a),...o}));return i.displayName=g0(s),i};const LC=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],PC=se("arrow-right",LC);const zC=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],BC=se("bell",zC);const qC=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],HC=se("bookmark",qC);const GC=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],L1=se("building",GC);const FC=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],P1=se("chevron-right",FC);const QC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],KC=se("circle-alert",QC);const YC=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],XC=se("circle-check",YC);const $C=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],z1=se("circle-x",$C);const ZC=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],JC=se("clock",ZC);const WC=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],B1=se("heart",WC);const tN=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],eN=se("layout-dashboard",tN);const nN=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],iN=se("list",nN);const sN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],rN=se("log-out",sN);const aN=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],q1=se("map-pin",aN);const lN=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],oN=se("message-square",lN);const uN=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],cN=se("phone",uN);const hN=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],fN=se("plus",hN);const dN=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],mN=se("refresh-cw",dN);const gN=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],pN=se("search",gN);const yN=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_N=se("settings",yN);const vN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],EN=se("shield-alert",vN);const TN=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],H1=se("square-pen",TN);const bN=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],as=se("star",bN);const AN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ug=se("trash-2",AN);const SN=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],wN=se("upload",SN);const xN=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],RN=se("user",xN),Em={apiKey:"AIzaSyCe1kKepWLp8yzGf7A0hTiik3ww2dOl3U8",authDomain:"labor-emotional-apps-d4016.firebaseapp.com",projectId:"labor-emotional-apps-d4016",storageBucket:"labor-emotional-apps-d4016.firebasestorage.app",messagingSenderId:"466148209394",appId:"1:466148209394:web:2fbac969e9fa186c7f966b",measurementId:"G-KYHTYD41B8"},G1=Em.apiKey&&Em.apiKey!=="";let Yd,qe,F1;if(G1)try{Yd=R0(Em),qe=vx(Yd),F1=DC(Yd)}catch(s){console.error("Firebase initialization failed:",s)}const un="labor-emotional-registry",CN=s=>{const t=[...s];for(let i=t.length-1;i>0;i--){const a=Math.floor(Math.random()*(i+1));[t[i],t[a]]=[t[a],t[i]]}return t},NN=({className:s="w-24 h-24"})=>E.jsx("div",{className:`${s} bg-white rounded-lg flex items-center justify-center p-2 shadow-sm border border-slate-100`,children:E.jsx("img",{src:"120_labor.png",alt:"",className:"max-w-full max-h-full object-contain",onError:t=>{t.target.src="https://www.gov.il/BlobFolder/office/labor/he/labor_logo.png"}})}),cg=({setView:s,user:t,notifications:i=[]})=>{const[a,o]=Bt.useState(!1);return E.jsx("header",{className:"bg-blue-900 text-white shadow-lg sticky top-0 z-30",children:E.jsxs("div",{className:"container mx-auto px-6 py-3 flex justify-between items-center",children:[E.jsxs("div",{className:"flex items-center gap-4 cursor-pointer",onClick:()=>s("dashboard"),children:[E.jsx("div",{className:"bg-white p-1 rounded-md h-10 flex items-center",children:E.jsx("img",{src:"120_labor.png",alt:"",className:"h-8",onError:c=>c.target.src="https://www.gov.il/BlobFolder/office/labor/he/labor_logo.png"})}),E.jsx("h1",{className:"text-lg font-bold hidden sm:block",children:"  "})]}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsxs("div",{className:"relative",children:[E.jsxs("button",{onClick:()=>o(!a),className:"p-2 hover:bg-blue-800 rounded-full transition-colors relative",children:[E.jsx(BC,{size:20}),i.length>0&&E.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-[10px] w-4 h-4 flex items-center justify-center rounded-full border-2 border-blue-900 font-bold",children:i.length})]}),a&&E.jsxs("div",{className:"absolute left-0 mt-2 w-72 bg-white rounded-2xl shadow-2xl border border-slate-200 overflow-hidden z-50 text-slate-800",children:[E.jsx("div",{className:"p-3 border-b bg-slate-50 font-bold text-sm",children:" "}),E.jsx("div",{className:"max-h-64 overflow-y-auto text-right",children:i.length>0?i.map((c,d)=>E.jsxs("div",{className:"p-3 text-xs border-b hover:bg-slate-50 transition-colors",children:[E.jsx("div",{className:"font-bold text-blue-800 mb-1 text-right",children:c.title}),E.jsx("p",{className:"text-slate-600 text-right",children:c.text})]},d)):E.jsx("div",{className:"p-10 text-center text-slate-400 italic text-xs",children:"  "})})]})]}),E.jsxs("div",{className:"hidden md:flex flex-col items-end ml-4 text-[10px] opacity-80 text-right",children:[E.jsxs("span",{className:"font-bold text-blue-200",children:[", ",t?.name]}),E.jsx("span",{children:t?.isAdmin?" ":t?.isProvider?" ":` : ${t?.id}`})]}),t?.isAdmin&&E.jsx("button",{onClick:()=>s("admin-settings"),className:"p-2 bg-blue-800 hover:bg-blue-700 rounded-lg transition-colors relative",title:" ",children:E.jsx(_N,{size:18})}),!t?.isProvider&&!t?.isAdmin&&E.jsxs("button",{onClick:()=>s("my-workspace"),className:"flex items-center gap-2 bg-blue-800 hover:bg-blue-700 px-4 py-2 rounded-lg text-sm transition-colors",children:[E.jsx(eN,{size:16}),E.jsx("span",{className:"hidden md:inline",children:" "})]}),E.jsxs("button",{onClick:()=>s("login"),className:"flex items-center gap-2 bg-blue-800 hover:bg-red-600 px-4 py-2 rounded-lg text-sm transition-colors",children:[E.jsx(rN,{size:16}),""]})]})]})})},IN=()=>{if(!G1)return E.jsx("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-4 text-center",dir:"rtl",children:E.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl border border-red-200 max-w-md",children:[E.jsx("div",{className:"w-16 h-16 bg-red-100 text-red-600 rounded-full flex items-center justify-center mx-auto mb-4",children:E.jsx(z1,{size:32})}),E.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-2",children:"   Firebase"}),E.jsx("p",{className:"text-slate-600 mb-6",children:"   -config   firebaseConfig  -Cursor."})]})});const[s,t]=Bt.useState("login"),[i,a]=Bt.useState(null),[o,c]=Bt.useState([]),[d,p]=Bt.useState([]),[_,y]=Bt.useState([]),[A,S]=Bt.useState([]),[M,H]=Bt.useState([]),[W,$]=Bt.useState(null),[Z,dt]=Bt.useState(!0),[Tt,pt]=Bt.useState(""),[Kt,ne]=Bt.useState(Math.random()),[Rt,N]=Bt.useState({semel:"",password:""}),[w,C]=Bt.useState(""),[V,D]=Bt.useState(null),[U,x]=Bt.useState({name:"",contactPerson:"",contactPhone:"",providerType:" ",description:"",rating:5,recommends:!0,notes:"",grades:[],isZalash:!1,location:" "}),[Nt,ge]=Bt.useState({search:"",grade:"all",zalashOnly:!1,location:"all",minRating:0,minReviewerRating:0,providerType:"all"});Bt.useEffect(()=>{(async()=>{try{await gR(F1)}catch(st){console.error(st)}})()},[]),Bt.useEffect(()=>{if(!qe)return;const et=Fd(_o(qe,"artifacts",un,"public","data","programs"),ut=>{const Pt=ut.docs.map(he=>{const Le=he.data(),Te=Le.comments?.map(En=>En.rating).filter(En=>En>0)||[],Ge=Te.length>0?(Te.reduce((En,Li)=>En+Li,0)/Te.length).toFixed(1):0;return{id:he.id,...Le,avgReviewerRating:Ge}});c(Pt),dt(!1)}),st=Fd(_o(qe,"artifacts",un,"public","data","schools"),ut=>{const Pt=ut.docs.map(he=>({id:he.id,...he.data()}));p(Pt.filter(he=>!he.isProvider)),y(Pt.filter(he=>he.isProvider))});return()=>{et(),st()}},[]),Bt.useEffect(()=>{if(W){const et=o.find(st=>st.id===W.id);et&&$(et)}},[o]),Bt.useEffect(()=>{if(!qe||!i||i.isAdmin)return;const et=_o(qe,"artifacts",un,"users",i.id,"favorites"),st=Fd(et,ut=>{H(ut.docs.map(Pt=>Pt.id))});return()=>st()},[i]),Bt.useEffect(()=>{if(!i||i.isAdmin)return;const et=o.filter(ut=>ut.schoolId===i.id),st=[];et.forEach(ut=>{ut.comments&&ut.comments.length>0&&ut.comments.slice(-3).forEach(Pt=>{st.push({title:`   -${ut.name}`,text:`${Pt.school}  ${Pt.rating} : ${Pt.text}`})})}),S(st)},[o,i]);const G=et=>{if(et.preventDefault(),pt(""),Rt.semel==="admin"&&Rt.password==="1234"){a({id:"admin",name:" ",isAdmin:!0}),t("dashboard");return}const st=d.find(Pt=>String(Pt.semel)===String(Rt.semel)&&String(Pt.password)===String(Rt.password));if(st){a({id:st.semel,name:st.name,isAdmin:!1}),t("dashboard");return}const ut=_.find(Pt=>String(Pt.semel)===String(Rt.semel)&&String(Pt.password)===String(Rt.password));if(ut){a({...ut,id:ut.semel,isAdmin:!1,isProvider:!0}),ut.status==="approved"?t("dashboard"):t("provider-status");return}pt("  .  .")},nt=async(et,st)=>{et.preventDefault();try{await $v(Ri(qe,"artifacts",un,"public","data","schools",st.id),{name:st.name,semel:st.id,password:st.password,contact:st.contact,description:st.description,location:st.location||" ",isProvider:!0,status:"pending",createdAt:Date.now(),initialProgram:{name:st.name,description:st.description,location:st.location||" ",grades:["","","",""],isZalash:!1,rating:5,recommends:!0,contactPerson:st.contact,contactPhone:"",providerType:" "}}),alert("     ."),t("login")}catch(ut){console.error(ut)}},ht=async et=>{try{await vo(Ri(qe,"artifacts",un,"public","data","schools",et.id),{status:"approved",adminNote:"  ."}),await Zv(_o(qe,"artifacts",un,"public","data","programs"),{...et.initialProgram,schoolId:et.id,schoolName:et.name,comments:[],createdAt:new Date().toLocaleDateString("he-IL"),timestamp:Date.now()}),alert("    .")}catch(st){console.error(st)}},jt=async(et,st)=>{try{await vo(Ri(qe,"artifacts",un,"public","data","schools",et),{status:"rejected",adminNote:st})}catch(ut){console.error(ut)}},Gt=async et=>{et.preventDefault();try{await Zv(_o(qe,"artifacts",un,"public","data","programs"),{...U,schoolId:i.id,schoolName:i.name,comments:[],createdAt:new Date().toLocaleDateString("he-IL"),timestamp:Date.now()}),t("dashboard"),x({name:"",contactPerson:"",contactPhone:"",providerType:" ",description:"",rating:5,recommends:!0,notes:"",grades:[],isZalash:!1,location:" "})}catch(st){console.error(st)}},O=async et=>{window.confirm("     ?")&&await Gd(Ri(qe,"artifacts",un,"public","data","programs",et))},K=async(et,st)=>{if(et.stopPropagation(),!i||i.isAdmin)return;const ut=Ri(qe,"artifacts",un,"users",i.id,"favorites",st);M.includes(st)?await Gd(ut):await $v(ut,{savedAt:Date.now()})},it=async(et,st,ut)=>{const Pt=Date.now(),he=900*1e3;if(o.some(Te=>Te.comments?.some(Ge=>Ge.schoolId===i.id&&Pt-Ge.id<he))&&!i.isAdmin){alert("     15 .  .");return}await vo(Ri(qe,"artifacts",un,"public","data","programs",et),{comments:Mx({id:Pt,school:i.name,schoolId:i.id,text:st,rating:ut||5})})},rt=async(et,st,ut)=>{try{const Pt=Ri(qe,"artifacts",un,"public","data","programs",et),Le=o.find(Te=>Te.id===et).comments.map(Te=>Te.id===st?{...Te,text:ut,edited:!0}:Te);await vo(Pt,{comments:Le})}catch(Pt){console.error(Pt)}},_t=async(et,st)=>{if(window.confirm("    ?"))try{const ut=Ri(qe,"artifacts",un,"public","data","programs",et),he=o.find(Le=>Le.id===et).comments.filter(Le=>Le.id!==st);await vo(ut,{comments:he})}catch(ut){console.error(ut)}},St=Bt.useMemo(()=>{let et=[...o];return s==="dashboard"&&(et=CN(et)),i?.isProvider&&(et=et.filter(st=>st.schoolId===i.id)),et.filter(st=>{const ut=st.name?.toLowerCase().includes(Nt.search.toLowerCase())||st.description?.toLowerCase().includes(Nt.search.toLowerCase())||st.schoolName?.toLowerCase().includes(Nt.search.toLowerCase()),Pt=Nt.grade==="all"||st.grades?.includes(Nt.grade),he=!Nt.zalashOnly||st.isZalash,Le=Nt.location==="all"||st.location===Nt.location,Te=st.rating>=Nt.minRating,Ge=st.avgReviewerRating>=Nt.minReviewerRating,En=Nt.providerType==="all"||st.providerType===Nt.providerType;return ut&&Pt&&he&&Le&&Te&&Ge&&En})},[o,Nt,i,s,Kt]);return s==="login"?E.jsx(DN,{loginData:Rt,setLoginData:N,handleLogin:G,error:Tt,setView:t}):s==="provider-register"?E.jsx(ON,{handleProviderApply:nt,setView:t}):s==="provider-status"?E.jsx(MN,{provider:i,setView:t}):s==="admin-settings"?E.jsx(VN,{schools:d,providers:_,importText:w,setImportText:C,handleImportExcel:()=>{},handleDeleteSchool:async et=>await Gd(Ri(qe,"artifacts",un,"public","data","schools",et)),editingSchool:V,setEditingSchool:D,db:qe,appId:un,setView:t,handleApproveProvider:ht,handleRejectProvider:jt}):E.jsxs("div",{className:"font-sans antialiased text-slate-900 selection:bg-blue-100 overflow-x-hidden",dir:"rtl",children:[s==="dashboard"&&E.jsx(kN,{setView:t,filters:Nt,setFilters:ge,filteredPrograms:St,toggleFavorite:K,savedProgramIds:M,setSelectedProgram:et=>{$(et),t("details")},user:i,handleDeleteProgram:O,notifications:A,setRandomSeed:ne}),s==="add"&&E.jsx(UN,{setView:t,handleAddProgram:Gt,formData:U,setFormData:x,user:i}),s==="details"&&W&&E.jsx(jN,{selectedProgram:W,setView:t,addComment:it,removeComment:_t,editComment:rt,user:i,notifications:A}),s==="my-workspace"&&E.jsx(LN,{setView:t,user:i,programs:o,savedProgramIds:M,toggleFavorite:K,setSelectedProgram:et=>{$(et),t("details")},notifications:A}),E.jsx(PN,{})]})},DN=({loginData:s,setLoginData:t,handleLogin:i,error:a,setView:o})=>E.jsx("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-4",dir:"rtl",children:E.jsxs("div",{className:"bg-white p-10 rounded-3xl shadow-2xl w-full max-w-md border border-slate-200",children:[E.jsxs("div",{className:"flex flex-col items-center mb-8 text-center",children:[E.jsx(NN,{className:"w-32 h-32 mb-6"}),E.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"  "}),E.jsx("p",{className:"text-slate-500 font-medium",children:"  -  "})]}),a&&E.jsxs("div",{className:"bg-red-50 text-red-600 p-4 rounded-2xl mb-6 text-xs font-bold border border-red-100 flex items-center gap-2 text-right",children:[E.jsx(z1,{size:16})," ",a]}),E.jsxs("form",{onSubmit:i,className:"space-y-4",children:[E.jsx("input",{required:!0,className:"w-full p-4 border-2 border-slate-100 rounded-2xl outline-none focus:border-blue-500 transition-all font-bold text-right",placeholder:"  /  ",value:s.semel,onChange:c=>t({...s,semel:c.target.value})}),E.jsx("input",{required:!0,type:"password",className:"w-full p-4 border-2 border-slate-100 rounded-2xl outline-none focus:border-blue-500 transition-all font-bold text-right",placeholder:"",value:s.password,onChange:c=>t({...s,password:c.target.value})}),E.jsx("button",{type:"submit",className:"w-full bg-blue-700 hover:bg-blue-800 text-white font-bold py-5 rounded-2xl shadow-lg active:scale-95 transition-all text-lg",children:" "})]}),E.jsxs("div",{className:"mt-10 text-center border-t border-slate-100 pt-8",children:[E.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"   ?"}),E.jsx("button",{onClick:()=>o("provider-register"),className:"bg-slate-50 text-blue-600 font-bold px-8 py-3 rounded-full hover:bg-blue-50 transition-colors border border-blue-100",children:"   "})]})]})}),ON=({handleProviderApply:s,setView:t})=>{const[i,a]=Bt.useState({name:"",id:"",password:"",contact:"",description:"",location:" "});return E.jsx("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-4",dir:"rtl",children:E.jsxs("div",{className:"bg-white p-10 rounded-3xl shadow-2xl w-full max-w-lg border border-slate-200",children:[E.jsxs("div",{className:"mb-8 text-right",children:[E.jsx("h2",{className:"text-2xl font-black text-slate-800 mb-2",children:"  "}),E.jsx("p",{className:"text-slate-500 font-medium leading-relaxed text-right",children:"     .   ,    ."})]}),E.jsxs("form",{onSubmit:o=>s(o,i),className:"space-y-4",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-right",children:[E.jsxs("div",{className:"col-span-1 md:col-span-2",children:[E.jsx("label",{className:"block text-xs font-bold text-slate-400 mb-1 mr-1 uppercase",children:"  /  *"}),E.jsx("input",{required:!0,className:"w-full p-4 border-2 border-slate-100 rounded-2xl outline-none text-right",value:i.name,onChange:o=>a({...i,name:o.target.value})})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-slate-400 mb-1 mr-1 uppercase",children:'" /   () *'}),E.jsx("input",{required:!0,className:"w-full p-4 border-2 border-slate-100 rounded-2xl outline-none text-right",value:i.id,onChange:o=>a({...i,id:o.target.value})})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-slate-400 mb-1 mr-1 uppercase",children:"  *"}),E.jsx("input",{required:!0,type:"password",className:"w-full p-4 border-2 border-slate-100 rounded-2xl outline-none text-right",value:i.password,onChange:o=>a({...i,password:o.target.value})})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-slate-400 mb-1 mr-1 uppercase text-right",children:"  *"}),E.jsxs("select",{required:!0,className:"w-full p-4 border-2 border-slate-100 rounded-2xl outline-none text-right",value:i.location,onChange:o=>a({...i,location:o.target.value}),children:[E.jsx("option",{value:" ",children:" "}),E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"",children:""})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-slate-400 mb-1 mr-1 uppercase text-right",children:"   *"}),E.jsx("input",{required:!0,className:"w-full p-4 border-2 border-slate-100 rounded-2xl outline-none text-right",value:i.contact,onChange:o=>a({...i,contact:o.target.value})})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-xs font-bold text-slate-400 mb-1 mr-1 uppercase text-right text-blue-700 font-black",children:"   ( ) *"}),E.jsx("textarea",{required:!0,className:"w-full p-4 border-2 border-slate-100 rounded-2xl outline-none h-32 text-right",value:i.description,onChange:o=>a({...i,description:o.target.value})})]}),E.jsx("button",{type:"submit",className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-4 rounded-xl shadow-lg transition-all text-lg",children:"   "}),E.jsx("button",{type:"button",onClick:()=>t("login"),className:"w-full text-slate-400 font-bold py-2",children:" "})]})]})})},MN=({provider:s,setView:t})=>E.jsx("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-4",dir:"rtl",children:E.jsxs("div",{className:"bg-white p-12 rounded-[3rem] shadow-2xl w-full max-w-md border border-slate-200 text-center relative overflow-hidden",children:[E.jsx("div",{className:`absolute top-0 right-0 left-0 h-3 ${s.status==="approved"?"bg-emerald-500":s.status==="pending"?"bg-amber-500":"bg-red-500"}`}),E.jsx("div",{className:`w-24 h-24 mx-auto rounded-full flex items-center justify-center mb-8 ${s.status==="pending"?"bg-amber-50 text-amber-600":s.status==="approved"?"bg-emerald-50 text-emerald-600":"bg-red-50 text-red-600"}`,children:s.status==="pending"?E.jsx(JC,{size:48}):s.status==="approved"?E.jsx(XC,{size:48}):E.jsx(KC,{size:48})}),E.jsxs("h2",{className:"text-2xl font-black text-slate-800 mb-2",children:[": ",s.status==="pending"?" ":s.status==="approved"?" !":" "]}),E.jsxs("p",{className:"text-slate-500 font-medium mb-8 text-right",children:[" ",s.name,",     ."]}),s.adminNote&&E.jsxs("div",{className:"bg-slate-50 p-6 rounded-2xl border mb-8 text-right shadow-inner",children:[E.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase mb-2 text-right",children:"  :"}),E.jsxs("p",{className:"text-slate-800 text-sm font-medium italic text-right",children:['"',s.adminNote,'"']})]}),s.status==="approved"&&E.jsx("button",{onClick:()=>t("dashboard"),className:"w-full bg-blue-700 text-white font-bold py-5 rounded-2xl shadow-xl mb-4 text-lg",children:" "}),s.status==="rejected"&&E.jsx("button",{onClick:()=>t("provider-register"),className:"w-full bg-emerald-600 text-white font-bold py-5 rounded-2xl shadow-xl mb-4 text-lg",children:"  "}),E.jsx("button",{onClick:()=>t("login"),className:"text-slate-400 font-bold py-2 uppercase text-[10px] tracking-widest",children:""})]})}),VN=({schools:s,providers:t,importText:i,setImportText:a,handleImportExcel:o,handleDeleteSchool:c,setEditingSchool:d,editingSchool:p,db:_,appId:y,setView:A,handleApproveProvider:S,handleRejectProvider:M})=>{const[H,W]=Bt.useState("requests"),$=t.filter(Z=>Z.status==="pending");return E.jsxs("div",{className:"min-h-screen bg-slate-50 pb-20",dir:"rtl",children:[E.jsxs("header",{className:"bg-slate-900 text-white p-4 flex justify-between items-center sticky top-0 z-40",children:[E.jsxs("div",{className:"flex items-center gap-6",children:[E.jsxs("h1",{className:"font-bold flex items-center gap-2 text-blue-400 tracking-tight",children:[E.jsx(EN,{size:24}),"   "]}),E.jsxs("nav",{className:"flex gap-4 mr-6",children:[E.jsxs("button",{onClick:()=>W("requests"),className:`px-4 py-2 rounded-xl text-sm font-bold relative transition-all ${H==="requests"?"bg-blue-600 text-white shadow-lg":"text-slate-400 hover:text-white"}`,children:["  ",$.length>0&&E.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-[10px] w-5 h-5 flex items-center justify-center rounded-full border-2 border-slate-900 animate-bounce font-bold",children:$.length})]}),E.jsx("button",{onClick:()=>W("schools"),className:`px-4 py-2 rounded-xl text-sm font-bold ${H==="schools"?"bg-blue-600 text-white shadow-lg":"text-slate-400 hover:text-white"}`,children:" "})]})]}),E.jsxs("button",{onClick:()=>A("dashboard"),className:"flex items-center gap-2 text-sm bg-blue-800 hover:bg-blue-700 px-6 py-2 rounded-xl transition-all font-bold",children:["  ",E.jsx(PC,{size:18})]})]}),E.jsxs("main",{className:"container mx-auto p-8 max-w-7xl",children:[H==="requests"&&E.jsxs("div",{className:"space-y-6",children:[E.jsx("h2",{className:"text-2xl font-black text-slate-800 text-right",children:" "}),$.length===0&&E.jsx("div",{className:"bg-white p-16 rounded-[2.5rem] text-center border-2 border-dashed border-slate-200",children:E.jsx("p",{className:"text-slate-400 font-bold",children:"   "})}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:$.map(Z=>E.jsxs("div",{className:"bg-white p-8 rounded-[2rem] shadow-sm border text-right",children:[E.jsx("h3",{className:"font-black text-xl text-slate-800 mb-1",children:Z.name}),E.jsxs("p",{className:"text-blue-600 font-bold text-xs mb-4",children:[" : ",Z.semel]}),E.jsxs("div",{className:"bg-slate-50 p-5 rounded-2xl mb-6 text-sm italic text-slate-600",children:['"',Z.description,'"']}),E.jsxs("div",{className:"flex gap-3",children:[E.jsx("button",{onClick:()=>S(Z),className:"flex-1 bg-emerald-600 text-white py-3 rounded-xl font-bold",children:" "}),E.jsx("button",{onClick:()=>{const dt=prompt(" :");dt&&M(Z.id,dt)},className:"flex-1 border-2 border-slate-100 py-3 rounded-xl font-bold text-slate-400 hover:text-red-500",children:""})]})]},Z.id))})]}),H==="schools"&&E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 text-right",children:[E.jsx("div",{className:"lg:col-span-1",children:E.jsxs("div",{className:"bg-white p-6 rounded-[2rem] shadow-sm border",children:[E.jsxs("h3",{className:"font-bold mb-4 flex items-center gap-2",children:[E.jsx(wN,{size:18}),"  "]}),E.jsx("textarea",{className:"w-full h-40 p-4 bg-slate-50 rounded-xl mb-4 text-xs font-mono text-right",placeholder:" 		",value:i,onChange:Z=>a(Z.target.value)}),E.jsx("button",{onClick:()=>alert(" ..."),className:"w-full bg-blue-600 text-white py-3 rounded-xl font-bold",children:" "})]})}),E.jsx("div",{className:"lg:col-span-2",children:E.jsx("div",{className:"bg-white rounded-[2rem] shadow-sm border overflow-hidden",children:E.jsxs("table",{className:"w-full text-right",children:[E.jsx("thead",{className:"bg-slate-50 text-[10px] uppercase font-black tracking-widest text-slate-400",children:E.jsxs("tr",{children:[E.jsx("th",{className:"p-4",children:""}),E.jsx("th",{className:"p-4",children:""}),E.jsx("th",{className:"p-4 text-center",children:""})]})}),E.jsx("tbody",{className:"divide-y text-sm",children:s.map(Z=>E.jsxs("tr",{className:"hover:bg-slate-50",children:[E.jsx("td",{className:"p-4 font-bold",children:Z.name}),E.jsx("td",{className:"p-4 font-mono",children:Z.semel}),E.jsxs("td",{className:"p-4 flex justify-center gap-2",children:[E.jsx("button",{onClick:()=>d(Z),className:"p-2 text-blue-600",children:E.jsx(H1,{size:16})}),E.jsx("button",{onClick:()=>c(Z.id),className:"p-2 text-red-500",children:E.jsx(ug,{size:16})})]})]},Z.id))})]})})})]})]})]})},kN=({setView:s,filters:t,setFilters:i,filteredPrograms:a,toggleFavorite:o,savedProgramIds:c,setSelectedProgram:d,user:p,handleDeleteProgram:_,notifications:y,setRandomSeed:A})=>E.jsxs("div",{className:"min-h-screen bg-slate-50 pb-20",dir:"rtl",children:[E.jsx(cg,{setView:s,user:p,notifications:y}),E.jsxs("main",{className:"container mx-auto px-6 p-4 max-w-7xl",children:[E.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6 mb-10 mt-10 text-right",children:[E.jsxs("div",{children:[E.jsxs("h2",{className:"text-4xl font-black text-slate-800",children:[", ",p?.name]}),E.jsx("p",{className:"text-slate-500 font-medium",children:"         ."})]}),E.jsxs("div",{className:"flex gap-4",children:[E.jsxs("button",{onClick:()=>A(Math.random()),className:"flex items-center gap-2 bg-slate-200 text-slate-700 px-6 py-5 rounded-2xl font-black transition-all hover:bg-slate-300",children:[E.jsx(mN,{size:20}),"   "]}),!p?.isProvider&&E.jsxs("button",{onClick:()=>s("add"),className:"flex items-center gap-2 bg-emerald-600 hover:bg-emerald-700 text-white px-10 py-5 rounded-2xl font-black shadow-xl transition-transform hover:-translate-y-1 text-lg",children:[E.jsx(fN,{size:24}),"   "]})]})]}),E.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] shadow-sm border border-slate-200 mb-12 space-y-6 text-right",children:[E.jsxs("div",{className:"flex flex-wrap gap-6 items-end",children:[E.jsxs("div",{className:"flex-1 min-w-[300px] relative",children:[E.jsx(pN,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-300",size:24}),E.jsx("input",{type:"text",placeholder:"  (, , )...",className:"w-full pr-14 pl-6 py-4 bg-slate-50 border-none rounded-2xl outline-none focus:ring-2 focus:ring-blue-500 text-right font-medium text-lg",value:t.search,onChange:S=>i({...t,search:S.target.value})})]}),E.jsxs("div",{className:"w-full sm:w-auto",children:[E.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase block mb-2 mr-2",children:" "}),E.jsxs("select",{className:"p-4 bg-slate-50 border-none rounded-2xl font-bold text-slate-700 min-w-[150px]",value:t.location,onChange:S=>i({...t,location:S.target.value}),children:[E.jsx("option",{value:"all",children:" "}),E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"",children:""})]})]}),E.jsxs("div",{className:"w-full sm:w-auto",children:[E.jsx("label",{className:"text-[10px] font-black text-slate-400 uppercase block mb-2 mr-2",children:" "}),E.jsxs("select",{className:"p-4 bg-slate-50 border-none rounded-2xl font-bold text-slate-700 min-w-[150px]",value:t.providerType,onChange:S=>i({...t,providerType:S.target.value}),children:[E.jsx("option",{value:"all",children:""}),E.jsx("option",{value:"",children:""}),E.jsx("option",{value:" ",children:" "})]})]})]}),E.jsxs("div",{className:"flex flex-wrap gap-8 pt-6 border-t border-slate-50 items-center justify-end",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("span",{className:"text-xs font-black text-slate-400 uppercase tracking-tighter",children:"  ():"}),E.jsx("div",{className:"flex gap-1.5",children:[1,2,3,4,5].map(S=>E.jsx("button",{onClick:()=>i({...t,minRating:S}),className:"transition-transform hover:scale-125",children:E.jsx(as,{size:18,fill:S<=t.minRating?"#f59e0b":"none",className:S<=t.minRating?"text-amber-500":"text-slate-200"})},S))})]}),E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("span",{className:"text-xs font-black text-slate-400 uppercase tracking-tighter",children:"  ():"}),E.jsx("div",{className:"flex gap-1.5",children:[1,2,3,4,5].map(S=>E.jsx("button",{onClick:()=>i({...t,minReviewerRating:S}),className:"transition-transform hover:scale-125",children:E.jsx(as,{size:18,fill:S<=t.minReviewerRating?"#10b981":"none",className:S<=t.minReviewerRating?"text-emerald-500":"text-slate-200"})},S))})]}),E.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group bg-slate-50 px-6 py-3 rounded-full",children:[E.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded-md text-purple-600",checked:t.zalashOnly,onChange:S=>i({...t,zalashOnly:S.target.checked})}),E.jsx("span",{className:"text-sm font-black text-slate-700",children:'  "'})]})]})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10",children:a.map(S=>E.jsxs("div",{onClick:()=>d(S),className:"bg-white rounded-[2rem] shadow-sm border overflow-hidden hover:shadow-2xl transition-all group cursor-pointer relative text-right",children:[E.jsxs("div",{className:"absolute top-5 left-5 flex gap-2 z-10",children:[!p?.isAdmin&&!p?.isProvider&&E.jsx("button",{onClick:M=>o(M,S.id),className:`p-2.5 rounded-full transition-all ${c.includes(S.id)?"bg-rose-500 text-white":"bg-white/90 backdrop-blur shadow-sm text-slate-300 hover:text-rose-400"}`,children:E.jsx(B1,{size:18,fill:c.includes(S.id)?"currentColor":"none"})}),p?.isAdmin&&E.jsx("button",{onClick:M=>{M.stopPropagation(),_(S.id)},className:"p-2.5 rounded-full bg-white/90 text-red-500 hover:bg-red-500 hover:text-white transition-all",children:E.jsx(ug,{size:18})})]}),E.jsx("div",{className:`h-2.5 ${S.recommends?"bg-emerald-500":"bg-rose-500"}`}),E.jsxs("div",{className:"p-8",children:[E.jsx("h3",{className:"font-black text-2xl group-hover:text-blue-700 mb-4",children:S.name}),E.jsxs("div",{className:"flex gap-4 mb-4",children:[E.jsxs("div",{className:"flex text-amber-500 items-center gap-1",children:[E.jsx(as,{size:14,fill:"currentColor"}),E.jsxs("span",{className:"text-xs font-black",children:[S.rating,".0"]})]}),E.jsxs("div",{className:"flex text-emerald-500 items-center gap-1",children:[E.jsx(as,{size:14,fill:"currentColor"}),E.jsx("span",{className:"text-xs font-black",children:S.avgReviewerRating>0?`${S.avgReviewerRating} ()`:" "})]})]}),E.jsx("p",{className:"text-slate-500 text-sm line-clamp-3 mb-6 leading-relaxed h-15",children:S.description}),E.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[E.jsxs("span",{className:"text-[10px] bg-slate-100 text-slate-600 px-4 py-1.5 rounded-full font-black uppercase flex items-center gap-1",children:[E.jsx(q1,{size:12})," ",S.location||" "]}),E.jsxs("span",{className:"text-[10px] bg-blue-50 text-blue-700 px-4 py-1.5 rounded-full font-black uppercase flex items-center gap-1",children:[E.jsx(L1,{size:12})," ",S.providerType]})]}),E.jsxs("div",{className:"flex justify-between items-center pt-6 border-t text-[10px] text-slate-400 font-black uppercase",children:[E.jsx("span",{children:S.schoolName}),E.jsxs("span",{children:[S.comments?.length||0," "]})]})]})]},S.id))})]})]}),UN=({setView:s,handleAddProgram:t,formData:i,setFormData:a,user:o})=>E.jsxs("div",{className:"min-h-screen bg-slate-50 pb-12",dir:"rtl",children:[E.jsxs("header",{className:"bg-white border-b p-6 sticky top-0 z-30 flex items-center gap-4 shadow-sm text-right",children:[E.jsx("button",{onClick:()=>s("dashboard"),className:"p-3 hover:bg-slate-100 rounded-full",children:E.jsx(P1,{size:28})}),E.jsx("h1",{className:"text-2xl font-black text-slate-800",children:"  "})]}),E.jsx("main",{className:"container mx-auto p-4 max-w-4xl mt-12 text-right",children:E.jsxs("form",{onSubmit:t,className:"bg-white p-12 rounded-[3rem] shadow-2xl space-y-10 text-right",children:[E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[E.jsxs("div",{className:"col-span-2",children:[E.jsx("label",{className:"block text-sm font-black mb-3 text-slate-800",children:"  /   *"}),E.jsx("input",{required:!0,className:"w-full p-5 bg-slate-50 border-none rounded-2xl outline-none focus:ring-2 focus:ring-blue-500 font-black text-xl text-right",placeholder:":   ",value:i.name,onChange:c=>a({...i,name:c.target.value})})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-black mb-3 text-slate-800",children:"  *"}),E.jsxs("select",{required:!0,className:"w-full p-5 bg-slate-50 border-none rounded-2xl font-black text-right",value:i.location,onChange:c=>a({...i,location:c.target.value}),children:[E.jsx("option",{value:" ",children:" "}),E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"",children:""}),E.jsx("option",{value:"",children:""})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-black mb-3 text-slate-800",children:"  *"}),E.jsxs("select",{required:!0,className:"w-full p-5 bg-slate-50 border-none rounded-2xl font-black text-right",value:i.providerType,onChange:c=>a({...i,providerType:c.target.value}),children:[E.jsx("option",{value:"",children:""}),E.jsx("option",{value:" ",children:" "})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-black mb-3 text-slate-800",children:"  "}),E.jsx("input",{className:"w-full p-5 bg-slate-50 border-none rounded-2xl outline-none text-right",value:i.contactPerson,onChange:c=>a({...i,contactPerson:c.target.value})})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-black mb-3 text-slate-800",children:"   "}),E.jsx("input",{type:"tel",className:"w-full p-5 bg-slate-50 border-none rounded-2xl outline-none text-right",value:i.contactPhone,onChange:c=>a({...i,contactPhone:c.target.value})})]}),E.jsxs("div",{className:"col-span-2",children:[E.jsx("label",{className:"block text-sm font-black mb-3 text-slate-800",children:"   (1-5)"}),E.jsx("div",{className:"flex gap-4 p-4 bg-slate-50 rounded-2xl justify-center",children:[1,2,3,4,5].map(c=>E.jsx("button",{type:"button",onClick:()=>a({...i,rating:c}),children:E.jsx(as,{size:32,fill:c<=i.rating?"#f59e0b":"none",className:c<=i.rating?"text-amber-500":"text-slate-200"})},c))})]})]}),E.jsxs("div",{children:[E.jsx("label",{className:"block text-sm font-black mb-3 text-slate-800",children:"   () *"}),E.jsx("textarea",{required:!0,rows:"5",className:"w-full p-6 bg-slate-50 border-none rounded-3xl outline-none text-right font-medium",placeholder:"   ...",value:i.description,onChange:c=>a({...i,description:c.target.value})})]}),E.jsx("button",{type:"submit",className:"w-full bg-blue-700 text-white font-black py-6 rounded-3xl shadow-2xl text-xl",children:"   "})]})})]}),jN=({selectedProgram:s,setView:t,addComment:i,user:a,removeComment:o,editComment:c,notifications:d})=>{const[p,_]=Bt.useState(null),[y,A]=Bt.useState(""),[S,M]=Bt.useState(5),H=$=>{_($.id),A($.text)},W=async()=>{await c(s.id,p,y),_(null)};return E.jsxs("div",{className:"min-h-screen bg-slate-50 text-right",dir:"rtl",children:[E.jsx(cg,{setView:t,user:a,notifications:d}),E.jsx("main",{className:"container mx-auto p-6 max-w-6xl mt-12 text-right",children:E.jsxs("div",{className:"bg-white p-12 md:p-16 rounded-[3.5rem] shadow-2xl space-y-12 border relative overflow-hidden text-right",children:[E.jsx("div",{className:`absolute top-0 right-0 left-0 h-3 ${s.recommends?"bg-emerald-500":"bg-rose-500"}`}),E.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start gap-12",children:[E.jsxs("div",{className:"flex-1 space-y-8",children:[E.jsxs("div",{className:"flex flex-wrap items-center gap-4 justify-start",children:[s.isZalash&&E.jsx("span",{className:"bg-purple-600 text-white px-6 py-2 rounded-full text-xs font-black uppercase",children:' "'}),E.jsxs("span",{className:"text-sm font-black text-slate-400 flex items-center gap-2 bg-slate-50 px-4 py-2 rounded-full",children:[E.jsx(q1,{size:16})," ",s.location]}),E.jsxs("span",{className:"text-sm font-black text-blue-600 flex items-center gap-2 bg-blue-50 px-4 py-2 rounded-full",children:[E.jsx(L1,{size:16})," ",s.providerType]})]}),E.jsx("h2",{className:"text-5xl font-black text-slate-800 leading-tight",children:s.name}),E.jsx("p",{className:"text-2xl leading-relaxed text-slate-600 font-medium",children:s.description}),(s.contactPerson||s.contactPhone)&&E.jsxs("div",{className:"bg-blue-50 p-6 rounded-3xl border border-blue-100 mt-6",children:[E.jsx("h4",{className:"font-black text-blue-900 mb-2",children:" :"}),E.jsxs("div",{className:"flex gap-6",children:[s.contactPerson&&E.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-bold",children:[E.jsx(RN,{size:18})," ",s.contactPerson]}),s.contactPhone&&E.jsxs("div",{className:"flex items-center gap-2 text-slate-700 font-bold",children:[E.jsx(cN,{size:18})," ",s.contactPhone]})]})]})]}),E.jsxs("div",{className:"bg-slate-50 p-10 rounded-[2.5rem] w-full lg:w-80 border shadow-inner",children:[E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("span",{className:"text-xs font-bold text-slate-400",children:" :"}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsxs("span",{className:"font-black text-2xl",children:[s.rating,".0"]}),E.jsx(as,{className:"text-amber-500",fill:"currentColor",size:24})]})]}),E.jsxs("div",{className:"flex items-center justify-between",children:[E.jsx("span",{className:"text-xs font-bold text-slate-400",children:" :"}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("span",{className:"font-black text-2xl text-emerald-600",children:s.avgReviewerRating||"0.0"}),E.jsx(as,{className:"text-emerald-500",fill:"currentColor",size:24})]})]})]}),E.jsxs("div",{className:"pt-8 border-t mt-6 text-right",children:[E.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase",children:"  "}),E.jsx("p",{className:"font-black text-blue-900 text-xl",children:s.schoolName})]})]})]}),E.jsxs("div",{className:"border-t pt-16 text-right",children:[E.jsxs("h3",{className:"text-3xl font-black mb-10 flex items-center gap-4 text-slate-800 justify-start",children:[E.jsx(oN,{className:"text-blue-600",size:32}),"    (",s.comments?.length||0,")"]}),E.jsx("div",{className:"space-y-6 mb-16",children:s.comments?.map($=>E.jsxs("div",{className:"bg-slate-50 p-8 rounded-[2rem] border-r-8 border-blue-600 flex justify-between items-start group",children:[E.jsxs("div",{className:"flex-1 ml-6 text-right",children:[E.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[E.jsxs("div",{className:"font-black text-blue-900 text-sm",children:[$.school," ",$.edited&&E.jsx("span",{className:"text-[10px] text-slate-400 mr-2 font-normal",children:"()"})]}),E.jsxs("div",{className:"flex text-emerald-500",children:[E.jsx(as,{size:14,fill:"currentColor"})," ",E.jsx("span",{className:"text-xs font-black mr-1",children:$.rating||5})]})]}),p===$.id?E.jsxs("div",{className:"flex flex-col gap-3",children:[E.jsx("textarea",{className:"w-full p-4 border rounded-xl text-right",value:y,onChange:Z=>A(Z.target.value)}),E.jsxs("div",{className:"flex gap-2",children:[E.jsx("button",{onClick:W,className:"bg-blue-600 text-white px-4 py-1 rounded-lg text-sm font-bold",children:""}),E.jsx("button",{onClick:()=>_(null),className:"bg-slate-200 px-4 py-1 rounded-lg text-sm font-bold",children:""})]})]}):E.jsx("p",{className:"text-slate-700 text-lg font-medium",children:$.text})]}),E.jsxs("div",{className:"flex gap-2",children:[$.schoolId===a.id&&p!==$.id&&E.jsx("button",{onClick:()=>H($),className:"p-2 text-blue-400 hover:text-blue-600 opacity-0 group-hover:opacity-100 transition-opacity",children:E.jsx(H1,{size:18})}),(a?.isAdmin||$.schoolId===a.id)&&E.jsx("button",{onClick:()=>o(s.id,$.id),className:"p-3 text-red-500 hover:bg-red-50 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity",children:E.jsx(ug,{size:20})})]})]},$.id))}),!a?.isProvider&&E.jsxs("div",{className:"bg-blue-50/50 p-10 rounded-[3rem] border shadow-inner",children:[E.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-6 gap-4",children:[E.jsx("label",{className:"block text-sm font-black text-blue-900 tracking-wide uppercase",children:"    :"}),E.jsxs("div",{className:"flex items-center gap-3 bg-white px-6 py-2 rounded-2xl shadow-sm border border-blue-100",children:[E.jsx("span",{className:"text-xs font-bold text-slate-400",children:" :"}),E.jsx("div",{className:"flex gap-1",children:[1,2,3,4,5].map($=>E.jsx("button",{onClick:()=>M($),className:"transition-transform hover:scale-125",children:E.jsx(as,{size:24,fill:$<=S?"#10b981":"none",className:$<=S?"text-emerald-500":"text-slate-200"})},$))})]})]}),E.jsx("textarea",{id:"newComment",className:"w-full p-6 bg-white border rounded-3xl outline-none text-right font-medium text-lg h-32 mb-6",placeholder:"    ?"}),E.jsx("button",{onClick:()=>{const $=document.getElementById("newComment").value;$&&(i(s.id,$,S),document.getElementById("newComment").value="")},className:"bg-blue-700 hover:bg-blue-800 text-white px-12 py-5 rounded-2xl font-black shadow-2xl text-lg",children:"  "})]})]})]})})]})},LN=({setView:s,user:t,programs:i,savedProgramIds:a,toggleFavorite:o,setSelectedProgram:c,notifications:d})=>{const p=i.filter(y=>y.schoolId===t?.id),_=i.filter(y=>a.includes(y.id));return E.jsxs("div",{className:"min-h-screen bg-slate-50 pb-12",dir:"rtl",children:[E.jsx(cg,{setView:s,user:t,notifications:d}),E.jsxs("main",{className:"container mx-auto p-8 max-w-6xl mt-10 text-right",children:[E.jsx("h2",{className:"text-4xl font-black text-slate-800 mb-2",children:" "}),E.jsxs("p",{className:"text-slate-500 font-bold mb-12",children:[t?.name," |  "]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[E.jsxs("div",{className:"bg-white rounded-[2.5rem] shadow-sm border p-8",children:[E.jsxs("h3",{className:"text-2xl font-black mb-8 flex items-center gap-3 text-blue-800",children:[E.jsx(iN,{size:24}),"   (",p.length,")"]}),p.map(y=>E.jsxs("div",{className:"flex justify-between items-center p-6 bg-slate-50 rounded-3xl mb-4 cursor-pointer",onClick:()=>c(y),children:[E.jsxs("div",{className:"text-right",children:[E.jsx("h4",{className:"font-black text-lg",children:y.name}),E.jsx("p",{className:"text-xs text-slate-400",children:y.createdAt})]}),E.jsx(P1,{className:"text-blue-600"})]},y.id))]}),E.jsxs("div",{className:"bg-white rounded-[2.5rem] shadow-sm border p-8",children:[E.jsxs("h3",{className:"text-2xl font-black mb-8 flex items-center gap-3 text-rose-600",children:[E.jsx(HC,{size:24}),"   (",_.length,")"]}),_.map(y=>E.jsxs("div",{className:"flex justify-between items-center p-6 bg-rose-50/30 rounded-3xl mb-4 cursor-pointer",onClick:()=>c(y),children:[E.jsxs("div",{className:"text-right",children:[E.jsx("h4",{className:"font-black text-lg",children:y.name}),E.jsxs("p",{className:"text-[10px] text-slate-400",children:[": ",y.schoolName]})]}),E.jsx("button",{onClick:A=>{A.stopPropagation(),o(A,y.id)},className:"p-2 text-rose-600",children:E.jsx(B1,{fill:"currentColor"})})]},y.id))]})]})]})]})},PN=()=>E.jsxs("footer",{className:"w-full bg-slate-100 text-slate-400 py-16 mt-20 text-center border-t",children:[E.jsx("p",{className:"text-xs font-black uppercase tracking-widest mb-2 opacity-60",children:"   "}),E.jsx("p",{className:"font-black text-slate-600 text-2xl tracking-tighter",children:"   "})]});Mb.createRoot(document.getElementById("root")).render(E.jsx(wb.StrictMode,{children:E.jsx(IN,{})}));
