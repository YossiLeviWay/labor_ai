(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function p0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Id={exports:{}},go={};var D_;function bb(){if(D_)return go;D_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var y in o)y!=="key"&&(c[y]=o[y])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:c}}return go.Fragment=t,go.jsx=i,go.jsxs=i,go}var O_;function Ab(){return O_||(O_=1,Id.exports=bb()),Id.exports}var A=Ab(),xd={exports:{}},Tt={};var M_;function Sb(){if(M_)return Tt;M_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),V=Symbol.iterator;function Q(x){return x===null||typeof x!="object"?null:(x=V&&x[V]||x["@@iterator"],typeof x=="function"?x:null)}var $={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nt=Object.assign,J={};function dt(x,H,W){this.props=x,this.context=H,this.refs=J,this.updater=W||$}dt.prototype.isReactComponent={},dt.prototype.setState=function(x,H){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,H,"setState")},dt.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function vt(){}vt.prototype=dt.prototype;function gt(x,H,W){this.props=x,this.context=H,this.refs=J,this.updater=W||$}var qt=gt.prototype=new vt;qt.constructor=gt,nt(qt,dt.prototype),qt.isPureReactComponent=!0;var Jt=Array.isArray;function xt(){}var N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function I(x,H,W){var it=W.ref;return{$$typeof:r,type:x,key:H,ref:it!==void 0?it:null,props:W}}function M(x,H){return I(x.type,H,x.props)}function D(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function U(x){var H={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(W){return H[W]})}var R=/\/+/g;function Wt(x,H){return typeof x=="object"&&x!==null&&x.key!=null?U(""+x.key):H.toString(36)}function he(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(xt,xt):(x.status="pending",x.then(function(H){x.status==="pending"&&(x.status="fulfilled",x.value=H)},function(H){x.status==="pending"&&(x.status="rejected",x.reason=H)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function G(x,H,W,it,yt){var wt=typeof x;(wt==="undefined"||wt==="boolean")&&(x=null);var Ut=!1;if(x===null)Ut=!0;else switch(wt){case"bigint":case"string":case"number":Ut=!0;break;case"object":switch(x.$$typeof){case r:case t:Ut=!0;break;case b:return Ut=x._init,G(Ut(x._payload),H,W,it,yt)}}if(Ut)return yt=yt(x),Ut=it===""?"."+Wt(x,0):it,Jt(yt)?(W="",Ut!=null&&(W=Ut.replace(R,"$&/")+"/"),G(yt,H,W,"",function(lr){return lr})):yt!=null&&(D(yt)&&(yt=M(yt,W+(yt.key==null||x&&x.key===yt.key?"":(""+yt.key).replace(R,"$&/")+"/")+Ut)),H.push(yt)),1;Ut=0;var xe=it===""?".":it+":";if(Jt(x))for(var se=0;se<x.length;se++)it=x[se],wt=xe+Wt(it,se),Ut+=G(it,H,W,wt,yt);else if(se=Q(x),typeof se=="function")for(x=se.call(x),se=0;!(it=x.next()).done;)it=it.value,wt=xe+Wt(it,se++),Ut+=G(it,H,W,wt,yt);else if(wt==="object"){if(typeof x.then=="function")return G(he(x),H,W,it,yt);throw H=String(x),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return Ut}function et(x,H,W){if(x==null)return x;var it=[],yt=0;return G(x,it,"","",function(wt){return H.call(W,wt,yt++)}),it}function ut(x){if(x._status===-1){var H=x._result;H=H(),H.then(function(W){(x._status===0||x._status===-1)&&(x._status=1,x._result=W)},function(W){(x._status===0||x._status===-1)&&(x._status=2,x._result=W)}),x._status===-1&&(x._status=0,x._result=H)}if(x._status===1)return x._result.default;throw x._result}var rt=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},ct={map:et,forEach:function(x,H,W){et(x,function(){H.apply(this,arguments)},W)},count:function(x){var H=0;return et(x,function(){H++}),H},toArray:function(x){return et(x,function(H){return H})||[]},only:function(x){if(!D(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return Tt.Activity=S,Tt.Children=ct,Tt.Component=dt,Tt.Fragment=i,Tt.Profiler=o,Tt.PureComponent=gt,Tt.StrictMode=a,Tt.Suspense=_,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(x){return N.H.useMemoCache(x)}},Tt.cache=function(x){return function(){return x.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(x,H,W){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var it=nt({},x.props),yt=x.key;if(H!=null)for(wt in H.key!==void 0&&(yt=""+H.key),H)!w.call(H,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&H.ref===void 0||(it[wt]=H[wt]);var wt=arguments.length-2;if(wt===1)it.children=W;else if(1<wt){for(var Ut=Array(wt),xe=0;xe<wt;xe++)Ut[xe]=arguments[xe+2];it.children=Ut}return I(x.type,yt,it)},Tt.createContext=function(x){return x={$$typeof:d,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:c,_context:x},x},Tt.createElement=function(x,H,W){var it,yt={},wt=null;if(H!=null)for(it in H.key!==void 0&&(wt=""+H.key),H)w.call(H,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(yt[it]=H[it]);var Ut=arguments.length-2;if(Ut===1)yt.children=W;else if(1<Ut){for(var xe=Array(Ut),se=0;se<Ut;se++)xe[se]=arguments[se+2];yt.children=xe}if(x&&x.defaultProps)for(it in Ut=x.defaultProps,Ut)yt[it]===void 0&&(yt[it]=Ut[it]);return I(x,wt,yt)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(x){return{$$typeof:y,render:x}},Tt.isValidElement=D,Tt.lazy=function(x){return{$$typeof:b,_payload:{_status:-1,_result:x},_init:ut}},Tt.memo=function(x,H){return{$$typeof:p,type:x,compare:H===void 0?null:H}},Tt.startTransition=function(x){var H=N.T,W={};N.T=W;try{var it=x(),yt=N.S;yt!==null&&yt(W,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(xt,rt)}catch(wt){rt(wt)}finally{H!==null&&W.types!==null&&(H.types=W.types),N.T=H}},Tt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Tt.use=function(x){return N.H.use(x)},Tt.useActionState=function(x,H,W){return N.H.useActionState(x,H,W)},Tt.useCallback=function(x,H){return N.H.useCallback(x,H)},Tt.useContext=function(x){return N.H.useContext(x)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(x,H){return N.H.useDeferredValue(x,H)},Tt.useEffect=function(x,H){return N.H.useEffect(x,H)},Tt.useEffectEvent=function(x){return N.H.useEffectEvent(x)},Tt.useId=function(){return N.H.useId()},Tt.useImperativeHandle=function(x,H,W){return N.H.useImperativeHandle(x,H,W)},Tt.useInsertionEffect=function(x,H){return N.H.useInsertionEffect(x,H)},Tt.useLayoutEffect=function(x,H){return N.H.useLayoutEffect(x,H)},Tt.useMemo=function(x,H){return N.H.useMemo(x,H)},Tt.useOptimistic=function(x,H){return N.H.useOptimistic(x,H)},Tt.useReducer=function(x,H,W){return N.H.useReducer(x,H,W)},Tt.useRef=function(x){return N.H.useRef(x)},Tt.useState=function(x){return N.H.useState(x)},Tt.useSyncExternalStore=function(x,H,W){return N.H.useSyncExternalStore(x,H,W)},Tt.useTransition=function(){return N.H.useTransition()},Tt.version="19.2.3",Tt}var V_;function bm(){return V_||(V_=1,xd.exports=Sb()),xd.exports}var le=bm();const wb=p0(le);var Nd={exports:{}},po={},Dd={exports:{}},Od={};var k_;function Rb(){return k_||(k_=1,(function(r){function t(G,et){var ut=G.length;G.push(et);t:for(;0<ut;){var rt=ut-1>>>1,ct=G[rt];if(0<o(ct,et))G[rt]=et,G[ut]=ct,ut=rt;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var et=G[0],ut=G.pop();if(ut!==et){G[0]=ut;t:for(var rt=0,ct=G.length,x=ct>>>1;rt<x;){var H=2*(rt+1)-1,W=G[H],it=H+1,yt=G[it];if(0>o(W,ut))it<ct&&0>o(yt,W)?(G[rt]=yt,G[it]=ut,rt=it):(G[rt]=W,G[H]=ut,rt=H);else if(it<ct&&0>o(yt,ut))G[rt]=yt,G[it]=ut,rt=it;else break t}}return et}function o(G,et){var ut=G.sortIndex-et.sortIndex;return ut!==0?ut:G.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,y=d.now();r.unstable_now=function(){return d.now()-y}}var _=[],p=[],b=1,S=null,V=3,Q=!1,$=!1,nt=!1,J=!1,dt=typeof setTimeout=="function"?setTimeout:null,vt=typeof clearTimeout=="function"?clearTimeout:null,gt=typeof setImmediate<"u"?setImmediate:null;function qt(G){for(var et=i(p);et!==null;){if(et.callback===null)a(p);else if(et.startTime<=G)a(p),et.sortIndex=et.expirationTime,t(_,et);else break;et=i(p)}}function Jt(G){if(nt=!1,qt(G),!$)if(i(_)!==null)$=!0,xt||(xt=!0,U());else{var et=i(p);et!==null&&he(Jt,et.startTime-G)}}var xt=!1,N=-1,w=5,I=-1;function M(){return J?!0:!(r.unstable_now()-I<w)}function D(){if(J=!1,xt){var G=r.unstable_now();I=G;var et=!0;try{t:{$=!1,nt&&(nt=!1,vt(N),N=-1),Q=!0;var ut=V;try{e:{for(qt(G),S=i(_);S!==null&&!(S.expirationTime>G&&M());){var rt=S.callback;if(typeof rt=="function"){S.callback=null,V=S.priorityLevel;var ct=rt(S.expirationTime<=G);if(G=r.unstable_now(),typeof ct=="function"){S.callback=ct,qt(G),et=!0;break e}S===i(_)&&a(_),qt(G)}else a(_);S=i(_)}if(S!==null)et=!0;else{var x=i(p);x!==null&&he(Jt,x.startTime-G),et=!1}}break t}finally{S=null,V=ut,Q=!1}et=void 0}}finally{et?U():xt=!1}}}var U;if(typeof gt=="function")U=function(){gt(D)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Wt=R.port2;R.port1.onmessage=D,U=function(){Wt.postMessage(null)}}else U=function(){dt(D,0)};function he(G,et){N=dt(function(){G(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return V},r.unstable_next=function(G){switch(V){case 1:case 2:case 3:var et=3;break;default:et=V}var ut=V;V=et;try{return G()}finally{V=ut}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(G,et){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ut=V;V=G;try{return et()}finally{V=ut}},r.unstable_scheduleCallback=function(G,et,ut){var rt=r.unstable_now();switch(typeof ut=="object"&&ut!==null?(ut=ut.delay,ut=typeof ut=="number"&&0<ut?rt+ut:rt):ut=rt,G){case 1:var ct=-1;break;case 2:ct=250;break;case 5:ct=1073741823;break;case 4:ct=1e4;break;default:ct=5e3}return ct=ut+ct,G={id:b++,callback:et,priorityLevel:G,startTime:ut,expirationTime:ct,sortIndex:-1},ut>rt?(G.sortIndex=ut,t(p,G),i(_)===null&&G===i(p)&&(nt?(vt(N),N=-1):nt=!0,he(Jt,ut-rt))):(G.sortIndex=ct,t(_,G),$||Q||($=!0,xt||(xt=!0,U()))),G},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(G){var et=V;return function(){var ut=V;V=et;try{return G.apply(this,arguments)}finally{V=ut}}}})(Od)),Od}var U_;function Cb(){return U_||(U_=1,Dd.exports=Rb()),Dd.exports}var Md={exports:{}},Ye={};var L_;function Ib(){if(L_)return Ye;L_=1;var r=bm();function t(_){var p="https://react.dev/errors/"+_;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+_+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(_,p,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:_,containerInfo:p,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function y(_,p){if(_==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ye.createPortal=function(_,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return c(_,p,null,b)},Ye.flushSync=function(_){var p=d.T,b=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=p,a.p=b,a.d.f()}},Ye.preconnect=function(_,p){typeof _=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,a.d.C(_,p))},Ye.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},Ye.preinit=function(_,p){if(typeof _=="string"&&p&&typeof p.as=="string"){var b=p.as,S=y(b,p.crossOrigin),V=typeof p.integrity=="string"?p.integrity:void 0,Q=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;b==="style"?a.d.S(_,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:V,fetchPriority:Q}):b==="script"&&a.d.X(_,{crossOrigin:S,integrity:V,fetchPriority:Q,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Ye.preinitModule=function(_,p){if(typeof _=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var b=y(p.as,p.crossOrigin);a.d.M(_,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&a.d.M(_)},Ye.preload=function(_,p){if(typeof _=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var b=p.as,S=y(b,p.crossOrigin);a.d.L(_,b,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Ye.preloadModule=function(_,p){if(typeof _=="string")if(p){var b=y(p.as,p.crossOrigin);a.d.m(_,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else a.d.m(_)},Ye.requestFormReset=function(_){a.d.r(_)},Ye.unstable_batchedUpdates=function(_,p){return _(p)},Ye.useFormState=function(_,p,b){return d.H.useFormState(_,p,b)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.3",Ye}var P_;function xb(){if(P_)return Md.exports;P_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Md.exports=Ib(),Md.exports}var z_;function Nb(){if(z_)return po;z_=1;var r=Cb(),t=bm(),i=xb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(a(188))}function p(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,l=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return _(h),e;if(f===l)return _(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,l=f;break}if(E===l){g=!0,l=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,l=h;break}if(E===l){g=!0,l=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,V=Symbol.for("react.element"),Q=Symbol.for("react.transitional.element"),$=Symbol.for("react.portal"),nt=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),dt=Symbol.for("react.profiler"),vt=Symbol.for("react.consumer"),gt=Symbol.for("react.context"),qt=Symbol.for("react.forward_ref"),Jt=Symbol.for("react.suspense"),xt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function Wt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nt:return"Fragment";case dt:return"Profiler";case J:return"StrictMode";case Jt:return"Suspense";case xt:return"SuspenseList";case I:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case $:return"Portal";case gt:return e.displayName||"Context";case vt:return(e._context.displayName||"Context")+".Consumer";case qt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:Wt(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return Wt(e(n))}catch{}}return null}var he=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ut={pending:!1,data:null,method:null,action:null},rt=[],ct=-1;function x(e){return{current:e}}function H(e){0>ct||(e.current=rt[ct],rt[ct]=null,ct--)}function W(e,n){ct++,rt[ct]=e.current,e.current=n}var it=x(null),yt=x(null),wt=x(null),Ut=x(null);function xe(e,n){switch(W(wt,n),W(yt,e),W(it,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?t_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=t_(n),e=e_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}H(it),W(it,e)}function se(){H(it),H(yt),H(wt)}function lr(e){e.memoizedState!==null&&W(Ut,e);var n=it.current,s=e_(n,e.type);n!==s&&(W(yt,e),W(it,s))}function Xr(e){yt.current===e&&(H(it),H(yt)),Ut.current===e&&(H(Ut),co._currentValue=ut)}var Zr,Jr;function ti(e){if(Zr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Zr=n&&n[1]||"",Jr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zr+e+Jr}var cl=!1;function or(e,n){if(!e||cl)return"";cl=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var j=q}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(q){j=q}e.call(Y.prototype)}}else{try{throw Error()}catch(q){j=q}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&j&&typeof q.stack=="string")return[q.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var C=g.split(`
`),z=E.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===z.length)for(l=C.length-1,h=z.length-1;1<=l&&0<=h&&C[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==z[h]){var F=`
`+C[l].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=l&&0<=h);break}}}finally{cl=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?ti(s):""}function hl(e,n){switch(e.tag){case 26:case 27:case 5:return ti(e.type);case 16:return ti("Lazy");case 13:return e.child!==n&&n!==null?ti("Suspense Fallback"):ti("Suspense");case 19:return ti("SuspenseList");case 0:case 15:return or(e.type,!1);case 11:return or(e.type.render,!1);case 1:return or(e.type,!0);case 31:return ti("Activity");default:return""}}function fl(e){try{var n="",s=null;do n+=hl(e,s),s=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ye=Object.prototype.hasOwnProperty,Ne=r.unstable_scheduleCallback,rs=r.unstable_cancelCallback,xh=r.unstable_shouldYield,Fo=r.unstable_requestPaint,We=r.unstable_now,ur=r.unstable_getCurrentPriorityLevel,dl=r.unstable_ImmediatePriority,ml=r.unstable_UserBlockingPriority,as=r.unstable_NormalPriority,Nh=r.unstable_LowPriority,Qo=r.unstable_IdlePriority,Ko=r.log,Yo=r.unstable_setDisableYieldValue,zn=null,Pe=null;function Sn(e){if(typeof Ko=="function"&&Yo(e),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(zn,e)}catch{}}var fe=Math.clz32?Math.clz32:Zo,Xo=Math.log,$r=Math.LN2;function Zo(e){return e>>>=0,e===0?32:31-(Xo(e)/$r|0)|0}var ei=256,cr=262144,_e=4194304;function ni(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ii(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=ni(l):(g&=E,g!==0?h=ni(g):s||(s=E&~e,s!==0&&(h=ni(s))))):(E=l&~f,E!==0?h=ni(E):g!==0?h=ni(g):s||(s=l&~e,s!==0&&(h=ni(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function jn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Dh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jo(){var e=_e;return _e<<=1,(_e&62914560)===0&&(_e=4194304),e}function si(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function hr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Oh(e,n,s,l,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,z=e.hiddenUpdates;for(s=g&~s;0<s;){var F=31-fe(s),Y=1<<F;E[F]=0,C[F]=-1;var j=z[F];if(j!==null)for(z[F]=null,F=0;F<j.length;F++){var q=j[F];q!==null&&(q.lane&=-536870913)}s&=~Y}l!==0&&fr(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function fr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-fe(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function gl(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-fe(s),h=1<<l;h&n|e[l]&n&&(e[l]|=n),s&=~h}}function pl(e,n){var s=n&-n;return s=(s&42)!==0?1:dr(s),(s&(e.suspendedLanes|n))!==0?0:s}function dr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Oi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function $o(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:S_(e.type))}function Bn(e,n){var s=et.p;try{return et.p=e,n()}finally{et.p=s}}var qn=Math.random().toString(36).slice(2),ve="__reactFiber$"+qn,Ve="__reactProps$"+qn,ri="__reactContainer$"+qn,Wr="__reactEvents$"+qn,Mh="__reactListeners$"+qn,Wo="__reactHandles$"+qn,tu="__reactResources$"+qn,ai="__reactMarker$"+qn;function ta(e){delete e[ve],delete e[Ve],delete e[Wr],delete e[Mh],delete e[Wo]}function li(e){var n=e[ve];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ri]||s[ve]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=o_(e);e!==null;){if(s=e[ve])return s;e=o_(e)}return n}e=s,s=e.parentNode}return null}function wn(e){if(e=e[ve]||e[ri]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function mn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function oi(e){var n=e[tu];return n||(n=e[tu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ee(e){e[ai]=!0}var yl=new Set,_l={};function ui(e,n){ci(e,n),ci(e+"Capture",n)}function ci(e,n){for(_l[e]=n,e=0;e<n.length;e++)yl.add(n[e])}var vl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),El={},Tl={};function eu(e){return ye.call(Tl,e)?!0:ye.call(El,e)?!1:vl.test(e)?Tl[e]=!0:(El[e]=!0,!1)}function ea(e,n,s){if(eu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function gn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Te(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}function ke(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ls(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function bl(e,n,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Gt(e){if(!e._valueTracker){var n=ls(e)?"checked":"value";e._valueTracker=bl(e,n,""+e[n])}}function mr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=ls(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function hi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var gr=/[\n"\\]/g;function sn(e){return e.replace(gr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function na(e,n,s,l,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ke(n)):e.value!==""+ke(n)&&(e.value=""+ke(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Al(e,g,ke(n)):s!=null?Al(e,g,ke(s)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+ke(E):e.removeAttribute("name")}function nu(e,n,s,l,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Gt(e);return}s=s!=null?""+ke(s):"",n=n!=null?""+ke(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Gt(e)}function Al(e,n,s){n==="number"&&hi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function os(e,n,s,l){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&l&&(e[s].defaultSelected=!0)}else{for(s=""+ke(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function iu(e,n,s){if(n!=null&&(n=""+ke(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+ke(s):""}function us(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(he(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=ke(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),Gt(e)}function rn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var su=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sl(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||su.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function wl(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&Sl(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Sl(e,f,n[f])}function ia(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ru=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sa(e){return cs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Hn(){}var Rl=null;function Rn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hs=null,fi=null;function pr(e){var n=wn(e);if(n&&(e=n.stateNode)){var s=e[Ve]||null;t:switch(e=n.stateNode,n.type){case"input":if(na(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+sn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var h=l[Ve]||null;if(!h)throw Error(a(90));na(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&mr(l)}break t;case"textarea":iu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&os(e,!!s.multiple,n,!1)}}}var ra=!1;function fs(e,n,s){if(ra)return e(n,s);ra=!0;try{var l=e(n);return l}finally{if(ra=!1,(hs!==null||fi!==null)&&($u(),hs&&(n=hs,e=fi,fi=hs=null,pr(n),e)))for(n=0;n<e.length;n++)pr(e[n])}}function Gn(e,n){var s=e.stateNode;if(s===null)return null;var l=s[Ve]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yr=!1;if(Cn)try{var Kt={};Object.defineProperty(Kt,"passive",{get:function(){yr=!0}}),window.addEventListener("test",Kt,Kt),window.removeEventListener("test",Kt,Kt)}catch{yr=!1}var di=null,Cl=null,_r=null;function Il(){if(_r)return _r;var e,n=Cl,s=n.length,l,h="value"in di?di.value:di.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(l=1;l<=g&&n[s-l]===h[f-l];l++);return _r=h.slice(e,1<l?1-l:void 0)}function vr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Mi(){return!0}function Fn(){return!1}function ze(e){function n(s,l,h,f,g){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Mi:Fn,this.isPropagationStopped=Fn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Mi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Mi)},persist:function(){},isPersistent:Mi}),n}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mi=ze(Vi),ds=S({},Vi,{view:0,detail:0}),xl=ze(ds),ms,aa,gi,la=S({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gi&&(gi&&e.type==="mousemove"?(ms=e.screenX-gi.screenX,aa=e.screenY-gi.screenY):aa=ms=0,gi=e),ms)},movementY:function(e){return"movementY"in e?e.movementY:aa}}),Nl=ze(la),Er=S({},la,{dataTransfer:0}),au=ze(Er),lu=S({},ds,{relatedTarget:0}),Tr=ze(lu),Dl=S({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),ou=ze(Dl),oa=S({},Vi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uu=ze(oa),cu=S({},Vi,{data:0}),pi=ze(cu),hu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=du[e])?!!n[e]:!1}function gs(){return mu}var tn=S({},ds,{key:function(e){if(e.key){var n=hu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=vr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gs,charCode:function(e){return e.type==="keypress"?vr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),gu=ze(tn),pu=S({},la,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ki=ze(pu),u=S({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gs}),m=ze(u),v=S({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ze(v),L=S({},la,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=ze(L),tt=S({},Vi,{newState:0,oldState:0}),At=ze(tt),de=[9,13,27,32],jt=Cn&&"CompositionEvent"in window,re=null;Cn&&"documentMode"in document&&(re=document.documentMode);var In=Cn&&"TextEvent"in window&&!re,yi=Cn&&(!jt||re&&8<re&&11>=re),Qn=" ",Kn=!1;function br(e,n){switch(e){case"keyup":return de.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ua(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ca=!1;function QT(e,n){switch(e){case"compositionend":return ua(n);case"keypress":return n.which!==32?null:(Kn=!0,Qn);case"textInput":return e=n.data,e===Qn&&Kn?null:e;default:return null}}function KT(e,n){if(ca)return e==="compositionend"||!jt&&br(e,n)?(e=Il(),_r=Cl=di=null,ca=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return yi&&n.locale!=="ko"?null:n.data;default:return null}}var YT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!YT[e.type]:n==="textarea"}function fg(e,n,s,l){hs?fi?fi.push(l):fi=[l]:hs=l,n=rc(n,"onChange"),0<n.length&&(s=new mi("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var Ol=null,Ml=null;function XT(e){Yy(e,0)}function yu(e){var n=mn(e);if(mr(n))return e}function dg(e,n){if(e==="change")return n}var mg=!1;if(Cn){var Vh;if(Cn){var kh="oninput"in document;if(!kh){var gg=document.createElement("div");gg.setAttribute("oninput","return;"),kh=typeof gg.oninput=="function"}Vh=kh}else Vh=!1;mg=Vh&&(!document.documentMode||9<document.documentMode)}function pg(){Ol&&(Ol.detachEvent("onpropertychange",yg),Ml=Ol=null)}function yg(e){if(e.propertyName==="value"&&yu(Ml)){var n=[];fg(n,Ml,e,Rn(e)),fs(XT,n)}}function ZT(e,n,s){e==="focusin"?(pg(),Ol=n,Ml=s,Ol.attachEvent("onpropertychange",yg)):e==="focusout"&&pg()}function JT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yu(Ml)}function $T(e,n){if(e==="click")return yu(n)}function WT(e,n){if(e==="input"||e==="change")return yu(n)}function t1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var pn=typeof Object.is=="function"?Object.is:t1;function Vl(e,n){if(pn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!ye.call(n,h)||!pn(e[h],n[h]))return!1}return!0}function _g(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vg(e,n){var s=_g(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=_g(s)}}function Eg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Eg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Tg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=hi(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=hi(e.document)}return n}function Uh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var e1=Cn&&"documentMode"in document&&11>=document.documentMode,ha=null,Lh=null,kl=null,Ph=!1;function bg(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ph||ha==null||ha!==hi(l)||(l=ha,"selectionStart"in l&&Uh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),kl&&Vl(kl,l)||(kl=l,l=rc(Lh,"onSelect"),0<l.length&&(n=new mi("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=ha)))}function Ar(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var fa={animationend:Ar("Animation","AnimationEnd"),animationiteration:Ar("Animation","AnimationIteration"),animationstart:Ar("Animation","AnimationStart"),transitionrun:Ar("Transition","TransitionRun"),transitionstart:Ar("Transition","TransitionStart"),transitioncancel:Ar("Transition","TransitionCancel"),transitionend:Ar("Transition","TransitionEnd")},zh={},Ag={};Cn&&(Ag=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);function Sr(e){if(zh[e])return zh[e];if(!fa[e])return e;var n=fa[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Ag)return zh[e]=n[s];return e}var Sg=Sr("animationend"),wg=Sr("animationiteration"),Rg=Sr("animationstart"),n1=Sr("transitionrun"),i1=Sr("transitionstart"),s1=Sr("transitioncancel"),Cg=Sr("transitionend"),Ig=new Map,jh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jh.push("scrollEnd");function Yn(e,n){Ig.set(e,n),ui(n,[e])}var _u=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},xn=[],da=0,Bh=0;function vu(){for(var e=da,n=Bh=da=0;n<e;){var s=xn[n];xn[n++]=null;var l=xn[n];xn[n++]=null;var h=xn[n];xn[n++]=null;var f=xn[n];if(xn[n++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}f!==0&&xg(s,h,f)}}function Eu(e,n,s,l){xn[da++]=e,xn[da++]=n,xn[da++]=s,xn[da++]=l,Bh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function qh(e,n,s,l){return Eu(e,n,s,l),Tu(e)}function wr(e,n){return Eu(e,null,null,n),Tu(e)}function xg(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-fe(s),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=s|536870912),f):null}function Tu(e){if(50<io)throw io=0,$f=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ma={};function r1(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(e,n,s,l){return new r1(e,n,s,l)}function Hh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ui(e,n){var s=e.alternate;return s===null?(s=yn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Ng(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function bu(e,n,s,l,h,f){var g=0;if(l=e,typeof e=="function")Hh(e)&&(g=1);else if(typeof e=="string")g=cb(e,s,it.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case I:return e=yn(31,s,n,h),e.elementType=I,e.lanes=f,e;case nt:return Rr(s.children,h,f,n);case J:g=8,h|=24;break;case dt:return e=yn(12,s,n,h|2),e.elementType=dt,e.lanes=f,e;case Jt:return e=yn(13,s,n,h),e.elementType=Jt,e.lanes=f,e;case xt:return e=yn(19,s,n,h),e.elementType=xt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gt:g=10;break t;case vt:g=9;break t;case qt:g=11;break t;case N:g=14;break t;case w:g=16,l=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=yn(g,s,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function Rr(e,n,s,l){return e=yn(7,e,l,n),e.lanes=s,e}function Gh(e,n,s){return e=yn(6,e,null,n),e.lanes=s,e}function Dg(e){var n=yn(18,null,null,0);return n.stateNode=e,n}function Fh(e,n,s){return n=yn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Og=new WeakMap;function Nn(e,n){if(typeof e=="object"&&e!==null){var s=Og.get(e);return s!==void 0?s:(n={value:e,source:n,stack:fl(n)},Og.set(e,n),n)}return{value:e,source:n,stack:fl(n)}}var ga=[],pa=0,Au=null,Ul=0,Dn=[],On=0,ps=null,_i=1,vi="";function Li(e,n){ga[pa++]=Ul,ga[pa++]=Au,Au=e,Ul=n}function Mg(e,n,s){Dn[On++]=_i,Dn[On++]=vi,Dn[On++]=ps,ps=e;var l=_i;e=vi;var h=32-fe(l)-1;l&=~(1<<h),s+=1;var f=32-fe(n)+h;if(30<f){var g=h-h%5;f=(l&(1<<g)-1).toString(32),l>>=g,h-=g,_i=1<<32-fe(n)+h|s<<h|l,vi=f+e}else _i=1<<f|s<<h|l,vi=e}function Qh(e){e.return!==null&&(Li(e,1),Mg(e,1,0))}function Kh(e){for(;e===Au;)Au=ga[--pa],ga[pa]=null,Ul=ga[--pa],ga[pa]=null;for(;e===ps;)ps=Dn[--On],Dn[On]=null,vi=Dn[--On],Dn[On]=null,_i=Dn[--On],Dn[On]=null}function Vg(e,n){Dn[On++]=_i,Dn[On++]=vi,Dn[On++]=ps,_i=n.id,vi=n.overflow,ps=e}var je=null,te=null,kt=!1,ys=null,Mn=!1,Yh=Error(a(519));function _s(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ll(Nn(n,e)),Yh}function kg(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[ve]=e,n[Ve]=l,s){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(s=0;s<ro.length;s++)It(ro[s],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),nu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),us(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||$y(n.textContent,s)?(l.popover!=null&&(It("beforetoggle",n),It("toggle",n)),l.onScroll!=null&&It("scroll",n),l.onScrollEnd!=null&&It("scrollend",n),l.onClick!=null&&(n.onclick=Hn),n=!0):n=!1,n||_s(e,!0)}function Ug(e){for(je=e.return;je;)switch(je.tag){case 5:case 31:case 13:Mn=!1;return;case 27:case 3:Mn=!0;return;default:je=je.return}}function ya(e){if(e!==je)return!1;if(!kt)return Ug(e),kt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||dd(e.type,e.memoizedProps)),s=!s),s&&te&&_s(e),Ug(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));te=l_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));te=l_(e)}else n===27?(n=te,Os(e.type)?(e=_d,_d=null,te=e):te=n):te=je?kn(e.stateNode.nextSibling):null;return!0}function Cr(){te=je=null,kt=!1}function Xh(){var e=ys;return e!==null&&(un===null?un=e:un.push.apply(un,e),ys=null),e}function Ll(e){ys===null?ys=[e]:ys.push(e)}var Zh=x(null),Ir=null,Pi=null;function vs(e,n,s){W(Zh,n._currentValue),n._currentValue=s}function zi(e){e._currentValue=Zh.current,H(Zh)}function Jh(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function $h(e,n,s,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Jh(f.return,s,e),l||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Jh(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function _a(e,n,s,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;pn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ut.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(co):e=[co])}h=h.return}e!==null&&$h(n,e,s,l),n.flags|=262144}function Su(e){for(e=e.firstContext;e!==null;){if(!pn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function xr(e){Ir=e,Pi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return Lg(Ir,e)}function wu(e,n){return Ir===null&&xr(e),Lg(e,n)}function Lg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Pi===null){if(e===null)throw Error(a(308));Pi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Pi=Pi.next=n;return s}var a1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},l1=r.unstable_scheduleCallback,o1=r.unstable_NormalPriority,be={$$typeof:gt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wh(){return{controller:new a1,data:new Map,refCount:0}}function Pl(e){e.refCount--,e.refCount===0&&l1(o1,function(){e.controller.abort()})}var zl=null,tf=0,va=0,Ea=null;function u1(e,n){if(zl===null){var s=zl=[];tf=0,va=sd(),Ea={status:"pending",value:void 0,then:function(l){s.push(l)}}}return tf++,n.then(Pg,Pg),n}function Pg(){if(--tf===0&&zl!==null){Ea!==null&&(Ea.status="fulfilled");var e=zl;zl=null,va=0,Ea=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function c1(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var zg=G.S;G.S=function(e,n){by=We(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&u1(e,n),zg!==null&&zg(e,n)};var Nr=x(null);function ef(){var e=Nr.current;return e!==null?e:$t.pooledCache}function Ru(e,n){n===null?W(Nr,Nr.current):W(Nr,n.pool)}function jg(){var e=ef();return e===null?null:{parent:be._currentValue,pool:e}}var Ta=Error(a(460)),nf=Error(a(474)),Cu=Error(a(542)),Iu={then:function(){}};function Bg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function qg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Hn,Hn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Gg(e),e;default:if(typeof n.status=="string")n.then(Hn,Hn);else{if(e=$t,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Gg(e),e}throw Or=n,Ta}}function Dr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Or=s,Ta):s}}var Or=null;function Hg(){if(Or===null)throw Error(a(459));var e=Or;return Or=null,e}function Gg(e){if(e===Ta||e===Cu)throw Error(a(483))}var ba=null,jl=0;function xu(e){var n=jl;return jl+=1,ba===null&&(ba=[]),qg(ba,e,n)}function Bl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Nu(e,n){throw n.$$typeof===V?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Fg(e){function n(k,O){if(e){var P=k.deletions;P===null?(k.deletions=[O],k.flags|=16):P.push(O)}}function s(k,O){if(!e)return null;for(;O!==null;)n(k,O),O=O.sibling;return null}function l(k){for(var O=new Map;k!==null;)k.key!==null?O.set(k.key,k):O.set(k.index,k),k=k.sibling;return O}function h(k,O){return k=Ui(k,O),k.index=0,k.sibling=null,k}function f(k,O,P){return k.index=P,e?(P=k.alternate,P!==null?(P=P.index,P<O?(k.flags|=67108866,O):P):(k.flags|=67108866,O)):(k.flags|=1048576,O)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,O,P,K){return O===null||O.tag!==6?(O=Gh(P,k.mode,K),O.return=k,O):(O=h(O,P),O.return=k,O)}function C(k,O,P,K){var ht=P.type;return ht===nt?F(k,O,P.props.children,K,P.key):O!==null&&(O.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===w&&Dr(ht)===O.type)?(O=h(O,P.props),Bl(O,P),O.return=k,O):(O=bu(P.type,P.key,P.props,null,k.mode,K),Bl(O,P),O.return=k,O)}function z(k,O,P,K){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=Fh(P,k.mode,K),O.return=k,O):(O=h(O,P.children||[]),O.return=k,O)}function F(k,O,P,K,ht){return O===null||O.tag!==7?(O=Rr(P,k.mode,K,ht),O.return=k,O):(O=h(O,P),O.return=k,O)}function Y(k,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Gh(""+O,k.mode,P),O.return=k,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Q:return P=bu(O.type,O.key,O.props,null,k.mode,P),Bl(P,O),P.return=k,P;case $:return O=Fh(O,k.mode,P),O.return=k,O;case w:return O=Dr(O),Y(k,O,P)}if(he(O)||U(O))return O=Rr(O,k.mode,P,null),O.return=k,O;if(typeof O.then=="function")return Y(k,xu(O),P);if(O.$$typeof===gt)return Y(k,wu(k,O),P);Nu(k,O)}return null}function j(k,O,P,K){var ht=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ht!==null?null:E(k,O,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Q:return P.key===ht?C(k,O,P,K):null;case $:return P.key===ht?z(k,O,P,K):null;case w:return P=Dr(P),j(k,O,P,K)}if(he(P)||U(P))return ht!==null?null:F(k,O,P,K,null);if(typeof P.then=="function")return j(k,O,xu(P),K);if(P.$$typeof===gt)return j(k,O,wu(k,P),K);Nu(k,P)}return null}function q(k,O,P,K,ht){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return k=k.get(P)||null,E(O,k,""+K,ht);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case Q:return k=k.get(K.key===null?P:K.key)||null,C(O,k,K,ht);case $:return k=k.get(K.key===null?P:K.key)||null,z(O,k,K,ht);case w:return K=Dr(K),q(k,O,P,K,ht)}if(he(K)||U(K))return k=k.get(P)||null,F(O,k,K,ht,null);if(typeof K.then=="function")return q(k,O,P,xu(K),ht);if(K.$$typeof===gt)return q(k,O,P,wu(O,K),ht);Nu(O,K)}return null}function at(k,O,P,K){for(var ht=null,Pt=null,lt=O,Rt=O=0,Dt=null;lt!==null&&Rt<P.length;Rt++){lt.index>Rt?(Dt=lt,lt=null):Dt=lt.sibling;var zt=j(k,lt,P[Rt],K);if(zt===null){lt===null&&(lt=Dt);break}e&&lt&&zt.alternate===null&&n(k,lt),O=f(zt,O,Rt),Pt===null?ht=zt:Pt.sibling=zt,Pt=zt,lt=Dt}if(Rt===P.length)return s(k,lt),kt&&Li(k,Rt),ht;if(lt===null){for(;Rt<P.length;Rt++)lt=Y(k,P[Rt],K),lt!==null&&(O=f(lt,O,Rt),Pt===null?ht=lt:Pt.sibling=lt,Pt=lt);return kt&&Li(k,Rt),ht}for(lt=l(lt);Rt<P.length;Rt++)Dt=q(lt,k,Rt,P[Rt],K),Dt!==null&&(e&&Dt.alternate!==null&&lt.delete(Dt.key===null?Rt:Dt.key),O=f(Dt,O,Rt),Pt===null?ht=Dt:Pt.sibling=Dt,Pt=Dt);return e&&lt.forEach(function(Ls){return n(k,Ls)}),kt&&Li(k,Rt),ht}function mt(k,O,P,K){if(P==null)throw Error(a(151));for(var ht=null,Pt=null,lt=O,Rt=O=0,Dt=null,zt=P.next();lt!==null&&!zt.done;Rt++,zt=P.next()){lt.index>Rt?(Dt=lt,lt=null):Dt=lt.sibling;var Ls=j(k,lt,zt.value,K);if(Ls===null){lt===null&&(lt=Dt);break}e&&lt&&Ls.alternate===null&&n(k,lt),O=f(Ls,O,Rt),Pt===null?ht=Ls:Pt.sibling=Ls,Pt=Ls,lt=Dt}if(zt.done)return s(k,lt),kt&&Li(k,Rt),ht;if(lt===null){for(;!zt.done;Rt++,zt=P.next())zt=Y(k,zt.value,K),zt!==null&&(O=f(zt,O,Rt),Pt===null?ht=zt:Pt.sibling=zt,Pt=zt);return kt&&Li(k,Rt),ht}for(lt=l(lt);!zt.done;Rt++,zt=P.next())zt=q(lt,k,Rt,zt.value,K),zt!==null&&(e&&zt.alternate!==null&&lt.delete(zt.key===null?Rt:zt.key),O=f(zt,O,Rt),Pt===null?ht=zt:Pt.sibling=zt,Pt=zt);return e&&lt.forEach(function(Tb){return n(k,Tb)}),kt&&Li(k,Rt),ht}function Zt(k,O,P,K){if(typeof P=="object"&&P!==null&&P.type===nt&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case Q:t:{for(var ht=P.key;O!==null;){if(O.key===ht){if(ht=P.type,ht===nt){if(O.tag===7){s(k,O.sibling),K=h(O,P.props.children),K.return=k,k=K;break t}}else if(O.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===w&&Dr(ht)===O.type){s(k,O.sibling),K=h(O,P.props),Bl(K,P),K.return=k,k=K;break t}s(k,O);break}else n(k,O);O=O.sibling}P.type===nt?(K=Rr(P.props.children,k.mode,K,P.key),K.return=k,k=K):(K=bu(P.type,P.key,P.props,null,k.mode,K),Bl(K,P),K.return=k,k=K)}return g(k);case $:t:{for(ht=P.key;O!==null;){if(O.key===ht)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){s(k,O.sibling),K=h(O,P.children||[]),K.return=k,k=K;break t}else{s(k,O);break}else n(k,O);O=O.sibling}K=Fh(P,k.mode,K),K.return=k,k=K}return g(k);case w:return P=Dr(P),Zt(k,O,P,K)}if(he(P))return at(k,O,P,K);if(U(P)){if(ht=U(P),typeof ht!="function")throw Error(a(150));return P=ht.call(P),mt(k,O,P,K)}if(typeof P.then=="function")return Zt(k,O,xu(P),K);if(P.$$typeof===gt)return Zt(k,O,wu(k,P),K);Nu(k,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(s(k,O.sibling),K=h(O,P),K.return=k,k=K):(s(k,O),K=Gh(P,k.mode,K),K.return=k,k=K),g(k)):s(k,O)}return function(k,O,P,K){try{jl=0;var ht=Zt(k,O,P,K);return ba=null,ht}catch(lt){if(lt===Ta||lt===Cu)throw lt;var Pt=yn(29,lt,null,k.mode);return Pt.lanes=K,Pt.return=k,Pt}}}var Mr=Fg(!0),Qg=Fg(!1),Es=!1;function sf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ts(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function bs(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Bt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Tu(e),xg(e,null,s),n}return Eu(e,l,n,s),Tu(e)}function ql(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,gl(e,s)}}function af(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var lf=!1;function Hl(){if(lf){var e=Ea;if(e!==null)throw e}}function Gl(e,n,s,l){lf=!1;var h=e.updateQueue;Es=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,z=C.next;C.next=null,g===null?f=z:g.next=z,g=C;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==g&&(E===null?F.firstBaseUpdate=z:E.next=z,F.lastBaseUpdate=C))}if(f!==null){var Y=h.baseState;g=0,F=z=C=null,E=f;do{var j=E.lane&-536870913,q=j!==E.lane;if(q?(Nt&j)===j:(l&j)===j){j!==0&&j===va&&(lf=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=e,mt=E;j=n;var Zt=s;switch(mt.tag){case 1:if(at=mt.payload,typeof at=="function"){Y=at.call(Zt,Y,j);break t}Y=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=mt.payload,j=typeof at=="function"?at.call(Zt,Y,j):at,j==null)break t;Y=S({},Y,j);break t;case 2:Es=!0}}j=E.callback,j!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[j]:q.push(j))}else q={lane:j,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(z=F=q,C=Y):F=F.next=q,g|=j;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(C=Y),h.baseState=C,h.firstBaseUpdate=z,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Cs|=g,e.lanes=g,e.memoizedState=Y}}function Kg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Yg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Kg(s[e],n)}var Aa=x(null),Du=x(0);function Xg(e,n){e=Yi,W(Du,e),W(Aa,n),Yi=e|n.baseLanes}function of(){W(Du,Yi),W(Aa,Aa.current)}function uf(){Yi=Du.current,H(Aa),H(Du)}var _n=x(null),Vn=null;function As(e){var n=e.alternate;W(me,me.current&1),W(_n,e),Vn===null&&(n===null||Aa.current!==null||n.memoizedState!==null)&&(Vn=e)}function cf(e){W(me,me.current),W(_n,e),Vn===null&&(Vn=e)}function Zg(e){e.tag===22?(W(me,me.current),W(_n,e),Vn===null&&(Vn=e)):Ss()}function Ss(){W(me,me.current),W(_n,_n.current)}function vn(e){H(_n),Vn===e&&(Vn=null),H(me)}var me=x(0);function Ou(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||pd(s)||yd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var ji=0,St=null,Yt=null,Ae=null,Mu=!1,Sa=!1,Vr=!1,Vu=0,Fl=0,wa=null,h1=0;function ue(){throw Error(a(321))}function hf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!pn(e[s],n[s]))return!1;return!0}function ff(e,n,s,l,h,f){return ji=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Mp:Cf,Vr=!1,f=s(l,h),Vr=!1,Sa&&(f=$g(n,s,l,h)),Jg(e),f}function Jg(e){G.H=Yl;var n=Yt!==null&&Yt.next!==null;if(ji=0,Ae=Yt=St=null,Mu=!1,Fl=0,wa=null,n)throw Error(a(300));e===null||Se||(e=e.dependencies,e!==null&&Su(e)&&(Se=!0))}function $g(e,n,s,l){St=e;var h=0;do{if(Sa&&(wa=null),Fl=0,Sa=!1,25<=h)throw Error(a(301));if(h+=1,Ae=Yt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Vp,f=n(s,l)}while(Sa);return f}function f1(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?Ql(n):n,e=e.useState()[0],(Yt!==null?Yt.memoizedState:null)!==e&&(St.flags|=1024),n}function df(){var e=Vu!==0;return Vu=0,e}function mf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function gf(e){if(Mu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Mu=!1}ji=0,Ae=Yt=St=null,Sa=!1,Fl=Vu=0,wa=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?St.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function ge(){if(Yt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=Yt.next;var n=Ae===null?St.memoizedState:Ae.next;if(n!==null)Ae=n,Yt=e;else{if(e===null)throw St.alternate===null?Error(a(467)):Error(a(310));Yt=e,e={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},Ae===null?St.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function ku(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ql(e){var n=Fl;return Fl+=1,wa===null&&(wa=[]),e=qg(wa,e,n),n=St,(Ae===null?n.memoizedState:Ae.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Mp:Cf),e}function Uu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ql(e);if(e.$$typeof===gt)return Be(e)}throw Error(a(438,String(e)))}function pf(e){var n=null,s=St.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=St.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=ku(),St.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=M;return n.index++,s}function Bi(e,n){return typeof n=="function"?n(e):n}function Lu(e){var n=ge();return yf(n,Yt,e)}function yf(e,n,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,C=null,z=n,F=!1;do{var Y=z.lane&-536870913;if(Y!==z.lane?(Nt&Y)===Y:(ji&Y)===Y){var j=z.revertLane;if(j===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Y===va&&(F=!0);else if((ji&j)===j){z=z.next,j===va&&(F=!0);continue}else Y={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=Y,g=f):C=C.next=Y,St.lanes|=j,Cs|=j;Y=z.action,Vr&&s(f,Y),f=z.hasEagerState?z.eagerState:s(f,Y)}else j={lane:Y,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},C===null?(E=C=j,g=f):C=C.next=j,St.lanes|=Y,Cs|=Y;z=z.next}while(z!==null&&z!==n);if(C===null?g=f:C.next=E,!pn(f,e.memoizedState)&&(Se=!0,F&&(s=Ea,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=C,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function _f(e){var n=ge(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);pn(f,n.memoizedState)||(Se=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function Wg(e,n,s){var l=St,h=ge(),f=kt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!pn((Yt||h).memoizedState,s);if(g&&(h.memoizedState=s,Se=!0),h=h.queue,Tf(np.bind(null,l,h,e),[e]),h.getSnapshot!==n||g||Ae!==null&&Ae.memoizedState.tag&1){if(l.flags|=2048,Ra(9,{destroy:void 0},ep.bind(null,l,h,s,n),null),$t===null)throw Error(a(349));f||(ji&127)!==0||tp(l,n,s)}return s}function tp(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=St.updateQueue,n===null?(n=ku(),St.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function ep(e,n,s,l){n.value=s,n.getSnapshot=l,ip(n)&&sp(e)}function np(e,n,s){return s(function(){ip(n)&&sp(e)})}function ip(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!pn(e,s)}catch{return!0}}function sp(e){var n=wr(e,2);n!==null&&cn(n,e,2)}function vf(e){var n=en();if(typeof e=="function"){var s=e;if(e=s(),Vr){Sn(!0);try{s()}finally{Sn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:e},n}function rp(e,n,s,l){return e.baseState=s,yf(e,Yt,typeof l=="function"?l:Bi)}function d1(e,n,s,l,h){if(ju(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,ap(n,f)):(f.next=s.next,n.pending=s.next=f)}}function ap(e,n){var s=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=s(h,l),C=G.S;C!==null&&C(g,E),lp(e,n,E)}catch(z){Ef(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=s(h,l),lp(e,n,f)}catch(z){Ef(e,n,z)}}function lp(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){op(e,n,l)},function(l){return Ef(e,n,l)}):op(e,n,s)}function op(e,n,s){n.status="fulfilled",n.value=s,up(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,ap(e,s)))}function Ef(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,up(n),n=n.next;while(n!==l)}e.action=null}function up(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function cp(e,n){return n}function hp(e,n){if(kt){var s=$t.formState;if(s!==null){t:{var l=St;if(kt){if(te){e:{for(var h=te,f=Mn;h.nodeType!==8;){if(!f){h=null;break e}if(h=kn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){te=kn(h.nextSibling),l=h.data==="F!";break t}}_s(l)}l=!1}l&&(n=s[0])}}return s=en(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cp,lastRenderedState:n},s.queue=l,s=Np.bind(null,St,l),l.dispatch=s,l=vf(!1),f=Rf.bind(null,St,!1,l.queue),l=en(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,s=d1.bind(null,St,h,f,s),h.dispatch=s,l.memoizedState=e,[n,s,!1]}function fp(e){var n=ge();return dp(n,Yt,e)}function dp(e,n,s){if(n=yf(e,n,cp)[0],e=Lu(Bi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Ql(n)}catch(g){throw g===Ta?Cu:g}else l=n;n=ge();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(St.flags|=2048,Ra(9,{destroy:void 0},m1.bind(null,h,s),null)),[l,f,e]}function m1(e,n){e.action=n}function mp(e){var n=ge(),s=Yt;if(s!==null)return dp(n,s,e);ge(),n=n.memoizedState,s=ge();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function Ra(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=St.updateQueue,n===null&&(n=ku(),St.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function gp(){return ge().memoizedState}function Pu(e,n,s,l){var h=en();St.flags|=e,h.memoizedState=Ra(1|n,{destroy:void 0},s,l===void 0?null:l)}function zu(e,n,s,l){var h=ge();l=l===void 0?null:l;var f=h.memoizedState.inst;Yt!==null&&l!==null&&hf(l,Yt.memoizedState.deps)?h.memoizedState=Ra(n,f,s,l):(St.flags|=e,h.memoizedState=Ra(1|n,f,s,l))}function pp(e,n){Pu(8390656,8,e,n)}function Tf(e,n){zu(2048,8,e,n)}function g1(e){St.flags|=4;var n=St.updateQueue;if(n===null)n=ku(),St.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function yp(e){var n=ge().memoizedState;return g1({ref:n,nextImpl:e}),function(){if((Bt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function _p(e,n){return zu(4,2,e,n)}function vp(e,n){return zu(4,4,e,n)}function Ep(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Tp(e,n,s){s=s!=null?s.concat([e]):null,zu(4,4,Ep.bind(null,n,e),s)}function bf(){}function bp(e,n){var s=ge();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&hf(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function Ap(e,n){var s=ge();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&hf(n,l[1]))return l[0];if(l=e(),Vr){Sn(!0);try{e()}finally{Sn(!1)}}return s.memoizedState=[l,n],l}function Af(e,n,s){return s===void 0||(ji&1073741824)!==0&&(Nt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Sy(),St.lanes|=e,Cs|=e,s)}function Sp(e,n,s,l){return pn(s,n)?s:Aa.current!==null?(e=Af(e,s,l),pn(e,n)||(Se=!0),e):(ji&42)===0||(ji&1073741824)!==0&&(Nt&261930)===0?(Se=!0,e.memoizedState=s):(e=Sy(),St.lanes|=e,Cs|=e,n)}function wp(e,n,s,l,h){var f=et.p;et.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,Rf(e,!1,n,s);try{var C=h(),z=G.S;if(z!==null&&z(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var F=c1(C,l);Kl(e,n,F,bn(e))}else Kl(e,n,l,bn(e))}catch(Y){Kl(e,n,{then:function(){},status:"rejected",reason:Y},bn())}finally{et.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function p1(){}function Sf(e,n,s,l){if(e.tag!==5)throw Error(a(476));var h=Rp(e).queue;wp(e,h,n,ut,s===null?p1:function(){return Cp(e),s(l)})}function Rp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ut,baseState:ut,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:ut},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Cp(e){var n=Rp(e);n.next===null&&(n=e.alternate.memoizedState),Kl(e,n.next.queue,{},bn())}function wf(){return Be(co)}function Ip(){return ge().memoizedState}function xp(){return ge().memoizedState}function y1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=bn();e=Ts(s);var l=bs(n,e,s);l!==null&&(cn(l,n,s),ql(l,n,s)),n={cache:Wh()},e.payload=n;return}n=n.return}}function _1(e,n,s){var l=bn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},ju(e)?Dp(n,s):(s=qh(e,n,s,l),s!==null&&(cn(s,e,l),Op(s,n,l)))}function Np(e,n,s){var l=bn();Kl(e,n,s,l)}function Kl(e,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(ju(e))Dp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,pn(E,g))return Eu(e,n,h,0),$t===null&&vu(),!1}catch{}if(s=qh(e,n,h,l),s!==null)return cn(s,e,l),Op(s,n,l),!0}return!1}function Rf(e,n,s,l){if(l={lane:2,revertLane:sd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ju(e)){if(n)throw Error(a(479))}else n=qh(e,s,l,2),n!==null&&cn(n,e,2)}function ju(e){var n=e.alternate;return e===St||n!==null&&n===St}function Dp(e,n){Sa=Mu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Op(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,gl(e,s)}}var Yl={readContext:Be,use:Uu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue};Yl.useEffectEvent=ue;var Mp={readContext:Be,use:Uu,useCallback:function(e,n){return en().memoizedState=[e,n===void 0?null:n],e},useContext:Be,useEffect:pp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Pu(4194308,4,Ep.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Pu(4194308,4,e,n)},useInsertionEffect:function(e,n){Pu(4,2,e,n)},useMemo:function(e,n){var s=en();n=n===void 0?null:n;var l=e();if(Vr){Sn(!0);try{e()}finally{Sn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=en();if(s!==void 0){var h=s(n);if(Vr){Sn(!0);try{s(n)}finally{Sn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=_1.bind(null,St,e),[l.memoizedState,e]},useRef:function(e){var n=en();return e={current:e},n.memoizedState=e},useState:function(e){e=vf(e);var n=e.queue,s=Np.bind(null,St,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:bf,useDeferredValue:function(e,n){var s=en();return Af(s,e,n)},useTransition:function(){var e=vf(!1);return e=wp.bind(null,St,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=St,h=en();if(kt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),$t===null)throw Error(a(349));(Nt&127)!==0||tp(l,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,pp(np.bind(null,l,f,e),[e]),l.flags|=2048,Ra(9,{destroy:void 0},ep.bind(null,l,f,s,n),null),s},useId:function(){var e=en(),n=$t.identifierPrefix;if(kt){var s=vi,l=_i;s=(l&~(1<<32-fe(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Vu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=h1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:wf,useFormState:hp,useActionState:hp,useOptimistic:function(e){var n=en();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Rf.bind(null,St,!0,s),s.dispatch=n,[e,n]},useMemoCache:pf,useCacheRefresh:function(){return en().memoizedState=y1.bind(null,St)},useEffectEvent:function(e){var n=en(),s={impl:e};return n.memoizedState=s,function(){if((Bt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Cf={readContext:Be,use:Uu,useCallback:bp,useContext:Be,useEffect:Tf,useImperativeHandle:Tp,useInsertionEffect:_p,useLayoutEffect:vp,useMemo:Ap,useReducer:Lu,useRef:gp,useState:function(){return Lu(Bi)},useDebugValue:bf,useDeferredValue:function(e,n){var s=ge();return Sp(s,Yt.memoizedState,e,n)},useTransition:function(){var e=Lu(Bi)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Ql(e),n]},useSyncExternalStore:Wg,useId:Ip,useHostTransitionStatus:wf,useFormState:fp,useActionState:fp,useOptimistic:function(e,n){var s=ge();return rp(s,Yt,e,n)},useMemoCache:pf,useCacheRefresh:xp};Cf.useEffectEvent=yp;var Vp={readContext:Be,use:Uu,useCallback:bp,useContext:Be,useEffect:Tf,useImperativeHandle:Tp,useInsertionEffect:_p,useLayoutEffect:vp,useMemo:Ap,useReducer:_f,useRef:gp,useState:function(){return _f(Bi)},useDebugValue:bf,useDeferredValue:function(e,n){var s=ge();return Yt===null?Af(s,e,n):Sp(s,Yt.memoizedState,e,n)},useTransition:function(){var e=_f(Bi)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Ql(e),n]},useSyncExternalStore:Wg,useId:Ip,useHostTransitionStatus:wf,useFormState:mp,useActionState:mp,useOptimistic:function(e,n){var s=ge();return Yt!==null?rp(s,Yt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:pf,useCacheRefresh:xp};Vp.useEffectEvent=yp;function If(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:S({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var xf={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=bn(),h=Ts(l);h.payload=n,s!=null&&(h.callback=s),n=bs(e,h,l),n!==null&&(cn(n,e,l),ql(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=bn(),h=Ts(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=bs(e,h,l),n!==null&&(cn(n,e,l),ql(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=bn(),l=Ts(s);l.tag=2,n!=null&&(l.callback=n),n=bs(e,l,s),n!==null&&(cn(n,e,s),ql(n,e,s))}};function kp(e,n,s,l,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Vl(s,l)||!Vl(h,f):!0}function Up(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&xf.enqueueReplaceState(n,n.state,null)}function kr(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=S({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Lp(e){_u(e)}function Pp(e){console.error(e)}function zp(e){_u(e)}function Bu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function jp(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Nf(e,n,s){return s=Ts(s),s.tag=3,s.payload={element:null},s.callback=function(){Bu(e,n)},s}function Bp(e){return e=Ts(e),e.tag=3,e}function qp(e,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){jp(n,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){jp(n,s,l),typeof h!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function v1(e,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&_a(n,s,h,!0),s=_n.current,s!==null){switch(s.tag){case 31:case 13:return Vn===null?Wu():s.alternate===null&&ce===0&&(ce=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Iu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),ed(e,l,h)),!1;case 22:return s.flags|=65536,l===Iu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),ed(e,l,h)),!1}throw Error(a(435,s.tag))}return ed(e,l,h),Wu(),!1}if(kt)return n=_n.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Yh&&(e=Error(a(422),{cause:l}),Ll(Nn(e,s)))):(l!==Yh&&(n=Error(a(423),{cause:l}),Ll(Nn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Nn(l,s),h=Nf(e.stateNode,l,h),af(e,h),ce!==4&&(ce=2)),!1;var f=Error(a(520),{cause:l});if(f=Nn(f,s),no===null?no=[f]:no.push(f),ce!==4&&(ce=2),n===null)return!0;l=Nn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Nf(s.stateNode,l,e),af(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Is===null||!Is.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Bp(h),qp(h,e,s,l),af(s,h),!1}s=s.return}while(s!==null);return!1}var Df=Error(a(461)),Se=!1;function qe(e,n,s,l){n.child=e===null?Qg(n,null,s,l):Mr(n,e.child,s,l)}function Hp(e,n,s,l,h){s=s.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return xr(n),l=ff(e,n,s,g,f,h),E=df(),e!==null&&!Se?(mf(e,n,h),qi(e,n,h)):(kt&&E&&Qh(n),n.flags|=1,qe(e,n,l,h),n.child)}function Gp(e,n,s,l,h){if(e===null){var f=s.type;return typeof f=="function"&&!Hh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Fp(e,n,f,l,h)):(e=bu(s.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!zf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Vl,s(g,l)&&e.ref===n.ref)return qi(e,n,h)}return n.flags|=1,e=Ui(f,l),e.ref=n.ref,e.return=n,n.child=e}function Fp(e,n,s,l,h){if(e!==null){var f=e.memoizedProps;if(Vl(f,l)&&e.ref===n.ref)if(Se=!1,n.pendingProps=l=f,zf(e,h))(e.flags&131072)!==0&&(Se=!0);else return n.lanes=e.lanes,qi(e,n,h)}return Of(e,n,s,l,h)}function Qp(e,n,s,l){var h=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Kp(e,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ru(n,f!==null?f.cachePool:null),f!==null?Xg(n,f):of(),Zg(n);else return l=n.lanes=536870912,Kp(e,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(Ru(n,f.cachePool),Xg(n,f),Ss(),n.memoizedState=null):(e!==null&&Ru(n,null),of(),Ss());return qe(e,n,h,s),n.child}function Xl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Kp(e,n,s,l,h){var f=ef();return f=f===null?null:{parent:be._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Ru(n,null),of(),Zg(n),e!==null&&_a(e,n,l,!0),n.childLanes=h,null}function qu(e,n){return n=Gu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Yp(e,n,s){return Mr(n,e.child,null,s),e=qu(n,n.pendingProps),e.flags|=2,vn(n),n.memoizedState=null,e}function E1(e,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(kt){if(l.mode==="hidden")return e=qu(n,l),n.lanes=536870912,Xl(null,e);if(cf(n),(e=te)?(e=a_(e,Mn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ps!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},s=Dg(e),s.return=n,n.child=s,je=n,te=null)):e=null,e===null)throw _s(n);return n.lanes=536870912,null}return qu(n,l)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(cf(n),h)if(n.flags&256)n.flags&=-257,n=Yp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Se||_a(e,n,s,!1),h=(s&e.childLanes)!==0,Se||h){if(l=$t,l!==null&&(g=pl(l,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,wr(e,g),cn(l,e,g),Df;Wu(),n=Yp(e,n,s)}else e=f.treeContext,te=kn(g.nextSibling),je=n,kt=!0,ys=null,Mn=!1,e!==null&&Vg(n,e),n=qu(n,l),n.flags|=4096;return n}return e=Ui(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Hu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Of(e,n,s,l,h){return xr(n),s=ff(e,n,s,l,void 0,h),l=df(),e!==null&&!Se?(mf(e,n,h),qi(e,n,h)):(kt&&l&&Qh(n),n.flags|=1,qe(e,n,s,h),n.child)}function Xp(e,n,s,l,h,f){return xr(n),n.updateQueue=null,s=$g(n,l,s,h),Jg(e),l=df(),e!==null&&!Se?(mf(e,n,f),qi(e,n,f)):(kt&&l&&Qh(n),n.flags|=1,qe(e,n,s,f),n.child)}function Zp(e,n,s,l,h){if(xr(n),n.stateNode===null){var f=ma,g=s.contextType;typeof g=="object"&&g!==null&&(f=Be(g)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=xf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},sf(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Be(g):ma,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(If(n,s,g,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&xf.enqueueReplaceState(f,f.state,null),Gl(n,l,f,h),Hl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,C=kr(s,E);f.props=C;var z=f.context,F=s.contextType;g=ma,typeof F=="object"&&F!==null&&(g=Be(F));var Y=s.getDerivedStateFromProps;F=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==g)&&Up(n,f,l,g),Es=!1;var j=n.memoizedState;f.state=j,Gl(n,l,f,h),Hl(),z=n.memoizedState,E||j!==z||Es?(typeof Y=="function"&&(If(n,s,Y,l),z=n.memoizedState),(C=Es||kp(n,s,C,l,j,z,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=g,l=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,rf(e,n),g=n.memoizedProps,F=kr(s,g),f.props=F,Y=n.pendingProps,j=f.context,z=s.contextType,C=ma,typeof z=="object"&&z!==null&&(C=Be(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||j!==C)&&Up(n,f,l,C),Es=!1,j=n.memoizedState,f.state=j,Gl(n,l,f,h),Hl();var q=n.memoizedState;g!==Y||j!==q||Es||e!==null&&e.dependencies!==null&&Su(e.dependencies)?(typeof E=="function"&&(If(n,s,E,l),q=n.memoizedState),(F=Es||kp(n,s,F,l,j,q,C)||e!==null&&e.dependencies!==null&&Su(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=C,l=F):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&j===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Hu(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Mr(n,e.child,null,h),n.child=Mr(n,null,s,h)):qe(e,n,s,h),n.memoizedState=f.state,e=n.child):e=qi(e,n,h),e}function Jp(e,n,s,l){return Cr(),n.flags|=256,qe(e,n,s,l),n.child}var Mf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vf(e){return{baseLanes:e,cachePool:jg()}}function kf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Tn),e}function $p(e,n,s){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(me.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(kt){if(h?As(n):Ss(),(e=te)?(e=a_(e,Mn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ps!==null?{id:_i,overflow:vi}:null,retryLane:536870912,hydrationErrors:null},s=Dg(e),s.return=n,n.child=s,je=n,te=null)):e=null,e===null)throw _s(n);return yd(e)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(Ss(),h=n.mode,E=Gu({mode:"hidden",children:E},h),l=Rr(l,h,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Vf(s),l.childLanes=kf(e,g,s),n.memoizedState=Mf,Xl(null,l)):(As(n),Uf(n,E))}var C=e.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(As(n),n.flags&=-257,n=Lf(e,n,s)):n.memoizedState!==null?(Ss(),n.child=e.child,n.flags|=128,n=null):(Ss(),E=l.fallback,h=n.mode,l=Gu({mode:"visible",children:l.children},h),E=Rr(E,h,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Mr(n,e.child,null,s),l=n.child,l.memoizedState=Vf(s),l.childLanes=kf(e,g,s),n.memoizedState=Mf,n=Xl(null,l));else if(As(n),yd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var z=g.dgst;g=z,l=Error(a(419)),l.stack="",l.digest=g,Ll({value:l,source:null,stack:null}),n=Lf(e,n,s)}else if(Se||_a(e,n,s,!1),g=(s&e.childLanes)!==0,Se||g){if(g=$t,g!==null&&(l=pl(g,s),l!==0&&l!==C.retryLane))throw C.retryLane=l,wr(e,l),cn(g,e,l),Df;pd(E)||Wu(),n=Lf(e,n,s)}else pd(E)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,te=kn(E.nextSibling),je=n,kt=!0,ys=null,Mn=!1,e!==null&&Vg(n,e),n=Uf(n,l.children),n.flags|=4096);return n}return h?(Ss(),E=l.fallback,h=n.mode,C=e.child,z=C.sibling,l=Ui(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,z!==null?E=Ui(z,E):(E=Rr(E,h,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Xl(null,l),l=n.child,E=e.child.memoizedState,E===null?E=Vf(s):(h=E.cachePool,h!==null?(C=be._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=jg(),E={baseLanes:E.baseLanes|s,cachePool:h}),l.memoizedState=E,l.childLanes=kf(e,g,s),n.memoizedState=Mf,Xl(e.child,l)):(As(n),s=e.child,e=s.sibling,s=Ui(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Uf(e,n){return n=Gu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Gu(e,n){return e=yn(22,e,null,n),e.lanes=0,e}function Lf(e,n,s){return Mr(n,e.child,null,s),e=Uf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Wp(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Jh(e.return,n,s)}function Pf(e,n,s,l,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function ty(e,n,s){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var g=me.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,W(me,g),qe(e,n,l,s),l=kt?Ul:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wp(e,s,n);else if(e.tag===19)Wp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Ou(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Pf(n,!1,h,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Ou(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Pf(n,!0,s,null,f,l);break;case"together":Pf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function qi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Cs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(_a(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Ui(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Ui(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function zf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Su(e)))}function T1(e,n,s){switch(n.tag){case 3:xe(n,n.stateNode.containerInfo),vs(n,be,e.memoizedState.cache),Cr();break;case 27:case 5:lr(n);break;case 4:xe(n,n.stateNode.containerInfo);break;case 10:vs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,cf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(As(n),n.flags|=128,null):(s&n.child.childLanes)!==0?$p(e,n,s):(As(n),e=qi(e,n,s),e!==null?e.sibling:null);As(n);break;case 19:var h=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(_a(e,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return ty(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),W(me,me.current),l)break;return null;case 22:return n.lanes=0,Qp(e,n,s,n.pendingProps);case 24:vs(n,be,e.memoizedState.cache)}return qi(e,n,s)}function ey(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Se=!0;else{if(!zf(e,s)&&(n.flags&128)===0)return Se=!1,T1(e,n,s);Se=(e.flags&131072)!==0}else Se=!1,kt&&(n.flags&1048576)!==0&&Mg(n,Ul,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=Dr(n.elementType),n.type=e,typeof e=="function")Hh(e)?(l=kr(e,l),n.tag=1,n=Zp(null,n,e,l,s)):(n.tag=0,n=Of(null,n,e,l,s));else{if(e!=null){var h=e.$$typeof;if(h===qt){n.tag=11,n=Hp(null,n,e,l,s);break t}else if(h===N){n.tag=14,n=Gp(null,n,e,l,s);break t}}throw n=Wt(e)||e,Error(a(306,n,""))}}return n;case 0:return Of(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=kr(l,n.pendingProps),Zp(e,n,l,h,s);case 3:t:{if(xe(n,n.stateNode.containerInfo),e===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,rf(e,n),Gl(n,l,null,s);var g=n.memoizedState;if(l=g.cache,vs(n,be,l),l!==f.cache&&$h(n,[be],s,!0),Hl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Jp(e,n,l,s);break t}else if(l!==h){h=Nn(Error(a(424)),n),Ll(h),n=Jp(e,n,l,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,te=kn(e.firstChild),je=n,kt=!0,ys=null,Mn=!0,s=Qg(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Cr(),l===h){n=qi(e,n,s);break t}qe(e,n,l,s)}n=n.child}return n;case 26:return Hu(e,n),e===null?(s=f_(n.type,null,n.pendingProps,null))?n.memoizedState=s:kt||(s=n.type,e=n.pendingProps,l=ac(wt.current).createElement(s),l[ve]=n,l[Ve]=e,He(l,s,e),Ee(l),n.stateNode=l):n.memoizedState=f_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return lr(n),e===null&&kt&&(l=n.stateNode=u_(n.type,n.pendingProps,wt.current),je=n,Mn=!0,h=te,Os(n.type)?(_d=h,te=kn(l.firstChild)):te=h),qe(e,n,n.pendingProps.children,s),Hu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&kt&&((h=l=te)&&(l=J1(l,n.type,n.pendingProps,Mn),l!==null?(n.stateNode=l,je=n,te=kn(l.firstChild),Mn=!1,h=!0):h=!1),h||_s(n)),lr(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,l=f.children,dd(h,f)?l=null:g!==null&&dd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=ff(e,n,f1,null,null,s),co._currentValue=h),Hu(e,n),qe(e,n,l,s),n.child;case 6:return e===null&&kt&&((e=s=te)&&(s=$1(s,n.pendingProps,Mn),s!==null?(n.stateNode=s,je=n,te=null,e=!0):e=!1),e||_s(n)),null;case 13:return $p(e,n,s);case 4:return xe(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Mr(n,null,l,s):qe(e,n,l,s),n.child;case 11:return Hp(e,n,n.type,n.pendingProps,s);case 7:return qe(e,n,n.pendingProps,s),n.child;case 8:return qe(e,n,n.pendingProps.children,s),n.child;case 12:return qe(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,vs(n,n.type,l.value),qe(e,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,xr(n),h=Be(h),l=l(h),n.flags|=1,qe(e,n,l,s),n.child;case 14:return Gp(e,n,n.type,n.pendingProps,s);case 15:return Fp(e,n,n.type,n.pendingProps,s);case 19:return ty(e,n,s);case 31:return E1(e,n,s);case 22:return Qp(e,n,s,n.pendingProps);case 24:return xr(n),l=Be(be),e===null?(h=ef(),h===null&&(h=$t,f=Wh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:l,cache:h},sf(n),vs(n,be,h)):((e.lanes&s)!==0&&(rf(e,n),Gl(n,null,null,s),Hl()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),vs(n,be,l)):(l=f.cache,vs(n,be,l),l!==h.cache&&$h(n,[be],s,!0))),qe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Hi(e){e.flags|=4}function jf(e,n,s,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Iy())e.flags|=8192;else throw Or=Iu,nf}else e.flags&=-16777217}function ny(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!y_(n))if(Iy())e.flags|=8192;else throw Or=Iu,nf}function Fu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Jo():536870912,e.lanes|=n,Na|=n)}function Zl(e,n){if(!kt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ee(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function b1(e,n,s){var l=n.pendingProps;switch(Kh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),zi(be),se(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ya(n)?Hi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Xh())),ee(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Hi(n),f!==null?(ee(n),ny(n,f)):(ee(n),jf(n,h,null,l,s))):f?f!==e.memoizedState?(Hi(n),ee(n),ny(n,f)):(ee(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Hi(n),ee(n),jf(n,h,e,l,s)),null;case 27:if(Xr(n),s=wt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Hi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ee(n),null}e=it.current,ya(n)?kg(n):(e=u_(h,l,s),n.stateNode=e,Hi(n))}return ee(n),null;case 5:if(Xr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Hi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ee(n),null}if(f=it.current,ya(n))kg(n);else{var g=ac(wt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}f[ve]=n,f[Ve]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(He(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Hi(n)}}return ee(n),jf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Hi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=wt.current,ya(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,h=je,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[ve]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||$y(e.nodeValue,s)),e||_s(n,!0)}else e=ac(e).createTextNode(l),e[ve]=n,n.stateNode=e}return ee(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(l=ya(n),s!==null){if(e===null){if(!l)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[ve]=n}else Cr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),e=!1}else s=Xh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(vn(n),n):(vn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ee(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ya(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[ve]=n}else Cr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),h=!1}else h=Xh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(vn(n),n):(vn(n),null)}return vn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Fu(n,n.updateQueue),ee(n),null);case 4:return se(),e===null&&od(n.stateNode.containerInfo),ee(n),null;case 10:return zi(n.type),ee(n),null;case 19:if(H(me),l=n.memoizedState,l===null)return ee(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Zl(l,!1);else{if(ce!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Ou(e),f!==null){for(n.flags|=128,Zl(l,!1),e=f.updateQueue,n.updateQueue=e,Fu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Ng(s,e),s=s.sibling;return W(me,me.current&1|2),kt&&Li(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&We()>Zu&&(n.flags|=128,h=!0,Zl(l,!1),n.lanes=4194304)}else{if(!h)if(e=Ou(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Fu(n,e),Zl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!kt)return ee(n),null}else 2*We()-l.renderingStartTime>Zu&&s!==536870912&&(n.flags|=128,h=!0,Zl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=We(),e.sibling=null,s=me.current,W(me,h?s&1|2:s&1),kt&&Li(n,l.treeForkCount),e):(ee(n),null);case 22:case 23:return vn(n),uf(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),s=n.updateQueue,s!==null&&Fu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&H(Nr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),zi(be),ee(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function A1(e,n){switch(Kh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return zi(be),se(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Xr(n),null;case 31:if(n.memoizedState!==null){if(vn(n),n.alternate===null)throw Error(a(340));Cr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(vn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Cr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return H(me),null;case 4:return se(),null;case 10:return zi(n.type),null;case 22:case 23:return vn(n),uf(),e!==null&&H(Nr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return zi(be),null;case 25:return null;default:return null}}function iy(e,n){switch(Kh(n),n.tag){case 3:zi(be),se();break;case 26:case 27:case 5:Xr(n);break;case 4:se();break;case 31:n.memoizedState!==null&&vn(n);break;case 13:vn(n);break;case 19:H(me);break;case 10:zi(n.type);break;case 22:case 23:vn(n),uf(),e!==null&&H(Nr);break;case 24:zi(be)}}function Jl(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&e)===e){l=void 0;var f=s.create,g=s.inst;l=f(),g.destroy=l}s=s.next}while(s!==h)}}catch(E){Qt(n,n.return,E)}}function ws(e,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var C=s,z=E;try{z()}catch(F){Qt(h,C,F)}}}l=l.next}while(l!==f)}}catch(F){Qt(n,n.return,F)}}function sy(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Yg(n,s)}catch(l){Qt(e,e.return,l)}}}function ry(e,n,s){s.props=kr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){Qt(e,n,l)}}function $l(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(h){Qt(e,n,h)}}function Ei(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){Qt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Qt(e,n,h)}else s.current=null}function ay(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){Qt(e,e.return,h)}}function Bf(e,n,s){try{var l=e.stateNode;F1(l,e.type,s,n),l[Ve]=n}catch(h){Qt(e,e.return,h)}}function ly(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Os(e.type)||e.tag===4}function qf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ly(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Os(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hf(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Hn));else if(l!==4&&(l===27&&Os(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Hf(e,n,s),e=e.sibling;e!==null;)Hf(e,n,s),e=e.sibling}function Qu(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&Os(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Qu(e,n,s),e=e.sibling;e!==null;)Qu(e,n,s),e=e.sibling}function oy(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);He(n,l,s),n[ve]=e,n[Ve]=s}catch(f){Qt(e,e.return,f)}}var Gi=!1,we=!1,Gf=!1,uy=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function S1(e,n){if(e=e.containerInfo,hd=dc,e=Tg(e),Uh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,C=-1,z=0,F=0,Y=e,j=null;e:for(;;){for(var q;Y!==s||h!==0&&Y.nodeType!==3||(E=g+h),Y!==f||l!==0&&Y.nodeType!==3||(C=g+l),Y.nodeType===3&&(g+=Y.nodeValue.length),(q=Y.firstChild)!==null;)j=Y,Y=q;for(;;){if(Y===e)break e;if(j===s&&++z===h&&(E=g),j===f&&++F===l&&(C=g),(q=Y.nextSibling)!==null)break;Y=j,j=Y.parentNode}Y=q}s=E===-1||C===-1?null:{start:E,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(fd={focusedElem:e,selectionRange:s},dc=!1,Ue=n;Ue!==null;)if(n=Ue,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ue=e;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var at=kr(s.type,h);e=l.getSnapshotBeforeUpdate(at,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(mt){Qt(s,s.return,mt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)gd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ue=e;break}Ue=n.return}}function cy(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Qi(e,s),l&4&&Jl(5,s);break;case 1:if(Qi(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Qt(s,s.return,g)}else{var h=kr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Qt(s,s.return,g)}}l&64&&sy(s),l&512&&$l(s,s.return);break;case 3:if(Qi(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Yg(e,n)}catch(g){Qt(s,s.return,g)}}break;case 27:n===null&&l&4&&oy(s);case 26:case 5:Qi(e,s),n===null&&l&4&&ay(s),l&512&&$l(s,s.return);break;case 12:Qi(e,s);break;case 31:Qi(e,s),l&4&&dy(e,s);break;case 13:Qi(e,s),l&4&&my(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=M1.bind(null,s),W1(e,s))));break;case 22:if(l=s.memoizedState!==null||Gi,!l){n=n!==null&&n.memoizedState!==null||we,h=Gi;var f=we;Gi=l,(we=n)&&!f?Ki(e,s,(s.subtreeFlags&8772)!==0):Qi(e,s),Gi=h,we=f}break;case 30:break;default:Qi(e,s)}}function hy(e){var n=e.alternate;n!==null&&(e.alternate=null,hy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ta(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,an=!1;function Fi(e,n,s){for(s=s.child;s!==null;)fy(e,n,s),s=s.sibling}function fy(e,n,s){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(zn,s)}catch{}switch(s.tag){case 26:we||Ei(s,n),Fi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:we||Ei(s,n);var l=ae,h=an;Os(s.type)&&(ae=s.stateNode,an=!1),Fi(e,n,s),lo(s.stateNode),ae=l,an=h;break;case 5:we||Ei(s,n);case 6:if(l=ae,h=an,ae=null,Fi(e,n,s),ae=l,an=h,ae!==null)if(an)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(s.stateNode)}catch(f){Qt(s,n,f)}else try{ae.removeChild(s.stateNode)}catch(f){Qt(s,n,f)}break;case 18:ae!==null&&(an?(e=ae,s_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Pa(e)):s_(ae,s.stateNode));break;case 4:l=ae,h=an,ae=s.stateNode.containerInfo,an=!0,Fi(e,n,s),ae=l,an=h;break;case 0:case 11:case 14:case 15:ws(2,s,n),we||ws(4,s,n),Fi(e,n,s);break;case 1:we||(Ei(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&ry(s,n,l)),Fi(e,n,s);break;case 21:Fi(e,n,s);break;case 22:we=(l=we)||s.memoizedState!==null,Fi(e,n,s),we=l;break;default:Fi(e,n,s)}}function dy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Pa(e)}catch(s){Qt(n,n.return,s)}}}function my(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Pa(e)}catch(s){Qt(n,n.return,s)}}function w1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new uy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new uy),n;default:throw Error(a(435,e.tag))}}function Ku(e,n){var s=w1(e);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=V1.bind(null,e,l);l.then(h,h)}})}function ln(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Os(E.type)){ae=E.stateNode,an=!1;break t}break;case 5:ae=E.stateNode,an=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,an=!0;break t}E=E.return}if(ae===null)throw Error(a(160));fy(f,g,h),ae=null,an=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)gy(n,e),n=n.sibling}var Xn=null;function gy(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ln(n,e),on(e),l&4&&(ws(3,e,e.return),Jl(3,e),ws(5,e,e.return));break;case 1:ln(n,e),on(e),l&512&&(we||s===null||Ei(s,s.return)),l&64&&Gi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=Xn;if(ln(n,e),on(e),l&512&&(we||s===null||Ei(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ai]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),He(f,l,s),f[ve]=e,Ee(f),l=f;break t;case"link":var g=g_("link","href",h).get(l+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(l),He(f,l,s),h.head.appendChild(f);break;case"meta":if(g=g_("meta","content",h).get(l+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(l),He(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[ve]=e,Ee(f),l=f}e.stateNode=l}else p_(h,e.type,e.stateNode);else e.stateNode=m_(h,l,e.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?p_(h,e.type,e.stateNode):m_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Bf(e,e.memoizedProps,s.memoizedProps)}break;case 27:ln(n,e),on(e),l&512&&(we||s===null||Ei(s,s.return)),s!==null&&l&4&&Bf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(ln(n,e),on(e),l&512&&(we||s===null||Ei(s,s.return)),e.flags&32){h=e.stateNode;try{rn(h,"")}catch(at){Qt(e,e.return,at)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Bf(e,h,s!==null?s.memoizedProps:h)),l&1024&&(Gf=!0);break;case 6:if(ln(n,e),on(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(at){Qt(e,e.return,at)}}break;case 3:if(uc=null,h=Xn,Xn=lc(n.containerInfo),ln(n,e),Xn=h,on(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Pa(n.containerInfo)}catch(at){Qt(e,e.return,at)}Gf&&(Gf=!1,py(e));break;case 4:l=Xn,Xn=lc(e.stateNode.containerInfo),ln(n,e),on(e),Xn=l;break;case 12:ln(n,e),on(e);break;case 31:ln(n,e),on(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ku(e,l)));break;case 13:ln(n,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Xu=We()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ku(e,l)));break;case 22:h=e.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,z=Gi,F=we;if(Gi=z||h,we=F||C,ln(n,e),we=F,Gi=z,on(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||C||Gi||we||Ur(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=C.stateNode;var Y=C.memoizedProps.style,j=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(at){Qt(C,C.return,at)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(at){Qt(C,C.return,at)}}}else if(n.tag===18){if(s===null){C=n;try{var q=C.stateNode;h?r_(q,!0):r_(C.stateNode,!1)}catch(at){Qt(C,C.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Ku(e,s))));break;case 19:ln(n,e),on(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Ku(e,l)));break;case 30:break;case 21:break;default:ln(n,e),on(e)}}function on(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(ly(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=qf(e);Qu(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(rn(g,""),s.flags&=-33);var E=qf(e);Qu(e,E,g);break;case 3:case 4:var C=s.stateNode.containerInfo,z=qf(e);Hf(e,z,C);break;default:throw Error(a(161))}}catch(F){Qt(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function py(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;py(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Qi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)cy(e,n.alternate,n),n=n.sibling}function Ur(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ws(4,n,n.return),Ur(n);break;case 1:Ei(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&ry(n,n.return,s),Ur(n);break;case 27:lo(n.stateNode);case 26:case 5:Ei(n,n.return),Ur(n);break;case 22:n.memoizedState===null&&Ur(n);break;case 30:Ur(n);break;default:Ur(n)}e=e.sibling}}function Ki(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Ki(h,f,s),Jl(4,f);break;case 1:if(Ki(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Qt(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Kg(C[h],E)}catch(z){Qt(l,l.return,z)}}s&&g&64&&sy(f),$l(f,f.return);break;case 27:oy(f);case 26:case 5:Ki(h,f,s),s&&l===null&&g&4&&ay(f),$l(f,f.return);break;case 12:Ki(h,f,s);break;case 31:Ki(h,f,s),s&&g&4&&dy(h,f);break;case 13:Ki(h,f,s),s&&g&4&&my(h,f);break;case 22:f.memoizedState===null&&Ki(h,f,s),$l(f,f.return);break;case 30:break;default:Ki(h,f,s)}n=n.sibling}}function Ff(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Pl(s))}function Qf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Pl(e))}function Zn(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)yy(e,n,s,l),n=n.sibling}function yy(e,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Zn(e,n,s,l),h&2048&&Jl(9,n);break;case 1:Zn(e,n,s,l);break;case 3:Zn(e,n,s,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Pl(e)));break;case 12:if(h&2048){Zn(e,n,s,l),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Qt(n,n.return,C)}}else Zn(e,n,s,l);break;case 31:Zn(e,n,s,l);break;case 13:Zn(e,n,s,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Zn(e,n,s,l):Wl(e,n):f._visibility&2?Zn(e,n,s,l):(f._visibility|=2,Ca(e,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Ff(g,n);break;case 24:Zn(e,n,s,l),h&2048&&Qf(n.alternate,n);break;default:Zn(e,n,s,l)}}function Ca(e,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,C=l,z=g.flags;switch(g.tag){case 0:case 11:case 15:Ca(f,g,E,C,h),Jl(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?Ca(f,g,E,C,h):Wl(f,g):(F._visibility|=2,Ca(f,g,E,C,h)),h&&z&2048&&Ff(g.alternate,g);break;case 24:Ca(f,g,E,C,h),h&&z&2048&&Qf(g.alternate,g);break;default:Ca(f,g,E,C,h)}n=n.sibling}}function Wl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,h=l.flags;switch(l.tag){case 22:Wl(s,l),h&2048&&Ff(l.alternate,l);break;case 24:Wl(s,l),h&2048&&Qf(l.alternate,l);break;default:Wl(s,l)}n=n.sibling}}var to=8192;function Ia(e,n,s){if(e.subtreeFlags&to)for(e=e.child;e!==null;)_y(e,n,s),e=e.sibling}function _y(e,n,s){switch(e.tag){case 26:Ia(e,n,s),e.flags&to&&e.memoizedState!==null&&hb(s,Xn,e.memoizedState,e.memoizedProps);break;case 5:Ia(e,n,s);break;case 3:case 4:var l=Xn;Xn=lc(e.stateNode.containerInfo),Ia(e,n,s),Xn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=to,to=16777216,Ia(e,n,s),to=l):Ia(e,n,s));break;default:Ia(e,n,s)}}function vy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function eo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ue=l,Ty(l,e)}vy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ey(e),e=e.sibling}function Ey(e){switch(e.tag){case 0:case 11:case 15:eo(e),e.flags&2048&&ws(9,e,e.return);break;case 3:eo(e);break;case 12:eo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Yu(e)):eo(e);break;default:eo(e)}}function Yu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Ue=l,Ty(l,e)}vy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ws(8,n,n.return),Yu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Yu(n));break;default:Yu(n)}e=e.sibling}}function Ty(e,n){for(;Ue!==null;){var s=Ue;switch(s.tag){case 0:case 11:case 15:ws(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Pl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Ue=l;else t:for(s=e;Ue!==null;){l=Ue;var h=l.sibling,f=l.return;if(hy(l),l===s){Ue=null;break t}if(h!==null){h.return=f,Ue=h;break t}Ue=f}}}var R1={getCacheForType:function(e){var n=Be(be),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Be(be).controller.signal}},C1=typeof WeakMap=="function"?WeakMap:Map,Bt=0,$t=null,Ct=null,Nt=0,Ft=0,En=null,Rs=!1,xa=!1,Kf=!1,Yi=0,ce=0,Cs=0,Lr=0,Yf=0,Tn=0,Na=0,no=null,un=null,Xf=!1,Xu=0,by=0,Zu=1/0,Ju=null,Is=null,De=0,xs=null,Da=null,Xi=0,Zf=0,Jf=null,Ay=null,io=0,$f=null;function bn(){return(Bt&2)!==0&&Nt!==0?Nt&-Nt:G.T!==null?sd():$o()}function Sy(){if(Tn===0)if((Nt&536870912)===0||kt){var e=cr;cr<<=1,(cr&3932160)===0&&(cr=262144),Tn=e}else Tn=536870912;return e=_n.current,e!==null&&(e.flags|=32),Tn}function cn(e,n,s){(e===$t&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(Oa(e,0),Ns(e,Nt,Tn,!1)),hr(e,s),((Bt&2)===0||e!==$t)&&(e===$t&&((Bt&2)===0&&(Lr|=s),ce===4&&Ns(e,Nt,Tn,!1)),Ti(e))}function wy(e,n,s){if((Bt&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&e.expiredLanes)===0||jn(e,n),h=l?N1(e,n):td(e,n,!0),f=l;do{if(h===0){xa&&!l&&Ns(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!I1(s)){h=td(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=no;var C=E.current.memoizedState.isDehydrated;if(C&&(Oa(E,g).flags|=256),g=td(E,g,!1),g!==2){if(Kf&&!C){E.errorRecoveryDisabledLanes|=f,Lr|=f,h=4;break t}f=un,un=h,f!==null&&(un===null?un=f:un.push.apply(un,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Oa(e,0),Ns(e,n,0,!0);break}t:{switch(l=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ns(l,n,Tn,!Rs);break t;case 2:un=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Xu+300-We(),10<h)){if(Ns(l,n,Tn,!Rs),ii(l,0,!0)!==0)break t;Xi=n,l.timeoutHandle=n_(Ry.bind(null,l,s,un,Ju,Xf,n,Tn,Lr,Na,Rs,f,"Throttled",-0,0),h);break t}Ry(l,s,un,Ju,Xf,n,Tn,Lr,Na,Rs,f,null,-0,0)}}break}while(!0);Ti(e)}function Ry(e,n,s,l,h,f,g,E,C,z,F,Y,j,q){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hn},_y(n,f,Y);var at=(f&62914560)===f?Xu-We():(f&4194048)===f?by-We():0;if(at=fb(Y,at),at!==null){Xi=f,e.cancelPendingCommit=at(Vy.bind(null,e,n,f,s,l,h,g,E,C,F,Y,null,j,q)),Ns(e,f,g,!z);return}}Vy(e,n,f,s,l,h,g,E,C)}function I1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!pn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ns(e,n,s,l){n&=~Yf,n&=~Lr,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-fe(h),g=1<<f;l[f]=-1,h&=~g}s!==0&&fr(e,s,n)}function $u(){return(Bt&6)===0?(so(0),!1):!0}function Wf(){if(Ct!==null){if(Ft===0)var e=Ct.return;else e=Ct,Pi=Ir=null,gf(e),ba=null,jl=0,e=Ct;for(;e!==null;)iy(e.alternate,e),e=e.return;Ct=null}}function Oa(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,Y1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Xi=0,Wf(),$t=e,Ct=s=Ui(e.current,null),Nt=n,Ft=0,En=null,Rs=!1,xa=jn(e,n),Kf=!1,Na=Tn=Yf=Lr=Cs=ce=0,un=no=null,Xf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-fe(l),f=1<<h;n|=e[h],l&=~f}return Yi=n,vu(),s}function Cy(e,n){St=null,G.H=Yl,n===Ta||n===Cu?(n=Hg(),Ft=3):n===nf?(n=Hg(),Ft=4):Ft=n===Df?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,En=n,Ct===null&&(ce=1,Bu(e,Nn(n,e.current)))}function Iy(){var e=_n.current;return e===null?!0:(Nt&4194048)===Nt?Vn===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?e===Vn:!1}function xy(){var e=G.H;return G.H=Yl,e===null?Yl:e}function Ny(){var e=G.A;return G.A=R1,e}function Wu(){ce=4,Rs||(Nt&4194048)!==Nt&&_n.current!==null||(xa=!0),(Cs&134217727)===0&&(Lr&134217727)===0||$t===null||Ns($t,Nt,Tn,!1)}function td(e,n,s){var l=Bt;Bt|=2;var h=xy(),f=Ny();($t!==e||Nt!==n)&&(Ju=null,Oa(e,n)),n=!1;var g=ce;t:do try{if(Ft!==0&&Ct!==null){var E=Ct,C=En;switch(Ft){case 8:Wf(),g=6;break t;case 3:case 2:case 9:case 6:_n.current===null&&(n=!0);var z=Ft;if(Ft=0,En=null,Ma(e,E,C,z),s&&xa){g=0;break t}break;default:z=Ft,Ft=0,En=null,Ma(e,E,C,z)}}x1(),g=ce;break}catch(F){Cy(e,F)}while(!0);return n&&e.shellSuspendCounter++,Pi=Ir=null,Bt=l,G.H=h,G.A=f,Ct===null&&($t=null,Nt=0,vu()),g}function x1(){for(;Ct!==null;)Dy(Ct)}function N1(e,n){var s=Bt;Bt|=2;var l=xy(),h=Ny();$t!==e||Nt!==n?(Ju=null,Zu=We()+500,Oa(e,n)):xa=jn(e,n);t:do try{if(Ft!==0&&Ct!==null){n=Ct;var f=En;e:switch(Ft){case 1:Ft=0,En=null,Ma(e,n,f,1);break;case 2:case 9:if(Bg(f)){Ft=0,En=null,Oy(n);break}n=function(){Ft!==2&&Ft!==9||$t!==e||(Ft=7),Ti(e)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Bg(f)?(Ft=0,En=null,Oy(n)):(Ft=0,En=null,Ma(e,n,f,7));break;case 5:var g=null;switch(Ct.tag){case 26:g=Ct.memoizedState;case 5:case 27:var E=Ct;if(g?y_(g):E.stateNode.complete){Ft=0,En=null;var C=E.sibling;if(C!==null)Ct=C;else{var z=E.return;z!==null?(Ct=z,tc(z)):Ct=null}break e}}Ft=0,En=null,Ma(e,n,f,5);break;case 6:Ft=0,En=null,Ma(e,n,f,6);break;case 8:Wf(),ce=6;break t;default:throw Error(a(462))}}D1();break}catch(F){Cy(e,F)}while(!0);return Pi=Ir=null,G.H=l,G.A=h,Bt=s,Ct!==null?0:($t=null,Nt=0,vu(),ce)}function D1(){for(;Ct!==null&&!xh();)Dy(Ct)}function Dy(e){var n=ey(e.alternate,e,Yi);e.memoizedProps=e.pendingProps,n===null?tc(e):Ct=n}function Oy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Xp(s,n,n.pendingProps,n.type,void 0,Nt);break;case 11:n=Xp(s,n,n.pendingProps,n.type.render,n.ref,Nt);break;case 5:gf(n);default:iy(s,n),n=Ct=Ng(n,Yi),n=ey(s,n,Yi)}e.memoizedProps=e.pendingProps,n===null?tc(e):Ct=n}function Ma(e,n,s,l){Pi=Ir=null,gf(n),ba=null,jl=0;var h=n.return;try{if(v1(e,h,n,s,Nt)){ce=1,Bu(e,Nn(s,e.current)),Ct=null;return}}catch(f){if(h!==null)throw Ct=h,f;ce=1,Bu(e,Nn(s,e.current)),Ct=null;return}n.flags&32768?(kt||l===1?e=!0:xa||(Nt&536870912)!==0?e=!1:(Rs=e=!0,(l===2||l===9||l===3||l===6)&&(l=_n.current,l!==null&&l.tag===13&&(l.flags|=16384))),My(n,e)):tc(n)}function tc(e){var n=e;do{if((n.flags&32768)!==0){My(n,Rs);return}e=n.return;var s=b1(n.alternate,n,Yi);if(s!==null){Ct=s;return}if(n=n.sibling,n!==null){Ct=n;return}Ct=n=e}while(n!==null);ce===0&&(ce=5)}function My(e,n){do{var s=A1(e.alternate,e);if(s!==null){s.flags&=32767,Ct=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Ct=e;return}Ct=e=s}while(e!==null);ce=6,Ct=null}function Vy(e,n,s,l,h,f,g,E,C){e.cancelPendingCommit=null;do ec();while(De!==0);if((Bt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Bh,Oh(e,s,f,g,E,C),e===$t&&(Ct=$t=null,Nt=0),Da=n,xs=e,Xi=s,Zf=f,Jf=h,Ay=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,k1(as,function(){return zy(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=et.p,et.p=2,g=Bt,Bt|=4;try{S1(e,n,s)}finally{Bt=g,et.p=h,G.T=l}}De=1,ky(),Uy(),Ly()}}function ky(){if(De===1){De=0;var e=xs,n=Da,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var l=et.p;et.p=2;var h=Bt;Bt|=4;try{gy(n,e);var f=fd,g=Tg(e.containerInfo),E=f.focusedElem,C=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Eg(E.ownerDocument.documentElement,E)){if(C!==null&&Uh(E)){var z=C.start,F=C.end;if(F===void 0&&(F=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(F,E.value.length);else{var Y=E.ownerDocument||document,j=Y&&Y.defaultView||window;if(j.getSelection){var q=j.getSelection(),at=E.textContent.length,mt=Math.min(C.start,at),Zt=C.end===void 0?mt:Math.min(C.end,at);!q.extend&&mt>Zt&&(g=Zt,Zt=mt,mt=g);var k=vg(E,mt),O=vg(E,Zt);if(k&&O&&(q.rangeCount!==1||q.anchorNode!==k.node||q.anchorOffset!==k.offset||q.focusNode!==O.node||q.focusOffset!==O.offset)){var P=Y.createRange();P.setStart(k.node,k.offset),q.removeAllRanges(),mt>Zt?(q.addRange(P),q.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),q.addRange(P))}}}}for(Y=[],q=E;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var K=Y[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}dc=!!hd,fd=hd=null}finally{Bt=h,et.p=l,G.T=s}}e.current=n,De=2}}function Uy(){if(De===2){De=0;var e=xs,n=Da,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var l=et.p;et.p=2;var h=Bt;Bt|=4;try{cy(e,n.alternate,n)}finally{Bt=h,et.p=l,G.T=s}}De=3}}function Ly(){if(De===4||De===3){De=0,Fo();var e=xs,n=Da,s=Xi,l=Ay;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?De=5:(De=0,Da=xs=null,Py(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Is=null),Oi(s),n=n.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(zn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=G.T,h=et.p,et.p=2,G.T=null;try{for(var f=e.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,et.p=h}}(Xi&3)!==0&&ec(),Ti(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===$f?io++:(io=0,$f=e):io=0,so(0)}}function Py(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Pl(n)))}function ec(){return ky(),Uy(),Ly(),zy()}function zy(){if(De!==5)return!1;var e=xs,n=Zf;Zf=0;var s=Oi(Xi),l=G.T,h=et.p;try{et.p=32>s?32:s,G.T=null,s=Jf,Jf=null;var f=xs,g=Xi;if(De=0,Da=xs=null,Xi=0,(Bt&6)!==0)throw Error(a(331));var E=Bt;if(Bt|=4,Ey(f.current),yy(f,f.current,g,s),Bt=E,so(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(zn,f)}catch{}return!0}finally{et.p=h,G.T=l,Py(e,n)}}function jy(e,n,s){n=Nn(s,n),n=Nf(e.stateNode,n,2),e=bs(e,n,2),e!==null&&(hr(e,2),Ti(e))}function Qt(e,n,s){if(e.tag===3)jy(e,e,s);else for(;n!==null;){if(n.tag===3){jy(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Is===null||!Is.has(l))){e=Nn(s,e),s=Bp(2),l=bs(n,s,2),l!==null&&(qp(s,l,n,e),hr(l,2),Ti(l));break}}n=n.return}}function ed(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new C1;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(Kf=!0,h.add(s),e=O1.bind(null,e,n,s),n.then(e,e))}function O1(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,$t===e&&(Nt&s)===s&&(ce===4||ce===3&&(Nt&62914560)===Nt&&300>We()-Xu?(Bt&2)===0&&Oa(e,0):Yf|=s,Na===Nt&&(Na=0)),Ti(e)}function By(e,n){n===0&&(n=Jo()),e=wr(e,n),e!==null&&(hr(e,n),Ti(e))}function M1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),By(e,s)}function V1(e,n){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),By(e,s)}function k1(e,n){return Ne(e,n)}var nc=null,Va=null,nd=!1,ic=!1,id=!1,Ds=0;function Ti(e){e!==Va&&e.next===null&&(Va===null?nc=Va=e:Va=Va.next=e),ic=!0,nd||(nd=!0,L1())}function so(e,n){if(!id&&ic){id=!0;do for(var s=!1,l=nc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-fe(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Fy(l,f))}else f=Nt,f=ii(l,l===$t?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||jn(l,f)||(s=!0,Fy(l,f));l=l.next}while(s);id=!1}}function U1(){qy()}function qy(){ic=nd=!1;var e=0;Ds!==0&&K1()&&(e=Ds);for(var n=We(),s=null,l=nc;l!==null;){var h=l.next,f=Hy(l,n);f===0?(l.next=null,s===null?nc=h:s.next=h,h===null&&(Va=s)):(s=l,(e!==0||(f&3)!==0)&&(ic=!0)),l=h}De!==0&&De!==5||so(e),Ds!==0&&(Ds=0)}function Hy(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-fe(f),E=1<<g,C=h[g];C===-1?((E&s)===0||(E&l)!==0)&&(h[g]=Dh(E,n)):C<=n&&(e.expiredLanes|=E),f&=~E}if(n=$t,s=Nt,s=ii(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&rs(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||jn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&rs(l),Oi(s)){case 2:case 8:s=ml;break;case 32:s=as;break;case 268435456:s=Qo;break;default:s=as}return l=Gy.bind(null,e),s=Ne(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&rs(l),e.callbackPriority=2,e.callbackNode=null,2}function Gy(e,n){if(De!==0&&De!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(ec()&&e.callbackNode!==s)return null;var l=Nt;return l=ii(e,e===$t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(wy(e,l,n),Hy(e,We()),e.callbackNode!=null&&e.callbackNode===s?Gy.bind(null,e):null)}function Fy(e,n){if(ec())return null;wy(e,n,!0)}function L1(){X1(function(){(Bt&6)!==0?Ne(dl,U1):qy()})}function sd(){if(Ds===0){var e=va;e===0&&(e=ei,ei<<=1,(ei&261888)===0&&(ei=256)),Ds=e}return Ds}function Qy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:sa(""+e)}function Ky(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function P1(e,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var f=Qy((h[Ve]||null).action),g=l.submitter;g&&(n=(n=g[Ve]||null)?Qy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new mi("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ds!==0){var C=g?Ky(h,g):new FormData(h);Sf(s,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=g?Ky(h,g):new FormData(h),Sf(s,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var rd=0;rd<jh.length;rd++){var ad=jh[rd],z1=ad.toLowerCase(),j1=ad[0].toUpperCase()+ad.slice(1);Yn(z1,"on"+j1)}Yn(Sg,"onAnimationEnd"),Yn(wg,"onAnimationIteration"),Yn(Rg,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(n1,"onTransitionRun"),Yn(i1,"onTransitionStart"),Yn(s1,"onTransitionCancel"),Yn(Cg,"onTransitionEnd"),ci("onMouseEnter",["mouseout","mouseover"]),ci("onMouseLeave",["mouseout","mouseover"]),ci("onPointerEnter",["pointerout","pointerover"]),ci("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),B1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ro));function Yy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],C=E.instance,z=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){_u(F)}h.currentTarget=null,f=C}else for(g=0;g<l.length;g++){if(E=l[g],C=E.instance,z=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(F){_u(F)}h.currentTarget=null,f=C}}}}function It(e,n){var s=n[Wr];s===void 0&&(s=n[Wr]=new Set);var l=e+"__bubble";s.has(l)||(Xy(n,e,2,!1),s.add(l))}function ld(e,n,s){var l=0;n&&(l|=4),Xy(s,e,l,n)}var sc="_reactListening"+Math.random().toString(36).slice(2);function od(e){if(!e[sc]){e[sc]=!0,yl.forEach(function(s){s!=="selectionchange"&&(B1.has(s)||ld(s,!1,e),ld(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[sc]||(n[sc]=!0,ld("selectionchange",!1,n))}}function Xy(e,n,s,l){switch(S_(n)){case 2:var h=gb;break;case 8:h=pb;break;default:h=Ad}s=h.bind(null,n,s,e),h=void 0,!yr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function ud(e,n,s,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=l.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=li(E),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){l=f=g;continue t}E=E.parentNode}}l=l.return}fs(function(){var z=f,F=Rn(s),Y=[];t:{var j=Ig.get(e);if(j!==void 0){var q=mi,at=e;switch(e){case"keypress":if(vr(s)===0)break t;case"keydown":case"keyup":q=gu;break;case"focusin":at="focus",q=Tr;break;case"focusout":at="blur",q=Tr;break;case"beforeblur":case"afterblur":q=Tr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=au;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Sg:case wg:case Rg:q=ou;break;case Cg:q=T;break;case"scroll":case"scrollend":q=xl;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=uu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=ki;break;case"toggle":case"beforetoggle":q=At}var mt=(n&4)!==0,Zt=!mt&&(e==="scroll"||e==="scrollend"),k=mt?j!==null?j+"Capture":null:j;mt=[];for(var O=z,P;O!==null;){var K=O;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||k===null||(K=Gn(O,k),K!=null&&mt.push(ao(O,K,P))),Zt)break;O=O.return}0<mt.length&&(j=new q(j,at,null,s,F),Y.push({event:j,listeners:mt}))}}if((n&7)===0){t:{if(j=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",j&&s!==Rl&&(at=s.relatedTarget||s.fromElement)&&(li(at)||at[ri]))break t;if((q||j)&&(j=F.window===F?F:(j=F.ownerDocument)?j.defaultView||j.parentWindow:window,q?(at=s.relatedTarget||s.toElement,q=z,at=at?li(at):null,at!==null&&(Zt=c(at),mt=at.tag,at!==Zt||mt!==5&&mt!==27&&mt!==6)&&(at=null)):(q=null,at=z),q!==at)){if(mt=Nl,K="onMouseLeave",k="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(mt=ki,K="onPointerLeave",k="onPointerEnter",O="pointer"),Zt=q==null?j:mn(q),P=at==null?j:mn(at),j=new mt(K,O+"leave",q,s,F),j.target=Zt,j.relatedTarget=P,K=null,li(F)===z&&(mt=new mt(k,O+"enter",at,s,F),mt.target=P,mt.relatedTarget=Zt,K=mt),Zt=K,q&&at)e:{for(mt=q1,k=q,O=at,P=0,K=k;K;K=mt(K))P++;K=0;for(var ht=O;ht;ht=mt(ht))K++;for(;0<P-K;)k=mt(k),P--;for(;0<K-P;)O=mt(O),K--;for(;P--;){if(k===O||O!==null&&k===O.alternate){mt=k;break e}k=mt(k),O=mt(O)}mt=null}else mt=null;q!==null&&Zy(Y,j,q,mt,!1),at!==null&&Zt!==null&&Zy(Y,Zt,at,mt,!0)}}t:{if(j=z?mn(z):window,q=j.nodeName&&j.nodeName.toLowerCase(),q==="select"||q==="input"&&j.type==="file")var Pt=dg;else if(hg(j))if(mg)Pt=WT;else{Pt=JT;var lt=ZT}else q=j.nodeName,!q||q.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?z&&ia(z.elementType)&&(Pt=dg):Pt=$T;if(Pt&&(Pt=Pt(e,z))){fg(Y,Pt,s,F);break t}lt&&lt(e,j,z),e==="focusout"&&z&&j.type==="number"&&z.memoizedProps.value!=null&&Al(j,"number",j.value)}switch(lt=z?mn(z):window,e){case"focusin":(hg(lt)||lt.contentEditable==="true")&&(ha=lt,Lh=z,kl=null);break;case"focusout":kl=Lh=ha=null;break;case"mousedown":Ph=!0;break;case"contextmenu":case"mouseup":case"dragend":Ph=!1,bg(Y,s,F);break;case"selectionchange":if(e1)break;case"keydown":case"keyup":bg(Y,s,F)}var Rt;if(jt)t:{switch(e){case"compositionstart":var Dt="onCompositionStart";break t;case"compositionend":Dt="onCompositionEnd";break t;case"compositionupdate":Dt="onCompositionUpdate";break t}Dt=void 0}else ca?br(e,s)&&(Dt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Dt="onCompositionStart");Dt&&(yi&&s.locale!=="ko"&&(ca||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&ca&&(Rt=Il()):(di=F,Cl="value"in di?di.value:di.textContent,ca=!0)),lt=rc(z,Dt),0<lt.length&&(Dt=new pi(Dt,e,null,s,F),Y.push({event:Dt,listeners:lt}),Rt?Dt.data=Rt:(Rt=ua(s),Rt!==null&&(Dt.data=Rt)))),(Rt=In?QT(e,s):KT(e,s))&&(Dt=rc(z,"onBeforeInput"),0<Dt.length&&(lt=new pi("onBeforeInput","beforeinput",null,s,F),Y.push({event:lt,listeners:Dt}),lt.data=Rt)),P1(Y,e,z,s,F)}Yy(Y,n)})}function ao(e,n,s){return{instance:e,listener:n,currentTarget:s}}function rc(e,n){for(var s=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Gn(e,s),h!=null&&l.unshift(ao(e,h,f)),h=Gn(e,n),h!=null&&l.push(ao(e,h,f))),e.tag===3)return l;e=e.return}return[]}function q1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Zy(e,n,s,l,h){for(var f=n._reactName,g=[];s!==null&&s!==l;){var E=s,C=E.alternate,z=E.stateNode;if(E=E.tag,C!==null&&C===l)break;E!==5&&E!==26&&E!==27||z===null||(C=z,h?(z=Gn(s,f),z!=null&&g.unshift(ao(s,z,C))):h||(z=Gn(s,f),z!=null&&g.push(ao(s,z,C)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var H1=/\r\n?/g,G1=/\u0000|\uFFFD/g;function Jy(e){return(typeof e=="string"?e:""+e).replace(H1,`
`).replace(G1,"")}function $y(e,n){return n=Jy(n),Jy(e)===n}function Xt(e,n,s,l,h,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||rn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&rn(e,""+l);break;case"className":gn(e,"class",l);break;case"tabIndex":gn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(e,s,l);break;case"style":wl(e,l,f);break;case"data":if(n!=="object"){gn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=sa(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Xt(e,n,"name",h.name,h,null),Xt(e,n,"formEncType",h.formEncType,h,null),Xt(e,n,"formMethod",h.formMethod,h,null),Xt(e,n,"formTarget",h.formTarget,h,null)):(Xt(e,n,"encType",h.encType,h,null),Xt(e,n,"method",h.method,h,null),Xt(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=sa(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=Hn);break;case"onScroll":l!=null&&It("scroll",e);break;case"onScrollEnd":l!=null&&It("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=sa(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":It("beforetoggle",e),It("toggle",e),ea(e,"popover",l);break;case"xlinkActuate":Te(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Te(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Te(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Te(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Te(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Te(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Te(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Te(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Te(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ea(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=ru.get(s)||s,ea(e,s,l))}}function cd(e,n,s,l,h,f){switch(s){case"style":wl(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?rn(e,l):(typeof l=="number"||typeof l=="bigint")&&rn(e,""+l);break;case"onScroll":l!=null&&It("scroll",e);break;case"onScrollEnd":l!=null&&It("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_l.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Ve]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,h);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):ea(e,s,l)}}}function He(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",e),It("load",e);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xt(e,n,f,g,s,null)}}h&&Xt(e,n,"srcSet",s.srcSet,s,null),l&&Xt(e,n,"src",s.src,s,null);return;case"input":It("invalid",e);var E=f=g=h=null,C=null,z=null;for(l in s)if(s.hasOwnProperty(l)){var F=s[l];if(F!=null)switch(l){case"name":h=F;break;case"type":g=F;break;case"checked":C=F;break;case"defaultChecked":z=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:Xt(e,n,l,F,s,null)}}nu(e,f,E,C,z,g,h,!1);return;case"select":It("invalid",e),l=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:Xt(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!l,n!=null?os(e,!!l,n,!1):s!=null&&os(e,!!l,s,!0);return;case"textarea":It("invalid",e),f=h=l=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Xt(e,n,g,E,s,null)}us(e,l,h,f);return;case"option":for(C in s)s.hasOwnProperty(C)&&(l=s[C],l!=null)&&(C==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Xt(e,n,C,l,s,null));return;case"dialog":It("beforetoggle",e),It("toggle",e),It("cancel",e),It("close",e);break;case"iframe":case"object":It("load",e);break;case"video":case"audio":for(l=0;l<ro.length;l++)It(ro[l],e);break;case"image":It("error",e),It("load",e);break;case"details":It("toggle",e);break;case"embed":case"source":case"link":It("error",e),It("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(l=s[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Xt(e,n,z,l,s,null)}return;default:if(ia(n)){for(F in s)s.hasOwnProperty(F)&&(l=s[F],l!==void 0&&cd(e,n,F,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&Xt(e,n,E,l,s,null))}function F1(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,C=null,z=null,F=null;for(q in s){var Y=s[q];if(s.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=Y;default:l.hasOwnProperty(q)||Xt(e,n,q,null,l,Y)}}for(var j in l){var q=l[j];if(Y=s[j],l.hasOwnProperty(j)&&(q!=null||Y!=null))switch(j){case"type":f=q;break;case"name":h=q;break;case"checked":z=q;break;case"defaultChecked":F=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Y&&Xt(e,n,j,q,l,Y)}}na(e,g,E,C,z,F,f,h);return;case"select":q=g=E=j=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":q=C;default:l.hasOwnProperty(f)||Xt(e,n,f,null,l,C)}for(h in l)if(f=l[h],C=s[h],l.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":j=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==C&&Xt(e,n,h,f,l,C)}n=E,s=g,l=q,j!=null?os(e,!!s,j,!1):!!l!=!!s&&(n!=null?os(e,!!s,n,!0):os(e,!!s,s?[]:"",!1));return;case"textarea":q=j=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Xt(e,n,E,null,l,h)}for(g in l)if(h=l[g],f=s[g],l.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":j=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Xt(e,n,g,h,l,f)}iu(e,j,q);return;case"option":for(var at in s)j=s[at],s.hasOwnProperty(at)&&j!=null&&!l.hasOwnProperty(at)&&(at==="selected"?e.selected=!1:Xt(e,n,at,null,l,j));for(C in l)j=l[C],q=s[C],l.hasOwnProperty(C)&&j!==q&&(j!=null||q!=null)&&(C==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":Xt(e,n,C,j,l,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in s)j=s[mt],s.hasOwnProperty(mt)&&j!=null&&!l.hasOwnProperty(mt)&&Xt(e,n,mt,null,l,j);for(z in l)if(j=l[z],q=s[z],l.hasOwnProperty(z)&&j!==q&&(j!=null||q!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:Xt(e,n,z,j,l,q)}return;default:if(ia(n)){for(var Zt in s)j=s[Zt],s.hasOwnProperty(Zt)&&j!==void 0&&!l.hasOwnProperty(Zt)&&cd(e,n,Zt,void 0,l,j);for(F in l)j=l[F],q=s[F],!l.hasOwnProperty(F)||j===q||j===void 0&&q===void 0||cd(e,n,F,j,l,q);return}}for(var k in s)j=s[k],s.hasOwnProperty(k)&&j!=null&&!l.hasOwnProperty(k)&&Xt(e,n,k,null,l,j);for(Y in l)j=l[Y],q=s[Y],!l.hasOwnProperty(Y)||j===q||j==null&&q==null||Xt(e,n,Y,j,l,q)}function Wy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Q1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&Wy(g)){for(g=0,E=h.responseEnd,l+=1;l<s.length;l++){var C=s[l],z=C.startTime;if(z>E)break;var F=C.transferSize,Y=C.initiatorType;F&&Wy(Y)&&(C=C.responseEnd,g+=F*(C<E?1:(E-z)/(C-z)))}if(--l,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var hd=null,fd=null;function ac(e){return e.nodeType===9?e:e.ownerDocument}function t_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function e_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function dd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var md=null;function K1(){var e=window.event;return e&&e.type==="popstate"?e===md?!1:(md=e,!0):(md=null,!1)}var n_=typeof setTimeout=="function"?setTimeout:void 0,Y1=typeof clearTimeout=="function"?clearTimeout:void 0,i_=typeof Promise=="function"?Promise:void 0,X1=typeof queueMicrotask=="function"?queueMicrotask:typeof i_<"u"?function(e){return i_.resolve(null).then(e).catch(Z1)}:n_;function Z1(e){setTimeout(function(){throw e})}function Os(e){return e==="head"}function s_(e,n){var s=n,l=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(h),Pa(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")lo(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,lo(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ai]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&lo(e.ownerDocument.body);s=h}while(s);Pa(n)}function r_(e,n){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function gd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":gd(s),ta(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function J1(e,n,s,l){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[ai])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=kn(e.nextSibling),e===null)break}return null}function $1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=kn(e.nextSibling),e===null))return null;return e}function a_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=kn(e.nextSibling),e===null))return null;return e}function pd(e){return e.data==="$?"||e.data==="$~"}function yd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function W1(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function kn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var _d=null;function l_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return kn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function o_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function u_(e,n,s){switch(n=ac(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function lo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ta(e)}var Un=new Map,c_=new Set;function lc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Zi=et.d;et.d={f:tb,r:eb,D:nb,C:ib,L:sb,m:rb,X:lb,S:ab,M:ob};function tb(){var e=Zi.f(),n=$u();return e||n}function eb(e){var n=wn(e);n!==null&&n.tag===5&&n.type==="form"?Cp(n):Zi.r(e)}var ka=typeof document>"u"?null:document;function h_(e,n,s){var l=ka;if(l&&typeof n=="string"&&n){var h=sn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),c_.has(h)||(c_.add(h),e={rel:e,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),He(n,"link",e),Ee(n),l.head.appendChild(n)))}}function nb(e){Zi.D(e),h_("dns-prefetch",e,null)}function ib(e,n){Zi.C(e,n),h_("preconnect",e,n)}function sb(e,n,s){Zi.L(e,n,s);var l=ka;if(l&&e&&n){var h='link[rel="preload"][as="'+sn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+sn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+sn(s.imageSizes)+'"]')):h+='[href="'+sn(e)+'"]';var f=h;switch(n){case"style":f=Ua(e);break;case"script":f=La(e)}Un.has(f)||(e=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Un.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(oo(f))||n==="script"&&l.querySelector(uo(f))||(n=l.createElement("link"),He(n,"link",e),Ee(n),l.head.appendChild(n)))}}function rb(e,n){Zi.m(e,n);var s=ka;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+sn(l)+'"][href="'+sn(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=La(e)}if(!Un.has(f)&&(e=S({rel:"modulepreload",href:e},n),Un.set(f,e),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(uo(f)))return}l=s.createElement("link"),He(l,"link",e),Ee(l),s.head.appendChild(l)}}}function ab(e,n,s){Zi.S(e,n,s);var l=ka;if(l&&e){var h=oi(l).hoistableStyles,f=Ua(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(oo(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Un.get(f))&&vd(e,s);var C=g=l.createElement("link");Ee(C),He(C,"link",e),C._p=new Promise(function(z,F){C.onload=z,C.onerror=F}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,oc(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function lb(e,n){Zi.X(e,n);var s=ka;if(s&&e){var l=oi(s).hoistableScripts,h=La(e),f=l.get(h);f||(f=s.querySelector(uo(h)),f||(e=S({src:e,async:!0},n),(n=Un.get(h))&&Ed(e,n),f=s.createElement("script"),Ee(f),He(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function ob(e,n){Zi.M(e,n);var s=ka;if(s&&e){var l=oi(s).hoistableScripts,h=La(e),f=l.get(h);f||(f=s.querySelector(uo(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Un.get(h))&&Ed(e,n),f=s.createElement("script"),Ee(f),He(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function f_(e,n,s,l){var h=(h=wt.current)?lc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ua(s.href),s=oi(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ua(s.href);var f=oi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(oo(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Un.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Un.set(e,s),f||ub(h,e,s,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=La(s),s=oi(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ua(e){return'href="'+sn(e)+'"'}function oo(e){return'link[rel="stylesheet"]['+e+"]"}function d_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function ub(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),He(n,"link",s),Ee(n),e.head.appendChild(n))}function La(e){return'[src="'+sn(e)+'"]'}function uo(e){return"script[async]"+e}function m_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+sn(s.href)+'"]');if(l)return n.instance=l,Ee(l),l;var h=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ee(l),He(l,"style",h),oc(l,s.precedence,e),n.instance=l;case"stylesheet":h=Ua(s.href);var f=e.querySelector(oo(h));if(f)return n.state.loading|=4,n.instance=f,Ee(f),f;l=d_(s),(h=Un.get(h))&&vd(l,h),f=(e.ownerDocument||e).createElement("link"),Ee(f);var g=f;return g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),He(f,"link",l),n.state.loading|=4,oc(f,s.precedence,e),n.instance=f;case"script":return f=La(s.src),(h=e.querySelector(uo(f)))?(n.instance=h,Ee(h),h):(l=s,(h=Un.get(f))&&(l=S({},s),Ed(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ee(h),He(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,oc(l,s.precedence,e));return n.instance}function oc(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function vd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Ed(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var uc=null;function g_(e,n,s){if(uc===null){var l=new Map,h=uc=new Map;h.set(s,l)}else h=uc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[ai]||f[ve]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function p_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function cb(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function y_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function hb(e,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ua(l.href),f=n.querySelector(oo(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=cc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Ee(f);return}f=n.ownerDocument||n,l=d_(l),(h=Un.get(h))&&vd(l,h),f=f.createElement("link"),Ee(f);var g=f;g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),He(f,"link",l),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=cc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Td=0;function fb(e,n){return e.stylesheets&&e.count===0&&fc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&fc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Td===0&&(Td=62500*Q1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&fc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Td?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function cc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)fc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var hc=null;function fc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,hc=new Map,n.forEach(db,e),hc=null,cc.call(e))}function db(e,n){if(!(n.state.loading&4)){var s=hc.get(e);if(s)var l=s.get(null);else{s=new Map,hc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||l,f===l&&s.set(null,h),s.set(g,h),this.count++,l=cc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var co={$$typeof:gt,Provider:null,Consumer:null,_currentValue:ut,_currentValue2:ut,_threadCount:0};function mb(e,n,s,l,h,f,g,E,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=si(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=si(0),this.hiddenUpdates=si(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function __(e,n,s,l,h,f,g,E,C,z,F,Y){return e=new mb(e,n,s,g,C,z,F,Y,E),n=1,f===!0&&(n|=24),f=yn(3,null,null,n),e.current=f,f.stateNode=e,n=Wh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},sf(f),e}function v_(e){return e?(e=ma,e):ma}function E_(e,n,s,l,h,f){h=v_(h),l.context===null?l.context=h:l.pendingContext=h,l=Ts(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=bs(e,l,n),s!==null&&(cn(s,e,n),ql(s,e,n))}function T_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function bd(e,n){T_(e,n),(e=e.alternate)&&T_(e,n)}function b_(e){if(e.tag===13||e.tag===31){var n=wr(e,67108864);n!==null&&cn(n,e,67108864),bd(e,67108864)}}function A_(e){if(e.tag===13||e.tag===31){var n=bn();n=dr(n);var s=wr(e,n);s!==null&&cn(s,e,n),bd(e,n)}}var dc=!0;function gb(e,n,s,l){var h=G.T;G.T=null;var f=et.p;try{et.p=2,Ad(e,n,s,l)}finally{et.p=f,G.T=h}}function pb(e,n,s,l){var h=G.T;G.T=null;var f=et.p;try{et.p=8,Ad(e,n,s,l)}finally{et.p=f,G.T=h}}function Ad(e,n,s,l){if(dc){var h=Sd(l);if(h===null)ud(e,n,l,mc,s),w_(e,l);else if(_b(h,e,n,s,l))l.stopPropagation();else if(w_(e,l),n&4&&-1<yb.indexOf(e)){for(;h!==null;){var f=wn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ni(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var C=1<<31-fe(g);E.entanglements[1]|=C,g&=~C}Ti(f),(Bt&6)===0&&(Zu=We()+500,so(0))}}break;case 31:case 13:E=wr(f,2),E!==null&&cn(E,f,2),$u(),bd(f,2)}if(f=Sd(l),f===null&&ud(e,n,l,mc,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else ud(e,n,l,null,s)}}function Sd(e){return e=Rn(e),wd(e)}var mc=null;function wd(e){if(mc=null,e=li(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=y(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return mc=e,null}function S_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ur()){case dl:return 2;case ml:return 8;case as:case Nh:return 32;case Qo:return 268435456;default:return 32}default:return 32}}var Rd=!1,Ms=null,Vs=null,ks=null,ho=new Map,fo=new Map,Us=[],yb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function w_(e,n){switch(e){case"focusin":case"focusout":Ms=null;break;case"dragenter":case"dragleave":Vs=null;break;case"mouseover":case"mouseout":ks=null;break;case"pointerover":case"pointerout":ho.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":fo.delete(n.pointerId)}}function mo(e,n,s,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=wn(n),n!==null&&b_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function _b(e,n,s,l,h){switch(n){case"focusin":return Ms=mo(Ms,e,n,s,l,h),!0;case"dragenter":return Vs=mo(Vs,e,n,s,l,h),!0;case"mouseover":return ks=mo(ks,e,n,s,l,h),!0;case"pointerover":var f=h.pointerId;return ho.set(f,mo(ho.get(f)||null,e,n,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,fo.set(f,mo(fo.get(f)||null,e,n,s,l,h)),!0}return!1}function R_(e){var n=li(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Bn(e.priority,function(){A_(s)});return}}else if(n===31){if(n=y(s),n!==null){e.blockedOn=n,Bn(e.priority,function(){A_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function gc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Sd(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Rl=l,s.target.dispatchEvent(l),Rl=null}else return n=wn(s),n!==null&&b_(n),e.blockedOn=s,!1;n.shift()}return!0}function C_(e,n,s){gc(e)&&s.delete(n)}function vb(){Rd=!1,Ms!==null&&gc(Ms)&&(Ms=null),Vs!==null&&gc(Vs)&&(Vs=null),ks!==null&&gc(ks)&&(ks=null),ho.forEach(C_),fo.forEach(C_)}function pc(e,n){e.blockedOn===n&&(e.blockedOn=null,Rd||(Rd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,vb)))}var yc=null;function I_(e){yc!==e&&(yc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){yc===e&&(yc=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(wd(l||s)===null)continue;break}var f=wn(s);f!==null&&(e.splice(n,3),n-=3,Sf(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Pa(e){function n(C){return pc(C,e)}Ms!==null&&pc(Ms,e),Vs!==null&&pc(Vs,e),ks!==null&&pc(ks,e),ho.forEach(n),fo.forEach(n);for(var s=0;s<Us.length;s++){var l=Us[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Us.length&&(s=Us[0],s.blockedOn===null);)R_(s),s.blockedOn===null&&Us.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],g=h[Ve]||null;if(typeof f=="function")g||I_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Ve]||null)E=g.formAction;else if(wd(h)!==null)continue}else E=g.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),I_(s)}}}function x_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Cd(e){this._internalRoot=e}_c.prototype.render=Cd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=bn();E_(s,l,e,n,null,null)},_c.prototype.unmount=Cd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;E_(e.current,2,null,e,null,null),$u(),n[ri]=null}};function _c(e){this._internalRoot=e}_c.prototype.unstable_scheduleHydration=function(e){if(e){var n=$o();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Us.length&&n!==0&&n<Us[s].priority;s++);Us.splice(s,0,e),s===0&&R_(e)}};var N_=t.version;if(N_!=="19.2.3")throw Error(a(527,N_,"19.2.3"));et.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=p(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var Eb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vc.isDisabled&&vc.supportsFiber)try{zn=vc.inject(Eb),Pe=vc}catch{}}return po.createRoot=function(e,n){if(!o(e))throw Error(a(299));var s=!1,l="",h=Lp,f=Pp,g=zp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=__(e,1,!1,null,null,s,l,null,h,f,g,x_),e[ri]=n.current,od(e),new Cd(n)},po.hydrateRoot=function(e,n,s){if(!o(e))throw Error(a(299));var l=!1,h="",f=Lp,g=Pp,E=zp,C=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=__(e,1,!0,n,s??null,l,h,C,f,g,E,x_),n.context=v_(null),s=n.current,l=bn(),l=dr(l),h=Ts(l),h.callback=null,bs(s,h,l),s=l,n.current.lanes=s,hr(n,s),Ti(n),e[ri]=n.current,od(e),new _c(n)},po.version="19.2.3",po}var j_;function Db(){if(j_)return Nd.exports;j_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Nd.exports=Nb(),Nd.exports}var Ob=Db();const Mb=p0(Ob),Vb=()=>{};var B_={};const y0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},kb=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];t[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],y=r[i++],_=((o&7)<<18|(c&63)<<12|(d&63)<<6|y&63)-65536;t[a++]=String.fromCharCode(55296+(_>>10)),t[a++]=String.fromCharCode(56320+(_&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return t.join("")},_0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,y=d?r[o+1]:0,_=o+2<r.length,p=_?r[o+2]:0,b=c>>2,S=(c&3)<<4|y>>4;let V=(y&15)<<2|p>>6,Q=p&63;_||(Q=64,d||(V=64)),a.push(i[b],i[S],i[V],i[Q])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(y0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):kb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],y=o<r.length?i[r.charAt(o)]:0;++o;const p=o<r.length?i[r.charAt(o)]:64;++o;const S=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||y==null||p==null||S==null)throw new Ub;const V=c<<2|y>>4;if(a.push(V),p!==64){const Q=y<<4&240|p>>2;if(a.push(Q),S!==64){const $=p<<6&192|S;a.push($)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Ub extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Lb=function(r){const t=y0(r);return _0.encodeByteArray(t,!0)},Lc=function(r){return Lb(r).replace(/\./g,"")},v0=function(r){try{return _0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Pb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const zb=()=>Pb().__FIREBASE_DEFAULTS__,jb=()=>{if(typeof process>"u"||typeof B_>"u")return;const r=B_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Bb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&v0(r[1]);return t&&JSON.parse(t)},rh=()=>{try{return Vb()||zb()||jb()||Bb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},E0=r=>rh()?.emulatorHosts?.[r],qb=r=>{const t=E0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},T0=()=>rh()?.config,b0=r=>rh()?.[`_${r}`];class Hb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function il(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function A0(r){return(await fetch(r,{credentials:"include"})).ok}function Gb(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Lc(JSON.stringify(i)),Lc(JSON.stringify(d)),""].join(".")}const To={};function Fb(){const r={prod:[],emulator:[]};for(const t of Object.keys(To))To[t]?r.emulator.push(t):r.prod.push(t);return r}function Qb(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let q_=!1;function S0(r,t){if(typeof window>"u"||typeof document>"u"||!il(window.location.host)||To[r]===t||To[r]||q_)return;To[r]=t;function i(V){return`__firebase__banner__${V}`}const a="__firebase__banner",c=Fb().prod.length>0;function d(){const V=document.getElementById(a);V&&V.remove()}function y(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function _(V,Q){V.setAttribute("width","24"),V.setAttribute("id",Q),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function p(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{q_=!0,d()},V}function b(V,Q){V.setAttribute("id",Q),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function S(){const V=Qb(a),Q=i("text"),$=document.getElementById(Q)||document.createElement("span"),nt=i("learnmore"),J=document.getElementById(nt)||document.createElement("a"),dt=i("preprendIcon"),vt=document.getElementById(dt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const gt=V.element;y(gt),b(J,nt);const qt=p();_(vt,dt),gt.append(vt,$,J,qt),document.body.appendChild(gt)}c?($.innerText="Preview backend disconnected.",vt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(vt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,$.innerText="Preview backend running in this workspace."),$.setAttribute("id",Q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function $e(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Kb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function Yb(){const r=rh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Xb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Zb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Jb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function $b(){const r=$e();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Wb(){return!Yb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tA(){try{return typeof indexedDB=="object"}catch{return!1}}function eA(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const nA="FirebaseError";class ss extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=nA,Object.setPrototypeOf(this,ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vo.prototype.create)}}class Vo{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?iA(c,a):"Error",y=`${this.serviceName}: ${d} (${o}).`;return new ss(o,y,a)}}function iA(r,t){return r.replace(sA,(i,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const sA=/\{\$([^}]+)}/g;function rA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Js(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const o of i){if(!a.includes(o))return!1;const c=r[o],d=t[o];if(H_(c)&&H_(d)){if(!Js(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function H_(r){return r!==null&&typeof r=="object"}function ko(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function aA(r,t){const i=new lA(r,t);return i.subscribe.bind(i)}class lA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let o;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");oA(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:a},o.next===void 0&&(o.next=Vd),o.error===void 0&&(o.error=Vd),o.complete===void 0&&(o.complete=Vd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function oA(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Vd(){}function nn(r){return r&&r._delegate?r._delegate:r}class qr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Pr="[DEFAULT]";class uA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new Hb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(hA(t))try{this.getOrInitializeService({instanceIdentifier:Pr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(t=Pr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Pr){return this.instances.has(t)}getOptions(t=Pr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const y=this.normalizeInstanceIdentifier(c);a===y&&d.resolve(o)}return o}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(t),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&t(c,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:cA(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Pr){return this.component?this.component.multipleInstances?t:Pr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cA(r){return r===Pr?void 0:r}function hA(r){return r.instantiationMode==="EAGER"}class fA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new uA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Ot;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ot||(Ot={}));const dA={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},mA=Ot.INFO,gA={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},pA=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),o=gA[t];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Am{constructor(t){this.name=t,this._logLevel=mA,this._logHandler=pA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?dA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const yA=(r,t)=>t.some(i=>r instanceof i);let G_,F_;function _A(){return G_||(G_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vA(){return F_||(F_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const w0=new WeakMap,Xd=new WeakMap,R0=new WeakMap,kd=new WeakMap,Sm=new WeakMap;function EA(r){const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Fs(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&w0.set(i,r)}).catch(()=>{}),Sm.set(t,r),t}function TA(r){if(Xd.has(r))return;const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Xd.set(r,t)}let Zd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Xd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||R0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Fs(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function bA(r){Zd=r(Zd)}function AA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Ud(this),t,...i);return R0.set(a,t.sort?t.sort():[t]),Fs(a)}:vA().includes(r)?function(...t){return r.apply(Ud(this),t),Fs(w0.get(this))}:function(...t){return Fs(r.apply(Ud(this),t))}}function SA(r){return typeof r=="function"?AA(r):(r instanceof IDBTransaction&&TA(r),yA(r,_A())?new Proxy(r,Zd):r)}function Fs(r){if(r instanceof IDBRequest)return EA(r);if(kd.has(r))return kd.get(r);const t=SA(r);return t!==r&&(kd.set(r,t),Sm.set(t,r)),t}const Ud=r=>Sm.get(r);function wA(r,t,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(r,t),y=Fs(d);return a&&d.addEventListener("upgradeneeded",_=>{a(Fs(d.result),_.oldVersion,_.newVersion,Fs(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),y.then(_=>{c&&_.addEventListener("close",()=>c()),o&&_.addEventListener("versionchange",p=>o(p.oldVersion,p.newVersion,p))}).catch(()=>{}),y}const RA=["get","getKey","getAll","getAllKeys","count"],CA=["put","add","delete","clear"],Ld=new Map;function Q_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Ld.get(t))return Ld.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,o=CA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||RA.includes(i)))return;const c=async function(d,...y){const _=this.transaction(d,o?"readwrite":"readonly");let p=_.store;return a&&(p=p.index(y.shift())),(await Promise.all([p[i](...y),o&&_.done]))[0]};return Ld.set(t,c),c}bA(r=>({...r,get:(t,i,a)=>Q_(t,i)||r.get(t,i,a),has:(t,i)=>!!Q_(t,i)||r.has(t,i)}));class IA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(xA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function xA(r){return r.getComponent()?.type==="VERSION"}const Jd="@firebase/app",K_="0.14.6";const Wi=new Am("@firebase/app"),NA="@firebase/app-compat",DA="@firebase/analytics-compat",OA="@firebase/analytics",MA="@firebase/app-check-compat",VA="@firebase/app-check",kA="@firebase/auth",UA="@firebase/auth-compat",LA="@firebase/database",PA="@firebase/data-connect",zA="@firebase/database-compat",jA="@firebase/functions",BA="@firebase/functions-compat",qA="@firebase/installations",HA="@firebase/installations-compat",GA="@firebase/messaging",FA="@firebase/messaging-compat",QA="@firebase/performance",KA="@firebase/performance-compat",YA="@firebase/remote-config",XA="@firebase/remote-config-compat",ZA="@firebase/storage",JA="@firebase/storage-compat",$A="@firebase/firestore",WA="@firebase/ai",tS="@firebase/firestore-compat",eS="firebase",nS="12.6.0";const $d="[DEFAULT]",iS={[Jd]:"fire-core",[NA]:"fire-core-compat",[OA]:"fire-analytics",[DA]:"fire-analytics-compat",[VA]:"fire-app-check",[MA]:"fire-app-check-compat",[kA]:"fire-auth",[UA]:"fire-auth-compat",[LA]:"fire-rtdb",[PA]:"fire-data-connect",[zA]:"fire-rtdb-compat",[jA]:"fire-fn",[BA]:"fire-fn-compat",[qA]:"fire-iid",[HA]:"fire-iid-compat",[GA]:"fire-fcm",[FA]:"fire-fcm-compat",[QA]:"fire-perf",[KA]:"fire-perf-compat",[YA]:"fire-rc",[XA]:"fire-rc-compat",[ZA]:"fire-gcs",[JA]:"fire-gcs-compat",[$A]:"fire-fst",[tS]:"fire-fst-compat",[WA]:"fire-vertex","fire-js":"fire-js",[eS]:"fire-js-all"};const Pc=new Map,sS=new Map,Wd=new Map;function Y_(r,t){try{r.container.addComponent(t)}catch(i){Wi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Xa(r){const t=r.name;if(Wd.has(t))return Wi.debug(`There were multiple attempts to register component ${t}.`),!1;Wd.set(t,r);for(const i of Pc.values())Y_(i,r);for(const i of sS.values())Y_(i,r);return!0}function wm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function $n(r){return r==null?!1:r.settings!==void 0}const rS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qs=new Vo("app","Firebase",rS);class aS{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new qr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Qs.create("app-deleted",{appName:this._name})}}const sl=nS;function C0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:$d,automaticDataCollectionEnabled:!0,...t},o=a.name;if(typeof o!="string"||!o)throw Qs.create("bad-app-name",{appName:String(o)});if(i||(i=T0()),!i)throw Qs.create("no-options");const c=Pc.get(o);if(c){if(Js(i,c.options)&&Js(a,c.config))return c;throw Qs.create("duplicate-app",{appName:o})}const d=new fA(o);for(const _ of Wd.values())d.addComponent(_);const y=new aS(i,a,d);return Pc.set(o,y),y}function I0(r=$d){const t=Pc.get(r);if(!t&&r===$d&&T0())return C0();if(!t)throw Qs.create("no-app",{appName:r});return t}function Ks(r,t,i){let a=iS[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${t}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Wi.warn(d.join(" "));return}Xa(new qr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const lS="firebase-heartbeat-database",oS=1,Co="firebase-heartbeat-store";let Pd=null;function x0(){return Pd||(Pd=wA(lS,oS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Co)}catch(i){console.warn(i)}}}}).catch(r=>{throw Qs.create("idb-open",{originalErrorMessage:r.message})})),Pd}async function uS(r){try{const i=(await x0()).transaction(Co),a=await i.objectStore(Co).get(N0(r));return await i.done,a}catch(t){if(t instanceof ss)Wi.warn(t.message);else{const i=Qs.create("idb-get",{originalErrorMessage:t?.message});Wi.warn(i.message)}}}async function X_(r,t){try{const a=(await x0()).transaction(Co,"readwrite");await a.objectStore(Co).put(t,N0(r)),await a.done}catch(i){if(i instanceof ss)Wi.warn(i.message);else{const a=Qs.create("idb-set",{originalErrorMessage:i?.message});Wi.warn(a.message)}}}function N0(r){return`${r.name}!${r.options.appId}`}const cS=1024,hS=30;class fS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new mS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Z_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>hS){const o=gS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Wi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Z_(),{heartbeatsToSend:i,unsentEntries:a}=dS(this._heartbeatsCache.heartbeats),o=Lc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Wi.warn(t),""}}}function Z_(){return new Date().toISOString().substring(0,10)}function dS(r,t=cS){const i=[];let a=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),J_(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),J_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class mS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tA()?eA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await uS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return X_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return X_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function J_(r){return Lc(JSON.stringify({version:2,heartbeats:r})).length}function gS(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function pS(r){Xa(new qr("platform-logger",t=>new IA(t),"PRIVATE")),Xa(new qr("heartbeat",t=>new fS(t),"PRIVATE")),Ks(Jd,K_,r),Ks(Jd,K_,"esm2020"),Ks("fire-js","")}pS("");var yS="firebase",_S="12.7.0";Ks(yS,_S,"app");var $_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ys,D0;(function(){var r;function t(N,w){function I(){}I.prototype=w.prototype,N.F=w.prototype,N.prototype=new I,N.prototype.constructor=N,N.D=function(M,D,U){for(var R=Array(arguments.length-2),Wt=2;Wt<arguments.length;Wt++)R[Wt-2]=arguments[Wt];return w.prototype[D].apply(M,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,w,I){I||(I=0);const M=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)M[D]=w.charCodeAt(I++)|w.charCodeAt(I++)<<8|w.charCodeAt(I++)<<16|w.charCodeAt(I++)<<24;else for(D=0;D<16;++D)M[D]=w[I++]|w[I++]<<8|w[I++]<<16|w[I++]<<24;w=N.g[0],I=N.g[1],D=N.g[2];let U=N.g[3],R;R=w+(U^I&(D^U))+M[0]+3614090360&4294967295,w=I+(R<<7&4294967295|R>>>25),R=U+(D^w&(I^D))+M[1]+3905402710&4294967295,U=w+(R<<12&4294967295|R>>>20),R=D+(I^U&(w^I))+M[2]+606105819&4294967295,D=U+(R<<17&4294967295|R>>>15),R=I+(w^D&(U^w))+M[3]+3250441966&4294967295,I=D+(R<<22&4294967295|R>>>10),R=w+(U^I&(D^U))+M[4]+4118548399&4294967295,w=I+(R<<7&4294967295|R>>>25),R=U+(D^w&(I^D))+M[5]+1200080426&4294967295,U=w+(R<<12&4294967295|R>>>20),R=D+(I^U&(w^I))+M[6]+2821735955&4294967295,D=U+(R<<17&4294967295|R>>>15),R=I+(w^D&(U^w))+M[7]+4249261313&4294967295,I=D+(R<<22&4294967295|R>>>10),R=w+(U^I&(D^U))+M[8]+1770035416&4294967295,w=I+(R<<7&4294967295|R>>>25),R=U+(D^w&(I^D))+M[9]+2336552879&4294967295,U=w+(R<<12&4294967295|R>>>20),R=D+(I^U&(w^I))+M[10]+4294925233&4294967295,D=U+(R<<17&4294967295|R>>>15),R=I+(w^D&(U^w))+M[11]+2304563134&4294967295,I=D+(R<<22&4294967295|R>>>10),R=w+(U^I&(D^U))+M[12]+1804603682&4294967295,w=I+(R<<7&4294967295|R>>>25),R=U+(D^w&(I^D))+M[13]+4254626195&4294967295,U=w+(R<<12&4294967295|R>>>20),R=D+(I^U&(w^I))+M[14]+2792965006&4294967295,D=U+(R<<17&4294967295|R>>>15),R=I+(w^D&(U^w))+M[15]+1236535329&4294967295,I=D+(R<<22&4294967295|R>>>10),R=w+(D^U&(I^D))+M[1]+4129170786&4294967295,w=I+(R<<5&4294967295|R>>>27),R=U+(I^D&(w^I))+M[6]+3225465664&4294967295,U=w+(R<<9&4294967295|R>>>23),R=D+(w^I&(U^w))+M[11]+643717713&4294967295,D=U+(R<<14&4294967295|R>>>18),R=I+(U^w&(D^U))+M[0]+3921069994&4294967295,I=D+(R<<20&4294967295|R>>>12),R=w+(D^U&(I^D))+M[5]+3593408605&4294967295,w=I+(R<<5&4294967295|R>>>27),R=U+(I^D&(w^I))+M[10]+38016083&4294967295,U=w+(R<<9&4294967295|R>>>23),R=D+(w^I&(U^w))+M[15]+3634488961&4294967295,D=U+(R<<14&4294967295|R>>>18),R=I+(U^w&(D^U))+M[4]+3889429448&4294967295,I=D+(R<<20&4294967295|R>>>12),R=w+(D^U&(I^D))+M[9]+568446438&4294967295,w=I+(R<<5&4294967295|R>>>27),R=U+(I^D&(w^I))+M[14]+3275163606&4294967295,U=w+(R<<9&4294967295|R>>>23),R=D+(w^I&(U^w))+M[3]+4107603335&4294967295,D=U+(R<<14&4294967295|R>>>18),R=I+(U^w&(D^U))+M[8]+1163531501&4294967295,I=D+(R<<20&4294967295|R>>>12),R=w+(D^U&(I^D))+M[13]+2850285829&4294967295,w=I+(R<<5&4294967295|R>>>27),R=U+(I^D&(w^I))+M[2]+4243563512&4294967295,U=w+(R<<9&4294967295|R>>>23),R=D+(w^I&(U^w))+M[7]+1735328473&4294967295,D=U+(R<<14&4294967295|R>>>18),R=I+(U^w&(D^U))+M[12]+2368359562&4294967295,I=D+(R<<20&4294967295|R>>>12),R=w+(I^D^U)+M[5]+4294588738&4294967295,w=I+(R<<4&4294967295|R>>>28),R=U+(w^I^D)+M[8]+2272392833&4294967295,U=w+(R<<11&4294967295|R>>>21),R=D+(U^w^I)+M[11]+1839030562&4294967295,D=U+(R<<16&4294967295|R>>>16),R=I+(D^U^w)+M[14]+4259657740&4294967295,I=D+(R<<23&4294967295|R>>>9),R=w+(I^D^U)+M[1]+2763975236&4294967295,w=I+(R<<4&4294967295|R>>>28),R=U+(w^I^D)+M[4]+1272893353&4294967295,U=w+(R<<11&4294967295|R>>>21),R=D+(U^w^I)+M[7]+4139469664&4294967295,D=U+(R<<16&4294967295|R>>>16),R=I+(D^U^w)+M[10]+3200236656&4294967295,I=D+(R<<23&4294967295|R>>>9),R=w+(I^D^U)+M[13]+681279174&4294967295,w=I+(R<<4&4294967295|R>>>28),R=U+(w^I^D)+M[0]+3936430074&4294967295,U=w+(R<<11&4294967295|R>>>21),R=D+(U^w^I)+M[3]+3572445317&4294967295,D=U+(R<<16&4294967295|R>>>16),R=I+(D^U^w)+M[6]+76029189&4294967295,I=D+(R<<23&4294967295|R>>>9),R=w+(I^D^U)+M[9]+3654602809&4294967295,w=I+(R<<4&4294967295|R>>>28),R=U+(w^I^D)+M[12]+3873151461&4294967295,U=w+(R<<11&4294967295|R>>>21),R=D+(U^w^I)+M[15]+530742520&4294967295,D=U+(R<<16&4294967295|R>>>16),R=I+(D^U^w)+M[2]+3299628645&4294967295,I=D+(R<<23&4294967295|R>>>9),R=w+(D^(I|~U))+M[0]+4096336452&4294967295,w=I+(R<<6&4294967295|R>>>26),R=U+(I^(w|~D))+M[7]+1126891415&4294967295,U=w+(R<<10&4294967295|R>>>22),R=D+(w^(U|~I))+M[14]+2878612391&4294967295,D=U+(R<<15&4294967295|R>>>17),R=I+(U^(D|~w))+M[5]+4237533241&4294967295,I=D+(R<<21&4294967295|R>>>11),R=w+(D^(I|~U))+M[12]+1700485571&4294967295,w=I+(R<<6&4294967295|R>>>26),R=U+(I^(w|~D))+M[3]+2399980690&4294967295,U=w+(R<<10&4294967295|R>>>22),R=D+(w^(U|~I))+M[10]+4293915773&4294967295,D=U+(R<<15&4294967295|R>>>17),R=I+(U^(D|~w))+M[1]+2240044497&4294967295,I=D+(R<<21&4294967295|R>>>11),R=w+(D^(I|~U))+M[8]+1873313359&4294967295,w=I+(R<<6&4294967295|R>>>26),R=U+(I^(w|~D))+M[15]+4264355552&4294967295,U=w+(R<<10&4294967295|R>>>22),R=D+(w^(U|~I))+M[6]+2734768916&4294967295,D=U+(R<<15&4294967295|R>>>17),R=I+(U^(D|~w))+M[13]+1309151649&4294967295,I=D+(R<<21&4294967295|R>>>11),R=w+(D^(I|~U))+M[4]+4149444226&4294967295,w=I+(R<<6&4294967295|R>>>26),R=U+(I^(w|~D))+M[11]+3174756917&4294967295,U=w+(R<<10&4294967295|R>>>22),R=D+(w^(U|~I))+M[2]+718787259&4294967295,D=U+(R<<15&4294967295|R>>>17),R=I+(U^(D|~w))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(D+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+U&4294967295}a.prototype.v=function(N,w){w===void 0&&(w=N.length);const I=w-this.blockSize,M=this.C;let D=this.h,U=0;for(;U<w;){if(D==0)for(;U<=I;)o(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<w;)if(M[D++]=N.charCodeAt(U++),D==this.blockSize){o(this,M),D=0;break}}else for(;U<w;)if(M[D++]=N[U++],D==this.blockSize){o(this,M),D=0;break}}this.h=D,this.o+=w},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;w=this.o*8;for(var I=N.length-8;I<N.length;++I)N[I]=w&255,w/=256;for(this.v(N),N=Array(16),w=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)N[w++]=this.g[I]>>>M&255;return N};function c(N,w){var I=y;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=w(N)}function d(N,w){this.h=w;const I=[];let M=!0;for(let D=N.length-1;D>=0;D--){const U=N[D]|0;M&&U==w||(I[D]=U,M=!1)}this.g=I}var y={};function _(N){return-128<=N&&N<128?c(N,function(w){return new d([w|0],w<0?-1:0)}):new d([N|0],N<0?-1:0)}function p(N){if(isNaN(N)||!isFinite(N))return S;if(N<0)return J(p(-N));const w=[];let I=1;for(let M=0;N>=I;M++)w[M]=N/I|0,I*=4294967296;return new d(w,0)}function b(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return J(b(N.substring(1),w));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=p(Math.pow(w,8));let M=S;for(let U=0;U<N.length;U+=8){var D=Math.min(8,N.length-U);const R=parseInt(N.substring(U,U+D),w);D<8?(D=p(Math.pow(w,D)),M=M.j(D).add(p(R))):(M=M.j(I),M=M.add(p(R)))}return M}var S=_(0),V=_(1),Q=_(16777216);r=d.prototype,r.m=function(){if(nt(this))return-J(this).m();let N=0,w=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);N+=(M>=0?M:4294967296+M)*w,w*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if($(this))return"0";if(nt(this))return"-"+J(this).toString(N);const w=p(Math.pow(N,6));var I=this;let M="";for(;;){const D=qt(I,w).g;I=dt(I,D.j(w));let U=((I.g.length>0?I.g[0]:I.h)>>>0).toString(N);if(I=D,$(I))return U+M;for(;U.length<6;)U="0"+U;M=U+M}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function $(N){if(N.h!=0)return!1;for(let w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function nt(N){return N.h==-1}r.l=function(N){return N=dt(this,N),nt(N)?-1:$(N)?0:1};function J(N){const w=N.g.length,I=[];for(let M=0;M<w;M++)I[M]=~N.g[M];return new d(I,~N.h).add(V)}r.abs=function(){return nt(this)?J(this):this},r.add=function(N){const w=Math.max(this.g.length,N.g.length),I=[];let M=0;for(let D=0;D<=w;D++){let U=M+(this.i(D)&65535)+(N.i(D)&65535),R=(U>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);M=R>>>16,U&=65535,R&=65535,I[D]=R<<16|U}return new d(I,I[I.length-1]&-2147483648?-1:0)};function dt(N,w){return N.add(J(w))}r.j=function(N){if($(this)||$(N))return S;if(nt(this))return nt(N)?J(this).j(J(N)):J(J(this).j(N));if(nt(N))return J(this.j(J(N)));if(this.l(Q)<0&&N.l(Q)<0)return p(this.m()*N.m());const w=this.g.length+N.g.length,I=[];for(var M=0;M<2*w;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<N.g.length;D++){const U=this.i(M)>>>16,R=this.i(M)&65535,Wt=N.i(D)>>>16,he=N.i(D)&65535;I[2*M+2*D]+=R*he,vt(I,2*M+2*D),I[2*M+2*D+1]+=U*he,vt(I,2*M+2*D+1),I[2*M+2*D+1]+=R*Wt,vt(I,2*M+2*D+1),I[2*M+2*D+2]+=U*Wt,vt(I,2*M+2*D+2)}for(N=0;N<w;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=w;N<2*w;N++)I[N]=0;return new d(I,0)};function vt(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function gt(N,w){this.g=N,this.h=w}function qt(N,w){if($(w))throw Error("division by zero");if($(N))return new gt(S,S);if(nt(N))return w=qt(J(N),w),new gt(J(w.g),J(w.h));if(nt(w))return w=qt(N,J(w)),new gt(J(w.g),w.h);if(N.g.length>30){if(nt(N)||nt(w))throw Error("slowDivide_ only works with positive integers.");for(var I=V,M=w;M.l(N)<=0;)I=Jt(I),M=Jt(M);var D=xt(I,1),U=xt(M,1);for(M=xt(M,2),I=xt(I,2);!$(M);){var R=U.add(M);R.l(N)<=0&&(D=D.add(I),U=R),M=xt(M,1),I=xt(I,1)}return w=dt(N,D.j(w)),new gt(D,w)}for(D=S;N.l(w)>=0;){for(I=Math.max(1,Math.floor(N.m()/w.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),U=p(I),R=U.j(w);nt(R)||R.l(N)>0;)I-=M,U=p(I),R=U.j(w);$(U)&&(U=V),D=D.add(U),N=dt(N,R)}return new gt(D,N)}r.B=function(N){return qt(this,N).h},r.and=function(N){const w=Math.max(this.g.length,N.g.length),I=[];for(let M=0;M<w;M++)I[M]=this.i(M)&N.i(M);return new d(I,this.h&N.h)},r.or=function(N){const w=Math.max(this.g.length,N.g.length),I=[];for(let M=0;M<w;M++)I[M]=this.i(M)|N.i(M);return new d(I,this.h|N.h)},r.xor=function(N){const w=Math.max(this.g.length,N.g.length),I=[];for(let M=0;M<w;M++)I[M]=this.i(M)^N.i(M);return new d(I,this.h^N.h)};function Jt(N){const w=N.g.length+1,I=[];for(let M=0;M<w;M++)I[M]=N.i(M)<<1|N.i(M-1)>>>31;return new d(I,N.h)}function xt(N,w){const I=w>>5;w%=32;const M=N.g.length-I,D=[];for(let U=0;U<M;U++)D[U]=w>0?N.i(U+I)>>>w|N.i(U+I+1)<<32-w:N.i(U+I);return new d(D,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,D0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=p,d.fromString=b,Ys=d}).apply(typeof $_<"u"?$_:typeof self<"u"?self:typeof window<"u"?window:{});var Ec=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var O0,yo,M0,Cc,tm,V0,k0,U0;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ec=="object"&&Ec];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in v))break t;v=v[L]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function p(u,m,v){return p=_,p.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var tt=Array(arguments.length-2),At=2;At<arguments.length;At++)tt[At-2]=arguments[At];return m.prototype[L].apply(T,tt)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function Q(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function $(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let tt=0;tt<B;tt++)u[v+tt]=L[tt]}else u.push(L)}}class nt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function dt(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class vt{constructor(){this.h=this.g=null}add(m,v){const T=gt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var gt=new nt(()=>new qt,u=>u.reset());class qt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Jt,xt=!1,N=new vt,w=()=>{const u=Promise.resolve(void 0);Jt=()=>{u.then(I)}};function I(){for(var u;u=dt();){try{u.h.call(u.g)}catch(v){J(v)}var m=gt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}xt=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function Wt(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(Wt,D),Wt.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Wt.Z.h.call(this)},Wt.prototype.h=function(){Wt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var he="closure_listenable_"+(Math.random()*1e6|0),G=0;function et(u,m,v,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++G,this.da=this.fa=!1}function ut(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function rt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function ct(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function x(u){const m={};for(const v in u)m[v]=u[v];return m}const H="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function W(u,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)u[v]=T[v];for(let B=0;B<H.length;B++)v=H[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function it(u){this.src=u,this.g={},this.h=0}it.prototype.add=function(u,m,v,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const tt=wt(u,m,T,L);return tt>-1?(m=u[tt],v||(m.fa=!1)):(m=new et(m,this.src,B,!!T,L),m.fa=v,u.push(m)),m};function yt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ut(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function wt(u,m,v,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return L}return-1}var Ut="closure_lm_"+(Math.random()*1e6|0),xe={};function se(u,m,v,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)se(u,m[B],v,T,L);return null}return v=fl(v),u&&u[he]?u.J(m,v,y(T)?!!T.capture:!1,L):lr(u,m,v,!1,T,L)}function lr(u,m,v,T,L,B){if(!m)throw Error("Invalid event type");const tt=y(L)?!!L.capture:!!L;let At=or(u);if(At||(u[Ut]=At=new it(u)),v=At.add(m,v,T,tt,B),v.proxy)return v;if(T=Xr(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)U||(L=tt),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(ti(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Xr(){function u(v){return m.call(u.src,u.listener,v)}const m=cl;return u}function Zr(u,m,v,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Zr(u,m[B],v,T,L);else T=y(T)?!!T.capture:!!T,v=fl(v),u&&u[he]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=wt(m,v,T,L),v>-1&&(ut(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=or(u))&&(m=u.g[m.toString()],u=-1,m&&(u=wt(m,v,T,L)),(v=u>-1?m[u]:null)&&Jr(v))}function Jr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[he])yt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(ti(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=or(m))?(yt(v,u),v.h==0&&(v.src=null,m[Ut]=null)):ut(u)}}}function ti(u){return u in xe?xe[u]:xe[u]="on"+u}function cl(u,m){if(u.da)u=!0;else{m=new Wt(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Jr(u),u=v.call(T,m)}return u}function or(u){return u=u[Ut],u instanceof it?u:null}var hl="__closure_events_fn_"+(Math.random()*1e9>>>0);function fl(u){return typeof u=="function"?u:(u[hl]||(u[hl]=function(m){return u.handleEvent(m)}),u[hl])}function ye(){M.call(this),this.i=new it(this),this.M=this,this.G=null}S(ye,M),ye.prototype[he]=!0,ye.prototype.removeEventListener=function(u,m,v,T){Zr(this,u,m,v,T)};function Ne(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(T,u),W(m,L)}L=!0;let B,tt;if(v)for(tt=v.length-1;tt>=0;tt--)B=m.g=v[tt],L=rs(B,T,!0,m)&&L;if(B=m.g=u,L=rs(B,T,!0,m)&&L,L=rs(B,T,!1,m)&&L,v)for(tt=0;tt<v.length;tt++)B=m.g=v[tt],L=rs(B,T,!1,m)&&L}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ut(v[T]);delete u.g[m],u.h--}}this.G=null},ye.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},ye.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function rs(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const tt=m[B];if(tt&&!tt.da&&tt.capture==v){const At=tt.listener,de=tt.ha||tt.src;tt.fa&&yt(u.i,tt),L=At.call(de,T)!==!1&&L}}return L&&!T.defaultPrevented}function xh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Fo(u){u.g=xh(()=>{u.g=null,u.i&&(u.i=!1,Fo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class We extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Fo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ur(u){M.call(this),this.h=u,this.g={}}S(ur,M);var dl=[];function ml(u){rt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Jr(m)},u),u.g={}}ur.prototype.N=function(){ur.Z.N.call(this),ml(this)},ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var as=d.JSON.stringify,Nh=d.JSON.parse,Qo=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Ko(){}function Yo(){}var zn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pe(){D.call(this,"d")}S(Pe,D);function Sn(){D.call(this,"c")}S(Sn,D);var fe={},Xo=null;function $r(){return Xo=Xo||new ye}fe.Ia="serverreachability";function Zo(u){D.call(this,fe.Ia,u)}S(Zo,D);function ei(u){const m=$r();Ne(m,new Zo(m))}fe.STAT_EVENT="statevent";function cr(u,m){D.call(this,fe.STAT_EVENT,u),this.stat=m}S(cr,D);function _e(u){const m=$r();Ne(m,new cr(m,u))}fe.Ja="timingevent";function ni(u,m){D.call(this,fe.Ja,u),this.size=m}S(ni,D);function ii(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function jn(){this.g=!0}jn.prototype.ua=function(){this.g=!1};function Dh(u,m,v,T,L,B){u.info(function(){if(u.g)if(B){var tt="",At=B.split("&");for(let jt=0;jt<At.length;jt++){var de=At[jt].split("=");if(de.length>1){const re=de[0];de=de[1];const In=re.split("_");tt=In.length>=2&&In[1]=="type"?tt+(re+"="+de+"&"):tt+(re+"=redacted&")}}}else tt=null;else tt=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+tt})}function Jo(u,m,v,T,L,B,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+tt})}function si(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Oh(u,v)+(T?" "+T:"")})}function hr(u,m){u.info(function(){return"TIMEOUT: "+m})}jn.prototype.info=function(){};function Oh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let tt=1;tt<T.length;tt++)T[tt]=""}}}}return as(B)}catch{return m}}var fr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},gl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},pl;function dr(){}S(dr,Ko),dr.prototype.g=function(){return new XMLHttpRequest},pl=new dr;function Oi(u){return encodeURIComponent(String(u))}function $o(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Bn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new ur(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qn}function qn(){this.i=null,this.g="",this.h=!1}var ve={},Ve={};function ri(u,m,v){u.M=1,u.A=mr(Te(m)),u.u=v,u.R=!0,Wr(u,null)}function Wr(u,m){u.F=Date.now(),ai(u),u.B=Te(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ia(v.i,"t",T),u.C=0,v=u.j.L,u.h=new qn,u.g=du(u.j,v?m:null,!u.u),u.P>0&&(u.O=new We(p(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(dl[0]=L.toString()),L=dl);for(let B=0;B<L.length;B++){const tt=se(v,L[B],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?x(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ei(),Dh(u.i,u.v,u.B,u.l,u.S,u.u)}Bn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Fn(u)==3?m.j():this.Y(u)},Bn.prototype.Y=function(u){try{if(u==this.g)t:{const At=Fn(this.g),de=this.g.ya(),jt=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||ze(this.g)))){this.K||At!=4||de==7||(de==8||jt<=0?ei(3):ei(2)),li(this);var m=this.g.ca();this.X=m;var v=Mh(this);if(this.o=m==200,Jo(this.i,this.v,this.B,this.l,this.S,At,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var B=T;break e}}B=null}if(u=B)si(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,oi(this,u);else{this.o=!1,this.m=3,_e(12),mn(this),wn(this);break t}}if(this.R){u=!0;let re;for(;!this.K&&this.C<v.length;)if(re=tu(this,v),re==Ve){At==4&&(this.m=4,_e(14),u=!1),si(this.i,this.l,null,"[Incomplete Response]");break}else if(re==ve){this.m=4,_e(15),si(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else si(this.i,this.l,re,null),oi(this,re);if(Wo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||v.length!=0||this.h.h||(this.m=1,_e(16),u=!1),this.o=this.o&&u,!u)si(this.i,this.l,v,"[Invalid Chunked Response]"),mn(this),wn(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Dl(tt),tt.P=!0,_e(11))}}else si(this.i,this.l,v,null),oi(this,v);At==4&&mn(this),this.o&&!this.K&&(At==4?uu(this.j,this):(this.o=!1,ai(this)))}else Vi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,_e(12)):(this.m=0,_e(13)),mn(this),wn(this)}}}catch{}};function Mh(u){if(!Wo(u))return u.g.la();const m=ze(u.g);if(m==="")return"";let v="";const T=m.length,L=Fn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return mn(u),wn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function Wo(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function tu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Ve:(v=Number(m.substring(v,T)),isNaN(v)?ve:(T+=1,T+v>m.length?Ve:(m=m.slice(T,T+v),u.C=T+v,m)))}Bn.prototype.cancel=function(){this.K=!0,mn(this)};function ai(u){u.T=Date.now()+u.H,ta(u,u.H)}function ta(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ii(p(u.aa,u),m)}function li(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Bn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(hr(this.i,this.B),this.M!=2&&(ei(),_e(17)),mn(this),this.m=2,wn(this)):ta(this,this.T-u)};function wn(u){u.j.I==0||u.K||uu(u.j,u)}function mn(u){li(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,ml(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function oi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||ci(v.h,u))){if(!u.L&&ci(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)oa(v),ms(v);else break t;Tr(v),_e(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ii(p(v.Va,v),6e3));ui(v.h)<=1&&v.ta&&(v.ta=void 0)}else pi(v,11)}else if((u.L||v.g==u)&&oa(v),!R(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let jt=L[m];const re=jt[0];if(!(re<=v.K))if(v.K=re,jt=jt[1],v.I==2)if(jt[0]=="c"){v.M=jt[1],v.ba=jt[2];const In=jt[3];In!=null&&(v.ka=In,v.j.info("VER="+v.ka));const yi=jt[4];yi!=null&&(v.za=yi,v.j.info("SVER="+v.za));const Qn=jt[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(T=1.5*Qn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Kn=u.g;if(Kn){const br=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(br){var B=T.h;B.g||br.indexOf("spdy")==-1&&br.indexOf("quic")==-1&&br.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(vl(B,B.h),B.h=null))}if(T.G){const ua=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;ua&&(T.wa=ua,Gt(T.J,T.G,ua))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var tt=u;if(T.na=fu(T,T.L?T.ba:null,T.W),tt.L){El(T.h,tt);var At=tt,de=T.O;de&&(At.H=de),At.D&&(li(At),ai(At)),T.g=tt}else lu(T);v.i.length>0&&gi(v)}else jt[0]!="stop"&&jt[0]!="close"||pi(v,7);else v.I==3&&(jt[0]=="stop"||jt[0]=="close"?jt[0]=="stop"?pi(v,7):xl(v):jt[0]!="noop"&&v.l&&v.l.qa(jt),v.A=0)}}ei(4)}catch{}}var Ee=class{constructor(u,m){this.g=u,this.map=m}};function yl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _l(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ui(u){return u.h?1:u.g?u.g.size:0}function ci(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function vl(u,m){u.g?u.g.add(m):u.h=m}function El(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}yl.prototype.cancel=function(){if(this.i=Tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Tl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return Q(u.i)}var eu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ea(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let L,B=null;T>=0?(L=u[v].substring(0,T),B=u[v].substring(T+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function gn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof gn?(this.l=u.l,ke(this,u.j),this.o=u.o,this.g=u.g,ls(this,u.u),this.h=u.h,bl(this,ru(u.i)),this.m=u.m):u&&(m=String(u).match(eu))?(this.l=!1,ke(this,m[1]||"",!0),this.o=hi(m[2]||""),this.g=hi(m[3]||"",!0),ls(this,m[4]),this.h=hi(m[5]||"",!0),bl(this,m[6]||"",!0),this.m=hi(m[7]||"")):(this.l=!1,this.i=new us(null,this.l))}gn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(gr(m,na,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(gr(m,na,!0),"@"),u.push(Oi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(gr(v,v.charAt(0)=="/"?Al:nu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",gr(v,iu)),u.join("")},gn.prototype.resolve=function(u){const m=Te(this);let v=!!u.j;v?ke(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)ls(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let tt=0;tt<L.length;){const At=L[tt++];At=="."?T&&tt==L.length&&B.push(""):At==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&tt==L.length&&B.push("")):(B.push(At),T=!0)}T=B.join("/")}else T=L}return v?m.h=T:v=u.i.toString()!=="",v?bl(m,ru(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Te(u){return new gn(u)}function ke(u,m,v){u.j=v?hi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ls(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function bl(u,m,v){m instanceof us?(u.i=m,sa(u.i,u.l)):(v||(m=gr(m,os)),u.i=new us(m,u.l))}function Gt(u,m,v){u.i.set(m,v)}function mr(u){return Gt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function hi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function gr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,sn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function sn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var na=/[#\/\?@]/g,nu=/[#\?:]/g,Al=/[#\?]/g,os=/[#\?@]/g,iu=/#/g;function us(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function rn(u){u.g||(u.g=new Map,u.h=0,u.i&&ea(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=us.prototype,r.add=function(u,m){rn(this),this.i=null,u=cs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function su(u,m){rn(u),m=cs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Sl(u,m){return rn(u),m=cs(u,m),u.g.has(m)}r.forEach=function(u,m){rn(this),this.g.forEach(function(v,T){v.forEach(function(L){u.call(m,L,T,this)},this)},this)};function wl(u,m){rn(u);let v=[];if(typeof m=="string")Sl(u,m)&&(v=v.concat(u.g.get(cs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return rn(this),this.i=null,u=cs(this,u),Sl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=wl(this,u),u.length>0?String(u[0]):m):m};function ia(u,m,v){su(u,m),v.length>0&&(u.i=null,u.g.set(cs(u,m),Q(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=Oi(v);v=wl(this,v);for(let B=0;B<v.length;B++){let tt=L;v[B]!==""&&(tt+="="+Oi(v[B])),u.push(tt)}}return this.i=u.join("&")};function ru(u){const m=new us;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function cs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function sa(u,m){m&&!u.j&&(rn(u),u.i=null,u.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(su(this,T),ia(this,L,v))},u)),u.j=m}function Hn(u,m){const v=new jn;if(d.Image){const T=new Image;T.onload=b(Rn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=b(Rn,v,"TestLoadImage: error",!1,m,T),T.onabort=b(Rn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(Rn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Rl(u,m){const v=new jn,T=new AbortController,L=setTimeout(()=>{T.abort(),Rn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?Rn(v,"TestPingServer: ok",!0,m):Rn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Rn(v,"TestPingServer: error",!1,m)})}function Rn(u,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function hs(){this.g=new Qo}function fi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(fi,Ko),fi.prototype.g=function(){return new pr(this.i,this.h)};function pr(u,m){ye.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(pr,ye),r=pr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Gn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fs(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Gn(this)),this.g&&(this.readyState=3,Gn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ra(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ra(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?fs(this):Gn(this),this.readyState==3&&ra(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,fs(this))},r.Na=function(u){this.g&&(this.response=u,fs(this))},r.ga=function(){this.g&&fs(this)};function fs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Gn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Gn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(pr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Cn(u){let m="";return rt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function yr(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Cn(v),typeof u=="string"?v!=null&&Oi(v):Gt(u,m,v))}function Kt(u){ye.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Kt,ye);var di=/^https?$/i,Cl=["POST","PUT"];r=Kt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():pl.g(),this.g.onreadystatechange=V(p(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){_r(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Cl,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of v)this.g.setRequestHeader(B,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){_r(this,B)}};function _r(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Il(u),Mi(u)}function Il(u){u.A||(u.A=!0,Ne(u,"complete"),Ne(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ne(this,"complete"),Ne(this,"abort"),Mi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mi(this,!0)),Kt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?vr(this):this.Xa())},r.Xa=function(){vr(this)};function vr(u){if(u.h&&typeof c<"u"){if(u.v&&Fn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ne(u,"readystatechange"),Fn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let tt=String(u.D).match(eu)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),T=!di.test(tt?tt.toLowerCase():"")}v=T}if(v)Ne(u,"complete"),Ne(u,"success");else{u.o=6;try{var L=Fn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Il(u)}}finally{Mi(u)}}}}function Mi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ne(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Fn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Fn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Nh(m)}};function ze(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Vi(u){const m={};u=(u.g&&Fn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var v=$o(u[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}ct(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function mi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ds(u){this.za=0,this.i=[],this.j=new jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=mi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=mi("baseRetryDelayMs",5e3,u),this.Za=mi("retryDelaySeedMs",1e4,u),this.Ta=mi("forwardChannelMaxRetries",2,u),this.va=mi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new yl(u&&u.concurrentRequestLimit),this.Ba=new hs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ds.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){_e(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=fu(this,null,this.W),gi(this)};function xl(u){if(aa(u),u.I==3){var m=u.V++,v=Te(u.J);if(Gt(v,"SID",u.M),Gt(v,"RID",m),Gt(v,"TYPE","terminate"),Er(u,v),m=new Bn(u,u.j,m),m.M=2,m.A=mr(Te(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=du(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ai(m)}hu(u)}function ms(u){u.g&&(Dl(u),u.g.cancel(),u.g=null)}function aa(u){ms(u),u.v&&(d.clearTimeout(u.v),u.v=null),oa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function gi(u){if(!_l(u.h)&&!u.m){u.m=!0;var m=u.Ea;Jt||w(),xt||(Jt(),xt=!0),N.add(m,u),u.D=0}}function la(u,m){return ui(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ii(p(u.Ea,u,m),cu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Bn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=x(B),W(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=au(this,L,m),v=Te(this.J),Gt(v,"RID",u),Gt(v,"CVER",22),this.G&&Gt(v,"X-HTTP-Session-Id",this.G),Er(this,v),B&&(this.R?m="headers="+Oi(Cn(B))+"&"+m:this.u&&yr(v,this.u,B)),vl(this.h,L),this.Ra&&Gt(v,"TYPE","init"),this.S?(Gt(v,"$req",m),Gt(v,"SID","null"),L.U=!0,ri(L,v,null)):ri(L,v,m),this.I=2}}else this.I==3&&(u?Nl(this,u):this.i.length==0||_l(this.h)||Nl(this))};function Nl(u,m){var v;m?v=m.l:v=u.V++;const T=Te(u.J);Gt(T,"SID",u.M),Gt(T,"RID",v),Gt(T,"AID",u.K),Er(u,T),u.u&&u.o&&yr(T,u.u,u.o),v=new Bn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=au(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),vl(u.h,v),ri(v,T,m)}function Er(u,m){u.H&&rt(u.H,function(v,T){Gt(m,T,v)}),u.l&&rt({},function(v,T){Gt(m,T,v)})}function au(u,m,v){v=Math.min(u.i.length,v);const T=u.l?p(u.l.Ka,u.l,u):null;t:{var L=u.i;let At=-1;for(;;){const de=["count="+v];At==-1?v>0?(At=L[0].g,de.push("ofs="+At)):At=0:de.push("ofs="+At);let jt=!0;for(let re=0;re<v;re++){var B=L[re].g;const In=L[re].map;if(B-=At,B<0)At=Math.max(0,L[re].g-100),jt=!1;else try{B="req"+B+"_"||"";try{var tt=In instanceof Map?In:Object.entries(In);for(const[yi,Qn]of tt){let Kn=Qn;y(Qn)&&(Kn=as(Qn)),de.push(B+yi+"="+encodeURIComponent(Kn))}}catch(yi){throw de.push(B+"type="+encodeURIComponent("_badmap")),yi}}catch{T&&T(In)}}if(jt){tt=de.join("&");break t}}tt=void 0}return u=u.i.splice(0,v),m.G=u,tt}function lu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Jt||w(),xt||(Jt(),xt=!0),N.add(m,u),u.A=0}}function Tr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ii(p(u.Da,u),cu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,ou(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ii(p(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_e(10),ms(this),ou(this))};function Dl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function ou(u){u.g=new Bn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Te(u.na);Gt(m,"RID","rpc"),Gt(m,"SID",u.M),Gt(m,"AID",u.K),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Gt(m,"TO",u.ia),Gt(m,"TYPE","xmlhttp"),Er(u,m),u.u&&u.o&&yr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=mr(Te(m)),v.u=null,v.R=!0,Wr(v,u)}r.Va=function(){this.C!=null&&(this.C=null,ms(this),Tr(this),_e(19))};function oa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function uu(u,m){var v=null;if(u.g==m){oa(u),Dl(u),u.g=null;var T=2}else if(ci(u.h,m))v=m.G,El(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=$r(),Ne(T,new ni(T,v)),gi(u)}else lu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&la(u,m)||T==2&&Tr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:pi(u,5);break;case 4:pi(u,10);break;case 3:pi(u,6);break;default:pi(u,2)}}}function cu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function pi(u,m){if(u.j.info("Error code "+m),m==2){var v=p(u.bb,u),T=u.Ua;const L=!T;T=new gn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ke(T,"https"),mr(T),L?Hn(T.toString(),v):Rl(T.toString(),v)}else _e(2);u.I=0,u.l&&u.l.pa(m),hu(u),aa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function hu(u){if(u.I=0,u.ja=[],u.l){const m=Tl(u.h);(m.length!=0||u.i.length!=0)&&($(u.ja,m),$(u.ja,u.i),u.h.i.length=0,Q(u.i),u.i.length=0),u.l.oa()}}function fu(u,m,v){var T=v instanceof gn?Te(v):new gn(v);if(T.g!="")m&&(T.g=m+"."+T.g),ls(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new gn(null);T&&ke(B,T),m&&(B.g=m),L&&ls(B,L),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Gt(T,v,m),Gt(T,"VER",u.ka),Er(u,T),T}function du(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Kt(new fi({ab:v})):new Kt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function mu(){}r=mu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function gs(){}gs.prototype.g=function(u,m){return new tn(u,m)};function tn(u,m){ye.call(this),this.g=new ds(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ki(this)}S(tn,ye),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){xl(this.g)},tn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=as(u),u=v);m.i.push(new Ee(m.Ya++,u)),m.I==3&&gi(m)},tn.prototype.N=function(){this.g.l=null,delete this.j,xl(this.g),delete this.g,tn.Z.N.call(this)};function gu(u){Pe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(gu,Pe);function pu(){Sn.call(this),this.status=1}S(pu,Sn);function ki(u){this.g=u}S(ki,mu),ki.prototype.ra=function(){Ne(this.g,"a")},ki.prototype.qa=function(u){Ne(this.g,new gu(u))},ki.prototype.pa=function(u){Ne(this.g,new pu)},ki.prototype.oa=function(){Ne(this.g,"b")},gs.prototype.createWebChannel=gs.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,U0=function(){return new gs},k0=function(){return $r()},V0=fe,tm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fr.NO_ERROR=0,fr.TIMEOUT=8,fr.HTTP_ERROR=6,Cc=fr,gl.COMPLETE="complete",M0=gl,Yo.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",ye.prototype.listen=ye.prototype.J,yo=Yo,Kt.prototype.listenOnce=Kt.prototype.K,Kt.prototype.getLastError=Kt.prototype.Ha,Kt.prototype.getLastErrorCode=Kt.prototype.ya,Kt.prototype.getStatus=Kt.prototype.ca,Kt.prototype.getResponseJson=Kt.prototype.La,Kt.prototype.getResponseText=Kt.prototype.la,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Fa,O0=Kt}).apply(typeof Ec<"u"?Ec:typeof self<"u"?self:typeof window<"u"?window:{});const W_="@firebase/firestore",tv="4.9.3";class Ze{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");let rl="12.7.0";const Hr=new Am("@firebase/firestore");function za(){return Hr.logLevel}function st(r,...t){if(Hr.logLevel<=Ot.DEBUG){const i=t.map(Rm);Hr.debug(`Firestore (${rl}): ${r}`,...i)}}function ts(r,...t){if(Hr.logLevel<=Ot.ERROR){const i=t.map(Rm);Hr.error(`Firestore (${rl}): ${r}`,...i)}}function Za(r,...t){if(Hr.logLevel<=Ot.WARN){const i=t.map(Rm);Hr.warn(`Firestore (${rl}): ${r}`,...i)}}function Rm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function pt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,L0(r,a,i)}function L0(r,t,i){let a=`FIRESTORE (${rl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ts(a),new Error(a)}function Ht(r,t,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||L0(t,o,a)}function bt(r,t){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends ss{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class jr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class P0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class vS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Ze.UNAUTHENTICATED)))}shutdown(){}}class ES{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class TS{constructor(t){this.t=t,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ht(this.o===void 0,42304);let a=this.i;const o=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new jr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new jr,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},y=_=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>y(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?y(_):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new jr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ht(typeof a.accessToken=="string",31837,{l:a}),new P0(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new Ze(t)}}class bS{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class AS{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new bS(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Ze.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ev{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class SS{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,$n(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ht(this.o===void 0,3512);const a=c=>{c.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const o=c=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ev(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new ev(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function wS(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Cm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=wS(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=t.charAt(o[c]%62))}return a}}function Mt(r,t){return r<t?-1:r>t?1:0}function em(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const o=r.charAt(a),c=t.charAt(a);if(o!==c)return zd(o)===zd(c)?Mt(o,c):zd(o)?1:-1}return Mt(r.length,t.length)}const RS=55296,CS=57343;function zd(r){const t=r.charCodeAt(0);return t>=RS&&t<=CS}function Ja(r,t,i){return r.length===t.length&&r.every(((a,o)=>i(a,t[o])))}const nv="__name__";class bi{constructor(t,i,a){i===void 0?i=0:i>t.length&&pt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&pt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return bi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof bi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let o=0;o<a;o++){const c=bi.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return Mt(t.length,i.length)}static compareSegments(t,i){const a=bi.isNumericId(t),o=bi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?bi.extractNumericId(t).compare(bi.extractNumericId(i)):em(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ys.fromString(t.substring(4,t.length-2))}}class ne extends bi{construct(t,i,a){return new ne(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ot(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new ne(i)}static emptyPath(){return new ne([])}}const IS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Fe extends bi{construct(t,i,a){return new Fe(t,i,a)}static isValidIdentifier(t){return IS.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Fe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nv}static keyField(){return new Fe([nv])}static fromServerFormat(t){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new ot(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<t.length;){const y=t[o];if(y==="\\"){if(o+1===t.length)throw new ot(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ot(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,o+=2}else y==="`"?(d=!d,o++):y!=="."||d?(a+=y,o++):(c(),o++)}if(c(),d)throw new ot(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Fe(i)}static emptyPath(){return new Fe([])}}class ft{constructor(t){this.path=t}static fromPath(t){return new ft(ne.fromString(t))}static fromName(t){return new ft(ne.fromString(t).popFirst(5))}static empty(){return new ft(ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ne.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ne.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ft(new ne(t.slice()))}}function z0(r,t,i){if(!i)throw new ot(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function xS(r,t,i,a){if(t===!0&&a===!0)throw new ot(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function iv(r){if(!ft.isDocumentKey(r))throw new ot(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function sv(r){if(ft.isDocumentKey(r))throw new ot(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function j0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Im(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":pt(12329,{type:typeof r})}function Ai(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ot(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Im(r);throw new ot(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ce(r,t){const i={typeString:r};return t&&(i.value=t),i}function Uo(r,t){if(!j0(r))throw new ot(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const o=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ot(Z.INVALID_ARGUMENT,i);return!0}const rv=-62135596800,av=1e6;class ie{static now(){return ie.fromMillis(Date.now())}static fromDate(t){return ie.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*av);return new ie(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ot(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<rv)throw new ot(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/av}_compareTo(t){return this.seconds===t.seconds?Mt(this.nanoseconds,t.nanoseconds):Mt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ie._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Uo(t,ie._jsonSchema))return new ie(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-rv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ie._jsonSchemaVersion="firestore/timestamp/1.0",ie._jsonSchema={type:Ce("string",ie._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new ie(0,0))}static max(){return new Et(new ie(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Io=-1;function NS(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(a===1e9?new ie(i+1,0):new ie(i,a));return new $s(o,ft.empty(),t)}function DS(r){return new $s(r.readTime,r.key,Io)}class $s{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new $s(Et.min(),ft.empty(),Io)}static max(){return new $s(Et.max(),ft.empty(),Io)}}function OS(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=ft.comparator(r.documentKey,t.documentKey),i!==0?i:Mt(r.largestBatchId,t.largestBatchId))}const MS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function al(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==MS)throw r;st("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let o=0,c=0,d=!1;t.forEach((y=>{++o,y.next((()=>{++c,d&&c===o&&i()}),(_=>a(_)))})),d=!0,c===o&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((o=>o?X.resolve(o):a()));return i}static forEach(t,i){const a=[];return t.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,o)=>{const c=t.length,d=new Array(c);let y=0;for(let _=0;_<c;_++){const p=_;i(t[p]).next((b=>{d[p]=b,++y,y===c&&a(d)}),(b=>o(b)))}}))}static doWhile(t,i){return new X(((a,o)=>{const c=()=>{t()===!0?i().next((()=>{c()}),o):a()};c()}))}}function kS(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ll(r){return r.name==="IndexedDbTransactionError"}class ah{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ah.ce=-1;const xm=-1;function lh(r){return r==null}function zc(r){return r===0&&1/r==-1/0}function US(r){return typeof r=="number"&&Number.isInteger(r)&&!zc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const B0="";function LS(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=lv(t)),t=PS(r.get(i),t);return lv(t)}function PS(r,t){let i=t;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case B0:i+="";break;default:i+=c}}return i}function lv(r){return r+B0+""}function ov(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function rr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function q0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class oe{constructor(t,i){this.comparator=t,this.root=i||Ge.EMPTY}insert(t,i){return new oe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Tc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Tc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Tc(this.root,t,this.comparator,!0)}}class Tc{constructor(t,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,i,a,o,c){this.key=t,this.value=i,this.color=a??Ge.RED,this.left=o??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,o,c){return new Ge(t??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const c=a(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return Ge.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw pt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(t,i,a,o,c){return this}insert(t,i,a){return new Ge(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(t){this.comparator=t,this.data=new oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new uv(this.data.getIterator())}getIteratorFrom(t){return new uv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Me(this.comparator);return i.data=t,i}}class uv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class An{constructor(t){this.fields=t,t.sort(Fe.comparator)}static empty(){return new An([])}unionWith(t){let i=new Me(Fe.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new An(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ja(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class H0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new H0("Invalid base64 string: "+c):c}})(t);return new Qe(i)}static fromUint8Array(t){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(t);return new Qe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const zS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ws(r){if(Ht(!!r,39018),typeof r=="string"){let t=0;const i=zS.exec(r);if(Ht(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:pe(r.seconds),nanos:pe(r.nanos)}}function pe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function tr(r){return typeof r=="string"?Qe.fromBase64String(r):Qe.fromUint8Array(r)}const G0="server_timestamp",F0="__type__",Q0="__previous_value__",K0="__local_write_time__";function Nm(r){return(r?.mapValue?.fields||{})[F0]?.stringValue===G0}function oh(r){const t=r.mapValue.fields[Q0];return Nm(t)?oh(t):t}function xo(r){const t=Ws(r.mapValue.fields[K0].timestampValue);return new ie(t.seconds,t.nanos)}class jS{constructor(t,i,a,o,c,d,y,_,p,b){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=y,this.longPollingOptions=_,this.useFetchStreams=p,this.isUsingEmulator=b}}const jc="(default)";class No{constructor(t,i){this.projectId=t,this.database=i||jc}static empty(){return new No("","")}get isDefaultDatabase(){return this.database===jc}isEqual(t){return t instanceof No&&t.projectId===this.projectId&&t.database===this.database}}const Y0="__type__",BS="__max__",bc={mapValue:{}},X0="__vector__",Bc="value";function er(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Nm(r)?4:HS(r)?9007199254740991:qS(r)?10:11:pt(28295,{value:r})}function Ni(r,t){if(r===t)return!0;const i=er(r);if(i!==er(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return xo(r).isEqual(xo(t));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Ws(o.timestampValue),y=Ws(c.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,c){return tr(o.bytesValue).isEqual(tr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,c){return pe(o.geoPointValue.latitude)===pe(c.geoPointValue.latitude)&&pe(o.geoPointValue.longitude)===pe(c.geoPointValue.longitude)})(r,t);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return pe(o.integerValue)===pe(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=pe(o.doubleValue),y=pe(c.doubleValue);return d===y?zc(d)===zc(y):isNaN(d)&&isNaN(y)}return!1})(r,t);case 9:return Ja(r.arrayValue.values||[],t.arrayValue.values||[],Ni);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},y=c.mapValue.fields||{};if(ov(d)!==ov(y))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(y[_]===void 0||!Ni(d[_],y[_])))return!1;return!0})(r,t);default:return pt(52216,{left:r})}}function Do(r,t){return(r.values||[]).find((i=>Ni(i,t)))!==void 0}function $a(r,t){if(r===t)return 0;const i=er(r),a=er(t);if(i!==a)return Mt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const y=pe(c.integerValue||c.doubleValue),_=pe(d.integerValue||d.doubleValue);return y<_?-1:y>_?1:y===_?0:isNaN(y)?isNaN(_)?0:-1:1})(r,t);case 3:return cv(r.timestampValue,t.timestampValue);case 4:return cv(xo(r),xo(t));case 5:return em(r.stringValue,t.stringValue);case 6:return(function(c,d){const y=tr(c),_=tr(d);return y.compareTo(_)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const y=c.split("/"),_=d.split("/");for(let p=0;p<y.length&&p<_.length;p++){const b=Mt(y[p],_[p]);if(b!==0)return b}return Mt(y.length,_.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const y=Mt(pe(c.latitude),pe(d.latitude));return y!==0?y:Mt(pe(c.longitude),pe(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return hv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const y=c.fields||{},_=d.fields||{},p=y[Bc]?.arrayValue,b=_[Bc]?.arrayValue,S=Mt(p?.values?.length||0,b?.values?.length||0);return S!==0?S:hv(p,b)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===bc.mapValue&&d===bc.mapValue)return 0;if(c===bc.mapValue)return 1;if(d===bc.mapValue)return-1;const y=c.fields||{},_=Object.keys(y),p=d.fields||{},b=Object.keys(p);_.sort(),b.sort();for(let S=0;S<_.length&&S<b.length;++S){const V=em(_[S],b[S]);if(V!==0)return V;const Q=$a(y[_[S]],p[b[S]]);if(Q!==0)return Q}return Mt(_.length,b.length)})(r.mapValue,t.mapValue);default:throw pt(23264,{he:i})}}function cv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Mt(r,t);const i=Ws(r),a=Ws(t),o=Mt(i.seconds,a.seconds);return o!==0?o:Mt(i.nanos,a.nanos)}function hv(r,t){const i=r.values||[],a=t.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=$a(i[o],a[o]);if(c)return c}return Mt(i.length,a.length)}function Wa(r){return nm(r)}function nm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Ws(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return tr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ft.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=nm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${nm(i.fields[d])}`;return o+"}"})(r.mapValue):pt(61005,{value:r})}function Ic(r){switch(er(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=oh(r);return t?16+Ic(t):16;case 5:return 2*r.stringValue.length;case 6:return tr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Ic(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return rr(a.fields,((c,d)=>{o+=c.length+Ic(d)})),o})(r.mapValue);default:throw pt(13486,{value:r})}}function im(r){return!!r&&"integerValue"in r}function Dm(r){return!!r&&"arrayValue"in r}function fv(r){return!!r&&"nullValue"in r}function dv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function xc(r){return!!r&&"mapValue"in r}function qS(r){return(r?.mapValue?.fields||{})[Y0]?.stringValue===X0}function bo(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return rr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=bo(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=bo(r.arrayValue.values[i]);return t}return{...r}}function HS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===BS}class dn{constructor(t){this.value=t}static empty(){return new dn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!xc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=bo(i)}setAll(t){let i=Fe.emptyPath(),a={},o=[];t.forEach(((d,y)=>{if(!i.isImmediateParentOf(y)){const _=this.getFieldsMap(i);this.applyChanges(_,a,o),a={},o=[],i=y.popLast()}d?a[y.lastSegment()]=bo(d):o.push(y.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(t){const i=this.field(t.popLast());xc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ni(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=i.mapValue.fields[t.get(a)];xc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,a){rr(i,((o,c)=>t[o]=c));for(const o of a)delete t[o]}clone(){return new dn(bo(this.value))}}function Z0(r){const t=[];return rr(r.fields,((i,a)=>{const o=new Fe([i]);if(xc(a)){const c=Z0(a.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)})),new An(t)}class Je{constructor(t,i,a,o,c,d,y){this.key=t,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=y}static newInvalidDocument(t){return new Je(t,0,Et.min(),Et.min(),Et.min(),dn.empty(),0)}static newFoundDocument(t,i,a,o){return new Je(t,1,i,Et.min(),a,o,0)}static newNoDocument(t,i){return new Je(t,2,i,Et.min(),Et.min(),dn.empty(),0)}static newUnknownDocument(t,i){return new Je(t,3,i,Et.min(),Et.min(),dn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class qc{constructor(t,i){this.position=t,this.inclusive=i}}function mv(r,t,i){let a=0;for(let o=0;o<r.position.length;o++){const c=t[o],d=r.position[o];if(c.field.isKeyField()?a=ft.comparator(ft.fromName(d.referenceValue),i.key):a=$a(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function gv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ni(r.position[i],t.position[i]))return!1;return!0}class Hc{constructor(t,i="asc"){this.field=t,this.dir=i}}function GS(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class J0{}class Oe extends J0{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new QS(t,i,a):i==="array-contains"?new XS(t,a):i==="in"?new ZS(t,a):i==="not-in"?new JS(t,a):i==="array-contains-any"?new $S(t,a):new Oe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new KS(t,a):new YS(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison($a(i,this.value)):i!==null&&er(this.value)===er(i)&&this.matchesComparison($a(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Di extends J0{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Di(t,i)}matches(t){return $0(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function $0(r){return r.op==="and"}function W0(r){return FS(r)&&$0(r)}function FS(r){for(const t of r.filters)if(t instanceof Di)return!1;return!0}function sm(r){if(r instanceof Oe)return r.field.canonicalString()+r.op.toString()+Wa(r.value);if(W0(r))return r.filters.map((t=>sm(t))).join(",");{const t=r.filters.map((i=>sm(i))).join(",");return`${r.op}(${t})`}}function tE(r,t){return r instanceof Oe?(function(a,o){return o instanceof Oe&&a.op===o.op&&a.field.isEqual(o.field)&&Ni(a.value,o.value)})(r,t):r instanceof Di?(function(a,o){return o instanceof Di&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,y)=>c&&tE(d,o.filters[y])),!0):!1})(r,t):void pt(19439)}function eE(r){return r instanceof Oe?(function(i){return`${i.field.canonicalString()} ${i.op} ${Wa(i.value)}`})(r):r instanceof Di?(function(i){return i.op.toString()+" {"+i.getFilters().map(eE).join(" ,")+"}"})(r):"Filter"}class QS extends Oe{constructor(t,i,a){super(t,i,a),this.key=ft.fromName(a.referenceValue)}matches(t){const i=ft.comparator(t.key,this.key);return this.matchesComparison(i)}}class KS extends Oe{constructor(t,i){super(t,"in",i),this.keys=nE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class YS extends Oe{constructor(t,i){super(t,"not-in",i),this.keys=nE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function nE(r,t){return(t.arrayValue?.values||[]).map((i=>ft.fromName(i.referenceValue)))}class XS extends Oe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Dm(i)&&Do(i.arrayValue,this.value)}}class ZS extends Oe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Do(this.value.arrayValue,i)}}class JS extends Oe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Do(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Do(this.value.arrayValue,i)}}class $S extends Oe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Dm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Do(this.value.arrayValue,a)))}}class WS{constructor(t,i=null,a=[],o=[],c=null,d=null,y=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=y,this.Te=null}}function pv(r,t=null,i=[],a=[],o=null,c=null,d=null){return new WS(r,t,i,a,o,c,d)}function Om(r){const t=bt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>sm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),lh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Wa(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Wa(a))).join(",")),t.Te=i}return t.Te}function Mm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!GS(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!tE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!gv(r.startAt,t.startAt)&&gv(r.endAt,t.endAt)}function rm(r){return ft.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class uh{constructor(t,i=null,a=[],o=[],c=null,d="F",y=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=y,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function tw(r,t,i,a,o,c,d,y){return new uh(r,t,i,a,o,c,d,y)}function Vm(r){return new uh(r)}function yv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function ew(r){return r.collectionGroup!==null}function Ao(r){const t=bt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let y=new Me(Fe.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((p=>{p.isInequality()&&(y=y.add(p.field))}))})),y})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Hc(c,a))})),i.has(Fe.keyField().canonicalString())||t.Ie.push(new Hc(Fe.keyField(),a))}return t.Ie}function Si(r){const t=bt(r);return t.Ee||(t.Ee=nw(t,Ao(r))),t.Ee}function nw(r,t){if(r.limitType==="F")return pv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Hc(o.field,c)}));const i=r.endAt?new qc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new qc(r.startAt.position,r.startAt.inclusive):null;return pv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function am(r,t,i){return new uh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function ch(r,t){return Mm(Si(r),Si(t))&&r.limitType===t.limitType}function iE(r){return`${Om(Si(r))}|lt:${r.limitType}`}function ja(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>eE(o))).join(", ")}]`),lh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>Wa(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>Wa(o))).join(",")),`Target(${a})`})(Si(r))}; limitType=${r.limitType})`}function hh(r,t){return t.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):ft.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,o){for(const c of Ao(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(r,t)&&(function(a,o){return!(a.startAt&&!(function(d,y,_){const p=mv(d,y,_);return d.inclusive?p<=0:p<0})(a.startAt,Ao(a),o)||a.endAt&&!(function(d,y,_){const p=mv(d,y,_);return d.inclusive?p>=0:p>0})(a.endAt,Ao(a),o))})(r,t)}function iw(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function sE(r){return(t,i)=>{let a=!1;for(const o of Ao(r)){const c=sw(o,t,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function sw(r,t,i){const a=r.field.isKeyField()?ft.comparator(t.key,i.key):(function(c,d,y){const _=d.data.field(c),p=y.data.field(c);return _!==null&&p!==null?$a(_,p):pt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return pt(19790,{direction:r.dir})}}class Kr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){rr(this.inner,((i,a)=>{for(const[o,c]of a)t(o,c)}))}isEmpty(){return q0(this.inner)}size(){return this.innerSize}}const rw=new oe(ft.comparator);function es(){return rw}const rE=new oe(ft.comparator);function _o(...r){let t=rE;for(const i of r)t=t.insert(i.key,i);return t}function aE(r){let t=rE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function zr(){return So()}function lE(){return So()}function So(){return new Kr((r=>r.toString()),((r,t)=>r.isEqual(t)))}const aw=new oe(ft.comparator),lw=new Me(ft.comparator);function Vt(...r){let t=lw;for(const i of r)t=t.add(i);return t}const ow=new Me(Mt);function uw(){return ow}function km(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zc(t)?"-0":t}}function oE(r){return{integerValue:""+r}}function cw(r,t){return US(t)?oE(t):km(r,t)}class fh{constructor(){this._=void 0}}function hw(r,t,i){return r instanceof Gc?(function(o,c){const d={fields:{[F0]:{stringValue:G0},[K0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Nm(c)&&(c=oh(c)),c&&(d.fields[Q0]=c),{mapValue:d}})(i,t):r instanceof tl?cE(r,t):r instanceof Oo?hE(r,t):(function(o,c){const d=uE(o,c),y=_v(d)+_v(o.Ae);return im(d)&&im(o.Ae)?oE(y):km(o.serializer,y)})(r,t)}function fw(r,t,i){return r instanceof tl?cE(r,t):r instanceof Oo?hE(r,t):i}function uE(r,t){return r instanceof Fc?(function(a){return im(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Gc extends fh{}class tl extends fh{constructor(t){super(),this.elements=t}}function cE(r,t){const i=fE(t);for(const a of r.elements)i.some((o=>Ni(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Oo extends fh{constructor(t){super(),this.elements=t}}function hE(r,t){let i=fE(t);for(const a of r.elements)i=i.filter((o=>!Ni(o,a)));return{arrayValue:{values:i}}}class Fc extends fh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function _v(r){return pe(r.integerValue||r.doubleValue)}function fE(r){return Dm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class dw{constructor(t,i){this.field=t,this.transform=i}}function mw(r,t){return r.field.isEqual(t.field)&&(function(a,o){return a instanceof tl&&o instanceof tl||a instanceof Oo&&o instanceof Oo?Ja(a.elements,o.elements,Ni):a instanceof Fc&&o instanceof Fc?Ni(a.Ae,o.Ae):a instanceof Gc&&o instanceof Gc})(r.transform,t.transform)}class gw{constructor(t,i){this.version=t,this.transformResults=i}}class Pn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Pn}static exists(t){return new Pn(void 0,t)}static updateTime(t){return new Pn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Nc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class dh{}function dE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Um(r.key,Pn.none()):new Lo(r.key,r.data,Pn.none());{const i=r.data,a=dn.empty();let o=new Me(Fe.comparator);for(let c of t.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new ar(r.key,a,new An(o.toArray()),Pn.none())}}function pw(r,t,i){r instanceof Lo?(function(o,c,d){const y=o.value.clone(),_=Ev(o.fieldTransforms,c,d.transformResults);y.setAll(_),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,i):r instanceof ar?(function(o,c,d){if(!Nc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const y=Ev(o.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(mE(o)),_.setAll(y),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,t,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function wo(r,t,i,a){return r instanceof Lo?(function(c,d,y,_){if(!Nc(c.precondition,d))return y;const p=c.value.clone(),b=Tv(c.fieldTransforms,_,d);return p.setAll(b),d.convertToFoundDocument(d.version,p).setHasLocalMutations(),null})(r,t,i,a):r instanceof ar?(function(c,d,y,_){if(!Nc(c.precondition,d))return y;const p=Tv(c.fieldTransforms,_,d),b=d.data;return b.setAll(mE(c)),b.setAll(p),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),y===null?null:y.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,t,i,a):(function(c,d,y){return Nc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y})(r,t,i)}function yw(r,t){let i=null;for(const a of r.fieldTransforms){const o=t.data.field(a.field),c=uE(a.transform,o||null);c!=null&&(i===null&&(i=dn.empty()),i.set(a.field,c))}return i||null}function vv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Ja(a,o,((c,d)=>mw(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Lo extends dh{constructor(t,i,a,o=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ar extends dh{constructor(t,i,a,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function mE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function Ev(r,t,i){const a=new Map;Ht(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,y=t.data.field(c.field);a.set(c.field,fw(d,y,i[o]))}return a}function Tv(r,t,i){const a=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);a.set(o.field,hw(c,d,t))}return a}class Um extends dh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _w extends dh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class vw{constructor(t,i,a,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&pw(c,t,a[o])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=wo(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=wo(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=lE();return this.mutations.forEach((o=>{const c=t.get(o.key),d=c.overlayedDocument;let y=this.applyToLocalView(d,c.mutatedFields);y=i.has(o.key)?null:y;const _=dE(d,y);_!==null&&a.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(Et.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Vt())}isEqual(t){return this.batchId===t.batchId&&Ja(this.mutations,t.mutations,((i,a)=>vv(i,a)))&&Ja(this.baseMutations,t.baseMutations,((i,a)=>vv(i,a)))}}class Lm{constructor(t,i,a,o){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(t,i,a){Ht(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let o=(function(){return aw})();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Lm(t,i,a,o)}}class Ew{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Tw{constructor(t,i){this.count=t,this.unchangedNames=i}}var Re,Lt;function bw(r){switch(r){case Z.OK:return pt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return pt(15467,{code:r})}}function gE(r){if(r===void 0)return ts("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Re.OK:return Z.OK;case Re.CANCELLED:return Z.CANCELLED;case Re.UNKNOWN:return Z.UNKNOWN;case Re.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Re.INTERNAL:return Z.INTERNAL;case Re.UNAVAILABLE:return Z.UNAVAILABLE;case Re.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Re.NOT_FOUND:return Z.NOT_FOUND;case Re.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Re.ABORTED:return Z.ABORTED;case Re.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Re.DATA_LOSS:return Z.DATA_LOSS;default:return pt(39323,{code:r})}}(Lt=Re||(Re={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";function Aw(){return new TextEncoder}const Sw=new Ys([4294967295,4294967295],0);function bv(r){const t=Aw().encode(r),i=new D0;return i.update(t),new Uint8Array(i.digest())}function Av(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Ys([i,a],0),new Ys([o,c],0)]}class Pm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new vo(`Invalid padding: ${i}`);if(a<0)throw new vo(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new vo(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new vo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Ys.fromNumber(this.ge)}ye(t,i,a){let o=t.add(i.multiply(Ys.fromNumber(a)));return o.compare(Sw)===1&&(o=new Ys([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=bv(t),[a,o]=Av(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Pm(c,o,i);return a.forEach((y=>d.insert(y))),d}insert(t){if(this.ge===0)return;const i=bv(t),[a,o]=Av(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class vo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class mh{constructor(t,i,a,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const o=new Map;return o.set(t,Po.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new mh(Et.min(),o,new oe(Mt),es(),Vt())}}class Po{constructor(t,i,a,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Po(a,i,Vt(),Vt(),Vt())}}class Dc{constructor(t,i,a,o){this.be=t,this.removedTargetIds=i,this.key=a,this.De=o}}class pE{constructor(t,i){this.targetId=t,this.Ce=i}}class yE{constructor(t,i,a=Qe.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=o}}class Sv{constructor(){this.ve=0,this.Fe=wv(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Vt(),i=Vt(),a=Vt();return this.Fe.forEach(((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:pt(38017,{changeType:c})}})),new Po(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=wv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class ww{constructor(t){this.Ge=t,this.ze=new Map,this.je=es(),this.Je=Ac(),this.He=Ac(),this.Ye=new oe(Mt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:pt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,a=t.Ce.count,o=this.ot(i);if(o){const c=o.target;if(rm(c))if(a===0){const d=new ft(c.path);this.et(i,d,Je.newNoDocument(d,Et.min()))}else Ht(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const y=this.ut(t),_=y?this.ct(y,t,d):1;if(_!==0){this.it(i);const p=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,p)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,y;try{d=tr(a).toUint8Array()}catch(_){if(_ instanceof H0)return Za("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{y=new Pm(d,o,c)}catch(_){return Za(_ instanceof vo?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return y.ge===0?null:y}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),y=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(y)||(this.et(i,c,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const y=this.ot(d);if(y){if(c.current&&rm(y.target)){const _=new ft(y.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Je.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Vt();this.He.forEach(((c,d)=>{let y=!0;d.forEachWhile((_=>{const p=this.ot(_);return!p||p.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)})),y&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const o=new mh(t,i,this.Ye,this.je,a);return this.je=es(),this.Je=Ac(),this.He=Ac(),this.Ye=new oe(Mt),o}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Sv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Me(Mt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Me(Mt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||st("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Sv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Ac(){return new oe(ft.comparator)}function wv(){return new oe(ft.comparator)}const Rw={asc:"ASCENDING",desc:"DESCENDING"},Cw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Iw={and:"AND",or:"OR"};class xw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function lm(r,t){return r.useProto3Json||lh(t)?t:{value:t}}function Qc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function _E(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Nw(r,t){return Qc(r,t.toTimestamp())}function wi(r){return Ht(!!r,49232),Et.fromTimestamp((function(i){const a=Ws(i);return new ie(a.seconds,a.nanos)})(r))}function zm(r,t){return om(r,t).canonicalString()}function om(r,t){const i=(function(o){return new ne(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?i:i.child(t)}function vE(r){const t=ne.fromString(r);return Ht(SE(t),10190,{key:t.toString()}),t}function um(r,t){return zm(r.databaseId,t.path)}function jd(r,t){const i=vE(t);if(i.get(1)!==r.databaseId.projectId)throw new ot(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ot(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ft(TE(i))}function EE(r,t){return zm(r.databaseId,t)}function Dw(r){const t=vE(r);return t.length===4?ne.emptyPath():TE(t)}function cm(r){return new ne(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function TE(r){return Ht(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Rv(r,t,i){return{name:um(r,t),fields:i.value.mapValue.fields}}function Ow(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:pt(39313,{state:p})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=(function(p,b){return p.useProto3Json?(Ht(b===void 0||typeof b=="string",58123),Qe.fromBase64String(b||"")):(Ht(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Qe.fromUint8Array(b||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,y=d&&(function(p){const b=p.code===void 0?Z.UNKNOWN:gE(p.code);return new ot(b,p.message||"")})(d);i=new yE(a,o,c,y||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=jd(r,a.document.name),c=wi(a.document.updateTime),d=a.document.createTime?wi(a.document.createTime):Et.min(),y=new dn({mapValue:{fields:a.document.fields}}),_=Je.newFoundDocument(o,c,d,y),p=a.targetIds||[],b=a.removedTargetIds||[];i=new Dc(p,b,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=jd(r,a.document),c=a.readTime?wi(a.readTime):Et.min(),d=Je.newNoDocument(o,c),y=a.removedTargetIds||[];i=new Dc([],y,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=jd(r,a.document),c=a.removedTargetIds||[];i=new Dc([],c,o,null)}else{if(!("filter"in t))return pt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new Tw(o,c),y=a.targetId;i=new pE(y,d)}}return i}function Mw(r,t){let i;if(t instanceof Lo)i={update:Rv(r,t.key,t.value)};else if(t instanceof Um)i={delete:um(r,t.key)};else if(t instanceof ar)i={update:Rv(r,t.key,t.data),updateMask:qw(t.fieldMask)};else{if(!(t instanceof _w))return pt(16599,{Vt:t.type});i={verify:um(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const y=d.transform;if(y instanceof Gc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof tl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof Oo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof Fc)return{fieldPath:d.field.canonicalString(),increment:y.Ae};throw pt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:Nw(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:pt(27497)})(r,t.precondition)),i}function Vw(r,t){return r&&r.length>0?(Ht(t!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?wi(o.updateTime):wi(c);return d.isEqual(Et.min())&&(d=wi(c)),new gw(d,o.transformResults||[])})(i,t)))):[]}function kw(r,t){return{documents:[EE(r,t.path)]}}function Uw(r,t){const i={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=EE(r,o);const c=(function(p){if(p.length!==0)return AE(Di.create(p,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(p){if(p.length!==0)return p.map((b=>(function(V){return{field:Ba(V.field),direction:zw(V.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const y=lm(r,t.limit);return y!==null&&(i.structuredQuery.limit=y),t.startAt&&(i.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(t.endAt)),{ft:i,parent:o}}function Lw(r){let t=Dw(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Ht(a===1,65062);const b=i.from[0];b.allDescendants?o=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(S){const V=bE(S);return V instanceof Di&&W0(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((V=>(function($){return new Hc(qa($.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})($.direction))})(V)))})(i.orderBy));let y=null;i.limit&&(y=(function(S){let V;return V=typeof S=="object"?S.value:S,lh(V)?null:V})(i.limit));let _=null;i.startAt&&(_=(function(S){const V=!!S.before,Q=S.values||[];return new qc(Q,V)})(i.startAt));let p=null;return i.endAt&&(p=(function(S){const V=!S.before,Q=S.values||[];return new qc(Q,V)})(i.endAt)),tw(t,o,d,c,y,"F",_,p)}function Pw(r,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function bE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=qa(i.unaryFilter.field);return Oe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=qa(i.unaryFilter.field);return Oe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=qa(i.unaryFilter.field);return Oe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=qa(i.unaryFilter.field);return Oe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Oe.create(qa(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Di.create(i.compositeFilter.filters.map((a=>bE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return pt(1026)}})(i.compositeFilter.op))})(r):pt(30097,{filter:r})}function zw(r){return Rw[r]}function jw(r){return Cw[r]}function Bw(r){return Iw[r]}function Ba(r){return{fieldPath:r.canonicalString()}}function qa(r){return Fe.fromServerFormat(r.fieldPath)}function AE(r){return r instanceof Oe?(function(i){if(i.op==="=="){if(dv(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NAN"}};if(fv(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(dv(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NOT_NAN"}};if(fv(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ba(i.field),op:jw(i.op),value:i.value}}})(r):r instanceof Di?(function(i){const a=i.getFilters().map((o=>AE(o)));return a.length===1?a[0]:{compositeFilter:{op:Bw(i.op),filters:a}}})(r):pt(54877,{filter:r})}function qw(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function SE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Gs{constructor(t,i,a,o,c=Et.min(),d=Et.min(),y=Qe.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=y,this.expectedCount=_}withSequenceNumber(t){return new Gs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Gs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Hw{constructor(t){this.yt=t}}function Gw(r){const t=Lw({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?am(t,t.limit,"L"):t}class Fw{constructor(){this.Cn=new Qw}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve($s.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve($s.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class Qw{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i]||new Me(ne.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(t){return(this.index[t]||new Me(ne.comparator)).toArray()}}const Cv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wE=41943040;class fn{static withCacheSize(t){return new fn(t,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(wE,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class el{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new el(0)}static cr(){return new el(-1)}}const Iv="LruGarbageCollector",Kw=1048576;function xv([r,t],[i,a]){const o=Mt(r,i);return o===0?Mt(t,a):o}class Yw{constructor(t){this.Ir=t,this.buffer=new Me(xv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();xv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Xw{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){st(Iv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ll(i)?st(Iv,"Ignoring IndexedDB error during garbage collection: ",i):await al(i)}await this.Vr(3e5)}))}}class Zw{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(ah.ce);const a=new Yw(i);return this.mr.forEachTarget(t,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Cv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Cv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,o,c,d,y,_,p;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(t,o)))).next((S=>(a=S,y=Date.now(),this.removeTargets(t,a,i)))).next((S=>(c=S,_=Date.now(),this.removeOrphanedDocuments(t,a)))).next((S=>(p=Date.now(),za()<=Ot.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${o} in `+(y-d)+`ms
	Removed ${c} targets in `+(_-y)+`ms
	Removed ${S} documents in `+(p-_)+`ms
Total Duration: ${p-b}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S}))))}}function Jw(r,t){return new Zw(r,t)}class $w{constructor(){this.changes=new Kr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Ww{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class t2{constructor(t,i,a,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(a!==null&&wo(a.mutation,o,An.empty(),ie.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Vt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Vt()){const o=zr();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,a).next((c=>{let d=_o();return c.forEach(((y,_)=>{d=d.insert(y,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=zr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Vt())))}populateOverlays(t,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(t,o).next((c=>{c.forEach(((d,y)=>{i.set(d,y)}))}))}computeViews(t,i,a,o){let c=es();const d=So(),y=(function(){return So()})();return i.forEach(((_,p)=>{const b=a.get(p.key);o.has(p.key)&&(b===void 0||b.mutation instanceof ar)?c=c.insert(p.key,p):b!==void 0?(d.set(p.key,b.mutation.getFieldMask()),wo(b.mutation,p,b.mutation.getFieldMask(),ie.now())):d.set(p.key,An.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((p,b)=>d.set(p,b))),i.forEach(((p,b)=>y.set(p,new Ww(b,d.get(p)??null)))),y)))}recalculateAndSaveOverlays(t,i){const a=So();let o=new oe(((d,y)=>d-y)),c=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const y of d)y.keys().forEach((_=>{const p=i.get(_);if(p===null)return;let b=a.get(_)||An.empty();b=y.applyToLocalView(p,b),a.set(_,b);const S=(o.get(y.batchId)||Vt()).add(_);o=o.insert(y.batchId,S)}))})).next((()=>{const d=[],y=o.getReverseIterator();for(;y.hasNext();){const _=y.getNext(),p=_.key,b=_.value,S=lE();b.forEach((V=>{if(!c.has(V)){const Q=dE(i.get(V),a.get(V));Q!==null&&S.set(V,Q),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,p,S))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,o){return(function(d){return ft.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):ew(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,o):this.getDocumentsMatchingCollectionQuery(t,i,a,o)}getNextDocuments(t,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,o-c.size):X.resolve(zr());let y=Io,_=c;return d.next((p=>X.forEach(p,((b,S)=>(y<S.largestBatchId&&(y=S.largestBatchId),c.get(b)?X.resolve():this.remoteDocumentCache.getEntry(t,b).next((V=>{_=_.insert(b,V)}))))).next((()=>this.populateOverlays(t,p,c))).next((()=>this.computeViews(t,_,p,Vt()))).next((b=>({batchId:y,changes:aE(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ft(i)).next((a=>{let o=_o();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,o){const c=i.collectionGroup;let d=_o();return this.indexManager.getCollectionParents(t,c).next((y=>X.forEach(y,(_=>{const p=(function(S,V){return new uh(V,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,p,a,o).next((b=>{b.forEach(((S,V)=>{d=d.insert(S,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,o)))).next((d=>{c.forEach(((_,p)=>{const b=p.getKey();d.get(b)===null&&(d=d.insert(b,Je.newInvalidDocument(b)))}));let y=_o();return d.forEach(((_,p)=>{const b=c.get(_);b!==void 0&&wo(b.mutation,p,An.empty(),ie.now()),hh(i,p)&&(y=y.insert(_,p))})),y}))}}class e2{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:wi(o.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:Gw(o.bundledQuery),readTime:wi(o.readTime)}})(i)),X.resolve()}}class n2{constructor(){this.overlays=new oe(ft.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=zr();return X.forEach(i,(o=>this.getOverlay(t,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((o,c)=>{this.St(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const o=zr(),c=i.length+1,d=new ft(i.child("")),y=this.overlays.getIteratorFrom(d);for(;y.hasNext();){const _=y.getNext().value,p=_.getKey();if(!i.isPrefixOf(p.path))break;p.path.length===c&&_.largestBatchId>a&&o.set(_.getKey(),_)}return X.resolve(o)}getOverlaysForCollectionGroup(t,i,a,o){let c=new oe(((p,b)=>p-b));const d=this.overlays.getIterator();for(;d.hasNext();){const p=d.getNext().value;if(p.getKey().getCollectionGroup()===i&&p.largestBatchId>a){let b=c.get(p.largestBatchId);b===null&&(b=zr(),c=c.insert(p.largestBatchId,b)),b.set(p.getKey(),p)}}const y=zr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((p,b)=>y.set(p,b))),!(y.size()>=o)););return X.resolve(y)}St(t,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Ew(i,a));let c=this.qr.get(i);c===void 0&&(c=Vt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class i2{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class jm{constructor(){this.Qr=new Me(Le.$r),this.Ur=new Me(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Le(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Le(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new ft(new ne([])),a=new Le(i,t),o=new Le(i,t+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ft(new ne([])),a=new Le(i,t),o=new Le(i,t+1);let c=Vt();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Le(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Le{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ft.comparator(t.key,i.key)||Mt(t.Yr,i.Yr)}static Kr(t,i){return Mt(t.Yr,i.Yr)||ft.comparator(t.key,i.key)}}class s2{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Me(Le.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new vw(c,i,a,o);this.mutationQueue.push(d);for(const y of o)this.Zr=this.Zr.add(new Le(y.key,c)),this.indexManager.addToCollectionParentIndex(t,y.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?xm:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Le(i,0),o=new Le(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const y=this.Xr(d.Yr);c.push(y)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Me(Mt);return i.forEach((o=>{const c=new Le(o,0),d=new Le(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(y=>{a=a.add(y.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,o=a.length+1;let c=a;ft.isDocumentKey(c)||(c=c.child(""));const d=new Le(new ft(c),0);let y=new Me(Mt);return this.Zr.forEachWhile((_=>{const p=_.key.path;return!!a.isPrefixOf(p)&&(p.length===o&&(y=y.add(_.Yr)),!0)}),d),X.resolve(this.ti(y))}ti(t){const i=[];return t.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){Ht(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(o=>{const c=new Le(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Le(i,0),o=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class r2{constructor(t){this.ri=t,this.docs=(function(){return new oe(ft.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(t,i){let a=es();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():Je.newInvalidDocument(o))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,o){let c=es();const d=i.path,y=new ft(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(y);for(;_.hasNext();){const{key:p,value:{document:b}}=_.getNext();if(!d.isPrefixOf(p.path))break;p.path.length>d.length+1||OS(DS(b),a)<=0||(o.has(b.key)||hh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,o){pt(9500)}ii(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new a2(this)}getSize(t){return X.resolve(this.size)}}class a2 extends $w{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class l2{constructor(t){this.persistence=t,this.si=new Kr((i=>Om(i)),Mm),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.oi=0,this._i=new jm,this.targetCount=0,this.ai=el.ur()}forEachTarget(t,i){return this.si.forEach(((a,o)=>i(o))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new el(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let o=0;const c=[];return this.si.forEach(((d,y)=>{y.sequenceNumber<=i&&a.get(y.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,y.targetId)),o++)})),X.waitFor(c).next((()=>o))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}class RE{constructor(t,i){this.ui={},this.overlays={},this.ci=new ah(0),this.li=!1,this.li=!0,this.hi=new i2,this.referenceDelegate=t(this),this.Pi=new l2(this),this.indexManager=new Fw,this.remoteDocumentCache=(function(o){return new r2(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new Hw(i),this.Ii=new e2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new n2,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new s2(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){st("MemoryPersistence","Starting transaction:",t);const o=new o2(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(t,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class o2 extends VS{constructor(t){super(),this.currentSequenceNumber=t}}class Bm{constructor(t){this.persistence=t,this.Ri=new jm,this.Vi=null}static mi(t){return new Bm(t)}get fi(){if(this.Vi)return this.Vi;throw pt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const o=ft.fromPath(a);return this.gi(t,o).next((c=>{c||i.removeEntry(o,Et.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Kc{constructor(t,i){this.persistence=t,this.pi=new Kr((a=>LS(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=Jw(this,i)}static mi(t,i){return new Kc(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((o=>a+o))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((a,o)=>this.br(t,a,o).next((c=>c?X.resolve():i(o)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(t,(d=>this.br(t,d,i).next((y=>{y||(a++,c.removeEntry(d,Et.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Ic(t.data.value)),i}br(t,i,a){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return X.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class qm{constructor(t,i,a,o){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=o}static As(t,i){let a=Vt(),o=Vt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new qm(t,i.fromCache,a,o)}}class u2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class c2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Wb()?8:kS($e())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,o){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new u2;return this.Ss(t,i,d).next((y=>{if(c.result=y,this.Vs)return this.bs(t,i,d,y.size)}))})).next((()=>c.result))}bs(t,i,a,o){return a.documentReadCount<this.fs?(za()<=Ot.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",ja(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(za()<=Ot.DEBUG&&st("QueryEngine","Query:",ja(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(za()<=Ot.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",ja(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Si(i))):X.resolve())}ys(t,i){if(yv(i))return X.resolve(null);let a=Si(i);return this.indexManager.getIndexType(t,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=am(i,null,"F"),a=Si(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Vt(...c);return this.ps.getDocuments(t,d).next((y=>this.indexManager.getMinOffset(t,a).next((_=>{const p=this.Ds(i,y);return this.Cs(i,p,d,_.readTime)?this.ys(t,am(i,null,"F")):this.vs(t,p,i,_)}))))})))))}ws(t,i,a,o){return yv(i)||o.isEqual(Et.min())?X.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?X.resolve(null):(za()<=Ot.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ja(i)),this.vs(t,d,i,NS(o,Io)).next((y=>y)))}))}Ds(t,i){let a=new Me(sE(t));return i.forEach(((o,c)=>{hh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,o){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(t,i,a){return za()<=Ot.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",ja(i)),this.ps.getDocumentsMatchingQuery(t,i,$s.min(),a)}vs(t,i,a,o){return this.ps.getDocumentsMatchingQuery(t,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Hm="LocalStore",h2=3e8;class f2{constructor(t,i,a,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new oe(Mt),this.xs=new Kr((c=>Om(c)),Mm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new t2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function d2(r,t,i,a){return new f2(r,t,i,a)}async function CE(r,t){const i=bt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],y=[];let _=Vt();for(const p of o){d.push(p.batchId);for(const b of p.mutations)_=_.add(b.key)}for(const p of c){y.push(p.batchId);for(const b of p.mutations)_=_.add(b.key)}return i.localDocuments.getDocuments(a,_).next((p=>({Ls:p,removedBatchIds:d,addedBatchIds:y})))}))}))}function m2(r,t){const i=bt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(y,_,p,b){const S=p.batch,V=S.keys();let Q=X.resolve();return V.forEach(($=>{Q=Q.next((()=>b.getEntry(_,$))).next((nt=>{const J=p.docVersions.get($);Ht(J!==null,48541),nt.version.compareTo(J)<0&&(S.applyToRemoteDocument(nt,p),nt.isValidDocument()&&(nt.setReadTime(p.commitVersion),b.addEntry(nt)))}))})),Q.next((()=>y.mutationQueue.removeMutationBatch(_,S)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(y){let _=Vt();for(let p=0;p<y.mutationResults.length;++p)y.mutationResults[p].transformResults.length>0&&(_=_.add(y.batch.mutations[p].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function IE(r){const t=bt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function g2(r,t){const i=bt(r),a=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const y=[];t.targetChanges.forEach(((b,S)=>{const V=o.get(S);if(!V)return;y.push(i.Pi.removeMatchingKeys(c,b.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,b.addedDocuments,S))));let Q=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?Q=Q.withResumeToken(Qe.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):b.resumeToken.approximateByteSize()>0&&(Q=Q.withResumeToken(b.resumeToken,a)),o=o.insert(S,Q),(function(nt,J,dt){return nt.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=h2?!0:dt.addedDocuments.size+dt.modifiedDocuments.size+dt.removedDocuments.size>0})(V,Q,b)&&y.push(i.Pi.updateTargetData(c,Q))}));let _=es(),p=Vt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&y.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),y.push(p2(c,d,t.documentUpdates).next((b=>{_=b.ks,p=b.qs}))),!a.isEqual(Et.min())){const b=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));y.push(b)}return X.waitFor(y).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,p))).next((()=>_))})).then((c=>(i.Ms=o,c)))}function p2(r,t,i){let a=Vt(),o=Vt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=es();return i.forEach(((y,_)=>{const p=c.get(y);_.isFoundDocument()!==p.isFoundDocument()&&(o=o.add(y)),_.isNoDocument()&&_.version.isEqual(Et.min())?(t.removeEntry(y,_.readTime),d=d.insert(y,_)):!p.isValidDocument()||_.version.compareTo(p.version)>0||_.version.compareTo(p.version)===0&&p.hasPendingWrites?(t.addEntry(_),d=d.insert(y,_)):st(Hm,"Ignoring outdated watch update for ",y,". Current version:",p.version," Watch version:",_.version)})),{ks:d,qs:o}}))}function y2(r,t){const i=bt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=xm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function _2(r,t){const i=bt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,t).next((c=>c?(o=c,X.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new Gs(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function hm(r,t,i){const a=bt(r),o=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!ll(d))throw d;st(Hm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(o.target)}function Nv(r,t,i){const a=bt(r);let o=Et.min(),c=Vt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,p,b){const S=bt(_),V=S.xs.get(b);return V!==void 0?X.resolve(S.Ms.get(V)):S.Pi.getTargetData(p,b)})(a,d,Si(t)).next((y=>{if(y)return o=y.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,y.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?o:Et.min(),i?c:Vt()))).next((y=>(v2(a,iw(t),y),{documents:y,Qs:c})))))}function v2(r,t,i){let a=r.Os.get(t)||Et.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class Dv{constructor(){this.activeTargetIds=uw()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class E2{constructor(){this.Mo=new Dv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Dv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class T2{Oo(t){}shutdown(){}}const Ov="ConnectivityMonitor";class Mv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){st(Ov,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){st(Ov,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Sc=null;function fm(){return Sc===null?Sc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Sc++,"0x"+Sc.toString(16)}const Bd="RestConnection",b2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class A2{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===jc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(t,i,a,o,c){const d=fm(),y=this.zo(t,i.toUriEncodedString());st(Bd,`Sending RPC '${t}' ${d}:`,y,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,c);const{host:p}=new URL(y),b=il(p);return this.Jo(t,y,_,a,b).then((S=>(st(Bd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw Za(Bd,`RPC '${t}' ${d} failed with error: `,S,"url: ",y,"request:",a),S}))}Ho(t,i,a,o,c,d){return this.Go(t,i,a,o,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+rl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>t[c]=o)),a&&a.headers.forEach(((o,c)=>t[c]=o))}zo(t,i){const a=b2[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class S2{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Xe="WebChannelConnection";class w2 extends A2{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,o,c){const d=fm();return new Promise(((y,_)=>{const p=new O0;p.setWithCredentials(!0),p.listenOnce(M0.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Cc.NO_ERROR:const S=p.getResponseJson();st(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),y(S);break;case Cc.TIMEOUT:st(Xe,`RPC '${t}' ${d} timed out`),_(new ot(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Cc.HTTP_ERROR:const V=p.getStatus();if(st(Xe,`RPC '${t}' ${d} failed with status:`,V,"response text:",p.getResponseText()),V>0){let Q=p.getResponseJson();Array.isArray(Q)&&(Q=Q[0]);const $=Q?.error;if($&&$.status&&$.message){const nt=(function(dt){const vt=dt.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(vt)>=0?vt:Z.UNKNOWN})($.status);_(new ot(nt,$.message))}else _(new ot(Z.UNKNOWN,"Server responded with status "+p.getStatus()))}else _(new ot(Z.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:t,streamId:d,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{st(Xe,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(o);st(Xe,`RPC '${t}' ${d} sending request:`,o),p.send(i,"POST",b,a,15)}))}T_(t,i,a){const o=fm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=U0(),y=k0(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(_.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const b=c.join("");st(Xe,`Creating RPC '${t}' stream ${o}: ${b}`,_);const S=d.createWebChannel(b,_);this.I_(S);let V=!1,Q=!1;const $=new S2({Yo:J=>{Q?st(Xe,`Not sending because RPC '${t}' stream ${o} is closed:`,J):(V||(st(Xe,`Opening RPC '${t}' stream ${o} transport.`),S.open(),V=!0),st(Xe,`RPC '${t}' stream ${o} sending:`,J),S.send(J))},Zo:()=>S.close()}),nt=(J,dt,vt)=>{J.listen(dt,(gt=>{try{vt(gt)}catch(qt){setTimeout((()=>{throw qt}),0)}}))};return nt(S,yo.EventType.OPEN,(()=>{Q||(st(Xe,`RPC '${t}' stream ${o} transport opened.`),$.o_())})),nt(S,yo.EventType.CLOSE,(()=>{Q||(Q=!0,st(Xe,`RPC '${t}' stream ${o} transport closed`),$.a_(),this.E_(S))})),nt(S,yo.EventType.ERROR,(J=>{Q||(Q=!0,Za(Xe,`RPC '${t}' stream ${o} transport errored. Name:`,J.name,"Message:",J.message),$.a_(new ot(Z.UNAVAILABLE,"The operation could not be completed")))})),nt(S,yo.EventType.MESSAGE,(J=>{if(!Q){const dt=J.data[0];Ht(!!dt,16349);const vt=dt,gt=vt?.error||vt[0]?.error;if(gt){st(Xe,`RPC '${t}' stream ${o} received error:`,gt);const qt=gt.status;let Jt=(function(w){const I=Re[w];if(I!==void 0)return gE(I)})(qt),xt=gt.message;Jt===void 0&&(Jt=Z.INTERNAL,xt="Unknown error status: "+qt+" with message "+gt.message),Q=!0,$.a_(new ot(Jt,xt)),S.close()}else st(Xe,`RPC '${t}' stream ${o} received:`,dt),$.u_(dt)}})),nt(y,V0.STAT_EVENT,(J=>{J.stat===tm.PROXY?st(Xe,`RPC '${t}' stream ${o} detected buffering proxy`):J.stat===tm.NOPROXY&&st(Xe,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{$.__()}),0),$}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function qd(){return typeof document<"u"?document:null}function gh(r){return new xw(r,!0)}class xE{constructor(t,i,a=1e3,o=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&st("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Vv="PersistentStream";class NE{constructor(t,i,a,o,c,d,y,_){this.Mi=t,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=y,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new xE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(ts(i.toString()),ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{t((()=>{const o=new ot(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return st(Vv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(st(Vv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class R2 extends NE{constructor(t,i,a,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Ow(this.serializer,t),a=(function(c){if(!("targetChange"in c))return Et.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?wi(d.readTime):Et.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=cm(this.serializer),i.addTarget=(function(c,d){let y;const _=d.target;if(y=rm(_)?{documents:kw(c,_)}:{query:Uw(c,_).ft},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){y.resumeToken=_E(c,d.resumeToken);const p=lm(c,d.expectedCount);p!==null&&(y.expectedCount=p)}else if(d.snapshotVersion.compareTo(Et.min())>0){y.readTime=Qc(c,d.snapshotVersion.toTimestamp());const p=lm(c,d.expectedCount);p!==null&&(y.expectedCount=p)}return y})(this.serializer,t);const a=Pw(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=cm(this.serializer),i.removeTarget=t,this.q_(i)}}class C2 extends NE{constructor(t,i,a,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=Vw(t.writeResults,t.commitTime),a=wi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=cm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>Mw(this.serializer,a)))};this.q_(i)}}class I2{}class x2 extends I2{constructor(t,i,a,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ot(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,om(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ot(Z.UNKNOWN,c.toString())}))}Ho(t,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,y])=>this.connection.Ho(t,om(i,a),o,d,y,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class N2{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ts(i),this.aa=!1):st("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Gr="RemoteStore";class D2{constructor(t,i,a,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Yr(this)&&(st(Gr,"Restarting streams for network reachability change."),await(async function(_){const p=bt(_);p.Ea.add(4),await zo(p),p.Ra.set("Unknown"),p.Ea.delete(4),await ph(p)})(this))}))})),this.Ra=new N2(a,o)}}async function ph(r){if(Yr(r))for(const t of r.da)await t(!0)}async function zo(r){for(const t of r.da)await t(!1)}function DE(r,t){const i=bt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Km(i)?Qm(i):ol(i).O_()&&Fm(i,t))}function Gm(r,t){const i=bt(r),a=ol(i);i.Ia.delete(t),a.O_()&&OE(i,t),i.Ia.size===0&&(a.O_()?a.L_():Yr(i)&&i.Ra.set("Unknown"))}function Fm(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}ol(r).Y_(t)}function OE(r,t){r.Va.Ue(t),ol(r).Z_(t)}function Qm(r){r.Va=new ww({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),ol(r).start(),r.Ra.ua()}function Km(r){return Yr(r)&&!ol(r).x_()&&r.Ia.size>0}function Yr(r){return bt(r).Ea.size===0}function ME(r){r.Va=void 0}async function O2(r){r.Ra.set("Online")}async function M2(r){r.Ia.forEach(((t,i)=>{Fm(r,t)}))}async function V2(r,t){ME(r),Km(r)?(r.Ra.ha(t),Qm(r)):r.Ra.set("Unknown")}async function k2(r,t,i){if(r.Ra.set("Online"),t instanceof yE&&t.state===2&&t.cause)try{await(async function(o,c){const d=c.cause;for(const y of c.targetIds)o.Ia.has(y)&&(await o.remoteSyncer.rejectListen(y,d),o.Ia.delete(y),o.Va.removeTarget(y))})(r,t)}catch(a){st(Gr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Yc(r,a)}else if(t instanceof Dc?r.Va.Ze(t):t instanceof pE?r.Va.st(t):r.Va.tt(t),!i.isEqual(Et.min()))try{const a=await IE(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const y=c.Va.Tt(d);return y.targetChanges.forEach(((_,p)=>{if(_.resumeToken.approximateByteSize()>0){const b=c.Ia.get(p);b&&c.Ia.set(p,b.withResumeToken(_.resumeToken,d))}})),y.targetMismatches.forEach(((_,p)=>{const b=c.Ia.get(_);if(!b)return;c.Ia.set(_,b.withResumeToken(Qe.EMPTY_BYTE_STRING,b.snapshotVersion)),OE(c,_);const S=new Gs(b.target,_,p,b.sequenceNumber);Fm(c,S)})),c.remoteSyncer.applyRemoteEvent(y)})(r,i)}catch(a){st(Gr,"Failed to raise snapshot:",a),await Yc(r,a)}}async function Yc(r,t,i){if(!ll(t))throw t;r.Ea.add(1),await zo(r),r.Ra.set("Offline"),i||(i=()=>IE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{st(Gr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await ph(r)}))}function VE(r,t){return t().catch((i=>Yc(r,i,t)))}async function yh(r){const t=bt(r),i=nr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:xm;for(;U2(t);)try{const o=await y2(t.localStore,a);if(o===null){t.Ta.length===0&&i.L_();break}a=o.batchId,L2(t,o)}catch(o){await Yc(t,o)}kE(t)&&UE(t)}function U2(r){return Yr(r)&&r.Ta.length<10}function L2(r,t){r.Ta.push(t);const i=nr(r);i.O_()&&i.X_&&i.ea(t.mutations)}function kE(r){return Yr(r)&&!nr(r).x_()&&r.Ta.length>0}function UE(r){nr(r).start()}async function P2(r){nr(r).ra()}async function z2(r){const t=nr(r);for(const i of r.Ta)t.ea(i.mutations)}async function j2(r,t,i){const a=r.Ta.shift(),o=Lm.from(a,t,i);await VE(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await yh(r)}async function B2(r,t){t&&nr(r).X_&&await(async function(a,o){if((function(d){return bw(d)&&d!==Z.ABORTED})(o.code)){const c=a.Ta.shift();nr(a).B_(),await VE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await yh(a)}})(r,t),kE(r)&&UE(r)}async function kv(r,t){const i=bt(r);i.asyncQueue.verifyOperationInProgress(),st(Gr,"RemoteStore received new credentials");const a=Yr(i);i.Ea.add(3),await zo(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await ph(i)}async function q2(r,t){const i=bt(r);t?(i.Ea.delete(2),await ph(i)):t||(i.Ea.add(2),await zo(i),i.Ra.set("Unknown"))}function ol(r){return r.ma||(r.ma=(function(i,a,o){const c=bt(i);return c.sa(),new R2(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:O2.bind(null,r),t_:M2.bind(null,r),r_:V2.bind(null,r),H_:k2.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Km(r)?Qm(r):r.Ra.set("Unknown")):(await r.ma.stop(),ME(r))}))),r.ma}function nr(r){return r.fa||(r.fa=(function(i,a,o){const c=bt(i);return c.sa(),new C2(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:P2.bind(null,r),r_:B2.bind(null,r),ta:z2.bind(null,r),na:j2.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await yh(r)):(await r.fa.stop(),r.Ta.length>0&&(st(Gr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Ym{constructor(t,i,a,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new jr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,o,c){const d=Date.now()+a,y=new Ym(t,i,d,o,c);return y.start(a),y}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xm(r,t){if(ts("AsyncQueue",`${t}: ${r}`),ll(r))return new ot(Z.UNAVAILABLE,`${t}: ${r}`);throw r}class Ga{static emptySet(t){return new Ga(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||ft.comparator(i.key,a.key):(i,a)=>ft.comparator(i.key,a.key),this.keyedMap=_o(),this.sortedSet=new oe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ga)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ga;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Uv{constructor(){this.ga=new oe(ft.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):pt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class nl{constructor(t,i,a,o,c,d,y,_,p){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=y,this.excludesMetadataChanges=_,this.hasCachedResults=p}static fromInitialDocuments(t,i,a,o,c){const d=[];return i.forEach((y=>{d.push({type:0,doc:y})})),new nl(t,i,Ga.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ch(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class H2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class G2{constructor(){this.queries=Lv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=bt(i),c=o.queries;o.queries=Lv(),c.forEach(((d,y)=>{for(const _ of y.Sa)_.onError(a)}))})(this,new ot(Z.ABORTED,"Firestore shutting down"))}}function Lv(){return new Kr((r=>iE(r)),ch)}async function F2(r,t){const i=bt(r);let a=3;const o=t.query;let c=i.queries.get(o);c?!c.ba()&&t.Da()&&(a=2):(c=new H2,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const y=Xm(d,`Initialization of query '${ja(t.query)}' failed`);return void t.onError(y)}i.queries.set(o,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Zm(i)}async function Q2(r,t){const i=bt(r),a=t.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=t.Da()?0:1:!c.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function K2(r,t){const i=bt(r);let a=!1;for(const o of t){const c=o.query,d=i.queries.get(c);if(d){for(const y of d.Sa)y.Fa(o)&&(a=!0);d.wa=o}}a&&Zm(i)}function Y2(r,t,i){const a=bt(r),o=a.queries.get(t);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(t)}function Zm(r){r.Ca.forEach((t=>{t.next()}))}var dm,Pv;(Pv=dm||(dm={})).Ma="default",Pv.Cache="cache";class X2{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new nl(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=nl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==dm.Cache}}class LE{constructor(t){this.key=t}}class PE{constructor(t){this.key=t}}class Z2{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Vt(),this.mutatedKeys=Vt(),this.eu=sE(t),this.tu=new Ga(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new Uv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,y=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,p=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((b,S)=>{const V=o.get(b),Q=hh(this.query,S)?S:null,$=!!V&&this.mutatedKeys.has(V.key),nt=!!Q&&(Q.hasLocalMutations||this.mutatedKeys.has(Q.key)&&Q.hasCommittedMutations);let J=!1;V&&Q?V.data.isEqual(Q.data)?$!==nt&&(a.track({type:3,doc:Q}),J=!0):this.su(V,Q)||(a.track({type:2,doc:Q}),J=!0,(_&&this.eu(Q,_)>0||p&&this.eu(Q,p)<0)&&(y=!0)):!V&&Q?(a.track({type:0,doc:Q}),J=!0):V&&!Q&&(a.track({type:1,doc:V}),J=!0,(_||p)&&(y=!0)),J&&(Q?(d=d.add(Q),c=nt?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Cs:y,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,o){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,S)=>(function(Q,$){const nt=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Rt:J})}};return nt(Q)-nt($)})(b.type,S.type)||this.eu(b.doc,S.doc))),this.ou(a),o=o??!1;const y=i&&!o?this._u():[],_=this.Xa.size===0&&this.current&&!o?1:0,p=_!==this.Za;return this.Za=_,d.length!==0||p?{snapshot:new nl(this.query,t.tu,c,d,t.mutatedKeys,_===0,p,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Uv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Vt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new PE(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new LE(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Vt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return nl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Jm="SyncEngine";class J2{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class $2{constructor(t){this.key=t,this.hu=!1}}class W2{constructor(t,i,a,o,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Kr((y=>iE(y)),ch),this.Iu=new Map,this.Eu=new Set,this.du=new oe(ft.comparator),this.Au=new Map,this.Ru=new jm,this.Vu={},this.mu=new Map,this.fu=el.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function tR(r,t,i=!0){const a=GE(r);let o;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await zE(a,t,i,!0),o}async function eR(r,t){const i=GE(r);await zE(i,t,!0,!1)}async function zE(r,t,i,a){const o=await _2(r.localStore,Si(t)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let y;return a&&(y=await nR(r,t,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&DE(r.remoteStore,o),y}async function nR(r,t,i,a,o){r.pu=(S,V,Q)=>(async function(nt,J,dt,vt){let gt=J.view.ru(dt);gt.Cs&&(gt=await Nv(nt.localStore,J.query,!1).then((({documents:N})=>J.view.ru(N,gt))));const qt=vt&&vt.targetChanges.get(J.targetId),Jt=vt&&vt.targetMismatches.get(J.targetId)!=null,xt=J.view.applyChanges(gt,nt.isPrimaryClient,qt,Jt);return jv(nt,J.targetId,xt.au),xt.snapshot})(r,S,V,Q);const c=await Nv(r.localStore,t,!0),d=new Z2(t,c.Qs),y=d.ru(c.documents),_=Po.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),p=d.applyChanges(y,r.isPrimaryClient,_);jv(r,i,p.au);const b=new J2(t,i,d);return r.Tu.set(t,b),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),p.snapshot}async function iR(r,t,i){const a=bt(r),o=a.Tu.get(t),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!ch(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await hm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Gm(a.remoteStore,o.targetId),mm(a,o.targetId)})).catch(al)):(mm(a,o.targetId),await hm(a.localStore,o.targetId,!0))}async function sR(r,t){const i=bt(r),a=i.Tu.get(t),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Gm(i.remoteStore,a.targetId))}async function rR(r,t,i){const a=fR(r);try{const o=await(function(d,y){const _=bt(d),p=ie.now(),b=y.reduce(((Q,$)=>Q.add($.key)),Vt());let S,V;return _.persistence.runTransaction("Locally write mutations","readwrite",(Q=>{let $=es(),nt=Vt();return _.Ns.getEntries(Q,b).next((J=>{$=J,$.forEach(((dt,vt)=>{vt.isValidDocument()||(nt=nt.add(dt))}))})).next((()=>_.localDocuments.getOverlayedDocuments(Q,$))).next((J=>{S=J;const dt=[];for(const vt of y){const gt=yw(vt,S.get(vt.key).overlayedDocument);gt!=null&&dt.push(new ar(vt.key,gt,Z0(gt.value.mapValue),Pn.exists(!0)))}return _.mutationQueue.addMutationBatch(Q,p,dt,y)})).next((J=>{V=J;const dt=J.applyToLocalDocumentSet(S,nt);return _.documentOverlayCache.saveOverlays(Q,J.batchId,dt)}))})).then((()=>({batchId:V.batchId,changes:aE(S)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),(function(d,y,_){let p=d.Vu[d.currentUser.toKey()];p||(p=new oe(Mt)),p=p.insert(y,_),d.Vu[d.currentUser.toKey()]=p})(a,o.batchId,i),await jo(a,o.changes),await yh(a.remoteStore)}catch(o){const c=Xm(o,"Failed to persist write");i.reject(c)}}async function jE(r,t){const i=bt(r);try{const a=await g2(i.localStore,t);t.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Ht(d.hu,14607):o.removedDocuments.size>0&&(Ht(d.hu,42227),d.hu=!1))})),await jo(i,a,t)}catch(a){await al(a)}}function zv(r,t,i){const a=bt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const y=d.view.va(t);y.snapshot&&o.push(y.snapshot)})),(function(d,y){const _=bt(d);_.onlineState=y;let p=!1;_.queries.forEach(((b,S)=>{for(const V of S.Sa)V.va(y)&&(p=!0)})),p&&Zm(_)})(a.eventManager,t),o.length&&a.Pu.H_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function aR(r,t,i){const a=bt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const o=a.Au.get(t),c=o&&o.key;if(c){let d=new oe(ft.comparator);d=d.insert(c,Je.newNoDocument(c,Et.min()));const y=Vt().add(c),_=new mh(Et.min(),new Map,new oe(Mt),d,y);await jE(a,_),a.du=a.du.remove(c),a.Au.delete(t),$m(a)}else await hm(a.localStore,t,!1).then((()=>mm(a,t,i))).catch(al)}async function lR(r,t){const i=bt(r),a=t.batch.batchId;try{const o=await m2(i.localStore,t);qE(i,a,null),BE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await jo(i,o)}catch(o){await al(o)}}async function oR(r,t,i){const a=bt(r);try{const o=await(function(d,y){const _=bt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let b;return _.mutationQueue.lookupMutationBatch(p,y).next((S=>(Ht(S!==null,37113),b=S.keys(),_.mutationQueue.removeMutationBatch(p,S)))).next((()=>_.mutationQueue.performConsistencyCheck(p))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(p,b,y))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,b))).next((()=>_.localDocuments.getDocuments(p,b)))}))})(a.localStore,t);qE(a,t,i),BE(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await jo(a,o)}catch(o){await al(o)}}function BE(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function qE(r,t,i){const a=bt(r);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),a.Vu[a.currentUser.toKey()]=o}}function mm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||HE(r,a)}))}function HE(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(Gm(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),$m(r))}function jv(r,t,i){for(const a of i)a instanceof LE?(r.Ru.addReference(a.key,t),uR(r,a)):a instanceof PE?(st(Jm,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||HE(r,a.key)):pt(19791,{wu:a})}function uR(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(st(Jm,"New document in limbo: "+i),r.Eu.add(a),$m(r))}function $m(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new ft(ne.fromString(t)),a=r.fu.next();r.Au.set(a,new $2(i)),r.du=r.du.insert(i,a),DE(r.remoteStore,new Gs(Si(Vm(i.path)),a,"TargetPurposeLimboResolution",ah.ce))}}async function jo(r,t,i){const a=bt(r),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((y,_)=>{d.push(a.pu(_,t,i).then((p=>{if((p||i)&&a.isPrimaryClient){const b=p?!p.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,b?"current":"not-current")}if(p){o.push(p);const b=qm.As(_.targetId,p);c.push(b)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(_,p){const b=bt(_);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>X.forEach(p,(V=>X.forEach(V.Es,(Q=>b.persistence.referenceDelegate.addReference(S,V.targetId,Q))).next((()=>X.forEach(V.ds,(Q=>b.persistence.referenceDelegate.removeReference(S,V.targetId,Q)))))))))}catch(S){if(!ll(S))throw S;st(Hm,"Failed to update sequence numbers: "+S)}for(const S of p){const V=S.targetId;if(!S.fromCache){const Q=b.Ms.get(V),$=Q.snapshotVersion,nt=Q.withLastLimboFreeSnapshotVersion($);b.Ms=b.Ms.insert(V,nt)}}})(a.localStore,c))}async function cR(r,t){const i=bt(r);if(!i.currentUser.isEqual(t)){st(Jm,"User change. New user:",t.toKey());const a=await CE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((y=>{y.forEach((_=>{_.reject(new ot(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await jo(i,a.Ls)}}function hR(r,t){const i=bt(r),a=i.Au.get(t);if(a&&a.hu)return Vt().add(a.key);{let o=Vt();const c=i.Iu.get(t);if(!c)return o;for(const d of c){const y=i.Tu.get(d);o=o.unionWith(y.view.nu)}return o}}function GE(r){const t=bt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=jE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=hR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=aR.bind(null,t),t.Pu.H_=K2.bind(null,t.eventManager),t.Pu.yu=Y2.bind(null,t.eventManager),t}function fR(r){const t=bt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=lR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=oR.bind(null,t),t}class Xc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=gh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return d2(this.persistence,new c2,t.initialUser,this.serializer)}Cu(t){return new RE(Bm.mi,this.serializer)}Du(t){return new E2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xc.provider={build:()=>new Xc};class dR extends Xc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ht(this.persistence.referenceDelegate instanceof Kc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Xw(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new RE((a=>Kc.mi(a,i)),this.serializer)}}class gm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>zv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=cR.bind(null,this.syncEngine),await q2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new G2})()}createDatastore(t){const i=gh(t.databaseInfo.databaseId),a=(function(c){return new w2(c)})(t.databaseInfo);return(function(c,d,y,_){return new x2(c,d,y,_)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,o,c,d,y){return new D2(a,o,c,d,y)})(this.localStore,this.datastore,t.asyncQueue,(i=>zv(this.syncEngine,i,0)),(function(){return Mv.v()?new Mv:new T2})())}createSyncEngine(t,i){return(function(o,c,d,y,_,p,b){const S=new W2(o,c,d,y,_,p);return b&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=bt(i);st(Gr,"RemoteStore shutting down."),a.Ea.add(5),await zo(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}gm.provider={build:()=>new gm};class mR{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ts("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const ir="FirestoreClient";class gR{constructor(t,i,a,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=Ze.UNAUTHENTICATED,this.clientId=Cm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{st(ir,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(st(ir,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new jr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Xm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Hd(r,t){r.asyncQueue.verifyOperationInProgress(),st(ir,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await CE(t.localStore,o),a=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function Bv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await pR(r);st(ir,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>kv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>kv(t.remoteStore,o))),r._onlineComponents=t}async function pR(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){st(ir,"Using user provided OfflineComponentProvider");try{await Hd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Za("Error using user provided cache. Falling back to memory cache: "+i),await Hd(r,new Xc)}}else st(ir,"Using default OfflineComponentProvider"),await Hd(r,new dR(void 0));return r._offlineComponents}async function FE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(st(ir,"Using user provided OnlineComponentProvider"),await Bv(r,r._uninitializedComponentsProvider._online)):(st(ir,"Using default OnlineComponentProvider"),await Bv(r,new gm))),r._onlineComponents}function yR(r){return FE(r).then((t=>t.syncEngine))}async function qv(r){const t=await FE(r),i=t.eventManager;return i.onListen=tR.bind(null,t.syncEngine),i.onUnlisten=iR.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=eR.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=sR.bind(null,t.syncEngine),i}function QE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const Hv=new Map;const KE="firestore.googleapis.com",Gv=!0;class Fv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ot(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=KE,this.ssl=Gv}else this.host=t.host,this.ssl=t.ssl??Gv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=wE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Kw)throw new ot(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}xS("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QE(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ot(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ot(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ot(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class _h{constructor(t,i,a,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new vS;switch(a.type){case"firstParty":return new AS(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ot(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Hv.get(i);a&&(st("ComponentProvider","Removing Datastore"),Hv.delete(i),a.terminate())})(this),Promise.resolve()}}function _R(r,t,i,a={}){r=Ai(r,_h);const o=il(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},y=`${t}:${i}`;o&&(A0(`https://${y}`),S0("Firestore",!0)),c.host!==KE&&c.host!==y&&Za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:y,ssl:o,emulatorOptions:a};if(!Js(_,d)&&(r._setSettings(_),a.mockUserToken)){let p,b;if(typeof a.mockUserToken=="string")p=a.mockUserToken,b=Ze.MOCK_USER;else{p=Gb(a.mockUserToken,r._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new ot(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Ze(S)}r._authCredentials=new ES(new P0(p,b))}}class vh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new vh(this.firestore,t,this._query)}}class Ie{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ie(this.firestore,t,this._key)}toJSON(){return{type:Ie._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Uo(i,Ie._jsonSchema))return new Ie(t,a||null,new ft(ne.fromString(i.referencePath)))}}Ie._jsonSchemaVersion="firestore/documentReference/1.0",Ie._jsonSchema={type:Ce("string",Ie._jsonSchemaVersion),referencePath:Ce("string")};class Xs extends vh{constructor(t,i,a){super(t,i,Vm(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ie(this.firestore,null,new ft(t))}withConverter(t){return new Xs(this.firestore,t,this._path)}}function wc(r,t,...i){if(r=nn(r),z0("collection","path",t),r instanceof _h){const a=ne.fromString(t,...i);return sv(a),new Xs(r,null,a)}{if(!(r instanceof Ie||r instanceof Xs))throw new ot(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ne.fromString(t,...i));return sv(a),new Xs(r.firestore,null,a)}}function zs(r,t,...i){if(r=nn(r),arguments.length===1&&(t=Cm.newId()),z0("doc","path",t),r instanceof _h){const a=ne.fromString(t,...i);return iv(a),new Ie(r,null,new ft(a))}{if(!(r instanceof Ie||r instanceof Xs))throw new ot(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ne.fromString(t,...i));return iv(a),new Ie(r.firestore,r instanceof Xs?r.converter:null,new ft(a))}}const Qv="AsyncQueue";class Kv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new xE(this,"async_queue_retry"),this._c=()=>{const a=qd();a&&st(Qv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new jr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ll(t))throw t;st(Qv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,ts("INTERNAL UNHANDLED ERROR: ",Yv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=Ym.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&pt(47125,{Pc:Yv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Yv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function Xv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Fr extends _h{constructor(t,i,a,o){super(t,i,a,o),this.type="firestore",this._queue=new Kv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Kv(t),this._firestoreClient=void 0,await t}}}function vR(r,t){const i=typeof r=="object"?r:I0(),a=typeof r=="string"?r:jc,o=wm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=qb("firestore");c&&_R(o,...c)}return o}function YE(r){if(r._terminated)throw new ot(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||ER(r),r._firestoreClient}function ER(r){const t=r._freezeSettings(),i=(function(o,c,d,y){return new jS(o,c,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,QE(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new gR(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class Ln{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ln(Qe.fromBase64String(t))}catch(i){throw new ot(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Ln(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Uo(t,Ln._jsonSchema))return Ln.fromBase64String(t.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:Ce("string",Ln._jsonSchemaVersion),bytes:Ce("string")};class Eh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ot(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Fe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Th{constructor(t){this._methodName=t}}class Ri{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ot(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ot(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Mt(this._lat,t._lat)||Mt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ri._jsonSchemaVersion}}static fromJSON(t){if(Uo(t,Ri._jsonSchema))return new Ri(t.latitude,t.longitude)}}Ri._jsonSchemaVersion="firestore/geoPoint/1.0",Ri._jsonSchema={type:Ce("string",Ri._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};class Ci{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ci._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Uo(t,Ci._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ci(t.vectorValues);throw new ot(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ci._jsonSchemaVersion="firestore/vectorValue/1.0",Ci._jsonSchema={type:Ce("string",Ci._jsonSchemaVersion),vectorValues:Ce("object")};const TR=/^__.*__$/;class bR{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new ar(t,this.data,this.fieldMask,i,this.fieldTransforms):new Lo(t,this.data,i,this.fieldTransforms)}}class XE{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new ar(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function ZE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{Ac:r})}}class bh{constructor(t,i,a,o,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new bh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Zc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(ZE(this.Ac)&&TR.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class AR{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||gh(t)}Cc(t,i,a,o=!1){return new bh({Ac:t,methodName:i,Dc:a,path:Fe.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wm(r){const t=r._freezeSettings(),i=gh(r._databaseId);return new AR(r._databaseId,!!t.ignoreUndefinedProperties,i)}function JE(r,t,i,a,o,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,o);eg("Data must be an object, but it was:",d,a);const y=$E(a,d);let _,p;if(c.merge)_=new An(d.fieldMask),p=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const S of c.mergeFields){const V=pm(t,S,i);if(!d.contains(V))throw new ot(Z.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);tT(b,V)||b.push(V)}_=new An(b),p=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,p=d.fieldTransforms;return new bR(new dn(y),_,p)}class Ah extends Th{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ah}}function SR(r,t,i){return new bh({Ac:3,Dc:t.settings.Dc,methodName:r._methodName,fc:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class tg extends Th{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=SR(this,t,!0),a=this.vc.map((c=>Bo(c,i))),o=new tl(a);return new dw(t.path,o)}isEqual(t){return t instanceof tg&&Js(this.vc,t.vc)}}function wR(r,t,i,a){const o=r.Cc(1,t,i);eg("Data must be an object, but it was:",o,a);const c=[],d=dn.empty();rr(a,((_,p)=>{const b=ng(t,_,i);p=nn(p);const S=o.yc(b);if(p instanceof Ah)c.push(b);else{const V=Bo(p,S);V!=null&&(c.push(b),d.set(b,V))}}));const y=new An(c);return new XE(d,y,o.fieldTransforms)}function RR(r,t,i,a,o,c){const d=r.Cc(1,t,i),y=[pm(t,a,i)],_=[o];if(c.length%2!=0)throw new ot(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)y.push(pm(t,c[V])),_.push(c[V+1]);const p=[],b=dn.empty();for(let V=y.length-1;V>=0;--V)if(!tT(p,y[V])){const Q=y[V];let $=_[V];$=nn($);const nt=d.yc(Q);if($ instanceof Ah)p.push(Q);else{const J=Bo($,nt);J!=null&&(p.push(Q),b.set(Q,J))}}const S=new An(p);return new XE(b,S,d.fieldTransforms)}function Bo(r,t){if(WE(r=nn(r)))return eg("Unsupported field value:",t,r),$E(r,t);if(r instanceof Th)return(function(a,o){if(!ZE(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const y of a){let _=Bo(y,o.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,o){if((a=nn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return cw(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ie.fromDate(a);return{timestampValue:Qc(o.serializer,c)}}if(a instanceof ie){const c=new ie(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Qc(o.serializer,c)}}if(a instanceof Ri)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Ln)return{bytesValue:_E(o.serializer,a._byteString)};if(a instanceof Ie){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:zm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Ci)return(function(d,y){return{mapValue:{fields:{[Y0]:{stringValue:X0},[Bc]:{arrayValue:{values:d.toArray().map((p=>{if(typeof p!="number")throw y.Sc("VectorValues must only contain numeric values.");return km(y.serializer,p)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Im(a)}`)})(r,t)}function $E(r,t){const i={};return q0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):rr(r,((a,o)=>{const c=Bo(o,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function WE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ie||r instanceof Ri||r instanceof Ln||r instanceof Ie||r instanceof Th||r instanceof Ci)}function eg(r,t,i){if(!WE(i)||!j0(i)){const a=Im(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function pm(r,t,i){if((t=nn(t))instanceof Eh)return t._internalPath;if(typeof t=="string")return ng(r,t);throw Zc("Field path arguments must be of type string or ",r,!1,void 0,i)}const CR=new RegExp("[~\\*/\\[\\]]");function ng(r,t,i){if(t.search(CR)>=0)throw Zc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Eh(...t.split("."))._internalPath}catch{throw Zc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Zc(r,t,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let y=`Function ${t}() called with invalid data`;i&&(y+=" (via `toFirestore()`)"),y+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${o}`),_+=")"),new ot(Z.INVALID_ARGUMENT,y+r+_)}function tT(r,t){return r.some((i=>i.isEqual(t)))}class eT{constructor(t,i,a,o,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ie(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new IR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(nT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class IR extends eT{data(){return super.data()}}function nT(r,t){return typeof t=="string"?ng(r,t):t instanceof Eh?t._internalPath:t._delegate._internalPath}function xR(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ot(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class NR{convertValue(t,i="none"){switch(er(t)){case 0:return null;case 1:return t.booleanValue;case 2:return pe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(tr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw pt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return rr(t,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Bc].arrayValue?.values?.map((a=>pe(a.doubleValue)));return new Ci(i)}convertGeoPoint(t){return new Ri(pe(t.latitude),pe(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=oh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(xo(t));default:return null}}convertTimestamp(t){const i=Ws(t);return new ie(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ne.fromString(t);Ht(SE(a),9688,{name:t});const o=new No(a.get(1),a.get(3)),c=new ft(a.popFirst(5));return o.isEqual(i)||ts(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function iT(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class Eo{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Br extends eT{constructor(t,i,a,o,c,d){super(t,i,a,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Oc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(nT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Br._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Br._jsonSchemaVersion="firestore/documentSnapshot/1.0",Br._jsonSchema={type:Ce("string",Br._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class Oc extends Br{data(t={}){return super.data(t)}}class Fa{constructor(t,i,a,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new Eo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Oc(this._firestore,this._userDataWriter,a.key,a,new Eo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((y=>{const _=new Oc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Eo(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);return y.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((y=>c||y.type!==3)).map((y=>{const _=new Oc(o._firestore,o._userDataWriter,y.doc.key,y.doc,new Eo(o._snapshot.mutatedKeys.has(y.doc.key),o._snapshot.fromCache),o.query.converter);let p=-1,b=-1;return y.type!==0&&(p=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),y.type!==1&&(d=d.add(y.doc),b=d.indexOf(y.doc.key)),{type:DR(y.type),doc:_,oldIndex:p,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Fa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Cm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function DR(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:r})}}Fa._jsonSchemaVersion="firestore/querySnapshot/1.0",Fa._jsonSchema={type:Ce("string",Fa._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class sT extends NR{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ln(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ie(this.firestore,null,i)}}function Zv(r,t,i){r=Ai(r,Ie);const a=Ai(r.firestore,Fr),o=iT(r.converter,t);return Sh(a,[JE(Wm(a),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,Pn.none())])}function ym(r,t,i,...a){r=Ai(r,Ie);const o=Ai(r.firestore,Fr),c=Wm(o);let d;return d=typeof(t=nn(t))=="string"||t instanceof Eh?RR(c,"updateDoc",r._key,t,i,a):wR(c,"updateDoc",r._key,t),Sh(o,[d.toMutation(r._key,Pn.exists(!0))])}function Gd(r){return Sh(Ai(r.firestore,Fr),[new Um(r._key,Pn.none())])}function OR(r,t){const i=Ai(r.firestore,Fr),a=zs(r),o=iT(r.converter,t);return Sh(i,[JE(Wm(r.firestore),"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,Pn.exists(!1))]).then((()=>a))}function Fd(r,...t){r=nn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||Xv(t[a])||(i=t[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Xv(t[a])){const _=t[a];t[a]=_.next?.bind(_),t[a+1]=_.error?.bind(_),t[a+2]=_.complete?.bind(_)}let c,d,y;if(r instanceof Ie)d=Ai(r.firestore,Fr),y=Vm(r._key.path),c={next:_=>{t[a]&&t[a](MR(d,r,_))},error:t[a+1],complete:t[a+2]};else{const _=Ai(r,vh);d=Ai(_.firestore,Fr),y=_._query;const p=new sT(d);c={next:b=>{t[a]&&t[a](new Fa(d,p,_,b))},error:t[a+1],complete:t[a+2]},xR(r._query)}return(function(p,b,S,V){const Q=new mR(V),$=new X2(b,Q,S);return p.asyncQueue.enqueueAndForget((async()=>F2(await qv(p),$))),()=>{Q.Nu(),p.asyncQueue.enqueueAndForget((async()=>Q2(await qv(p),$)))}})(YE(d),y,o,c)}function Sh(r,t){return(function(a,o){const c=new jr;return a.asyncQueue.enqueueAndForget((async()=>rR(await yR(a),o,c))),c.promise})(YE(r),t)}function MR(r,t,i){const a=i.docs.get(t._key),o=new sT(r);return new Br(r,o,t._key,a,new Eo(i.hasPendingWrites,i.fromCache),t.converter)}function VR(...r){return new tg("arrayUnion",r)}(function(t,i=!0){(function(o){rl=o})(sl),Xa(new qr("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),y=new Fr(new TS(a.getProvider("auth-internal")),new SS(d,a.getProvider("app-check-internal")),(function(p,b){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new ot(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new No(p.options.projectId,b)})(d,o),d);return c={useFetchStreams:i,...c},y._setSettings(c),y}),"PUBLIC").setMultipleInstances(!0)),Ks(W_,tv,t),Ks(W_,tv,"esm2020")})();function rT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kR=rT,aT=new Vo("auth","Firebase",rT());const Jc=new Am("@firebase/auth");function UR(r,...t){Jc.logLevel<=Ot.WARN&&Jc.warn(`Auth (${sl}): ${r}`,...t)}function Mc(r,...t){Jc.logLevel<=Ot.ERROR&&Jc.error(`Auth (${sl}): ${r}`,...t)}function ns(r,...t){throw ig(r,...t)}function Ii(r,...t){return ig(r,...t)}function lT(r,t,i){const a={...kR(),[t]:i};return new Vo("auth","Firebase",a).create(t,{appName:r.name})}function Zs(r){return lT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ig(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return aT.create(r,...t)}function _t(r,t,...i){if(!r)throw ig(t,...i)}function Ji(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Mc(t),new Error(t)}function is(r,t){r||Ji(t)}function _m(){return typeof self<"u"&&self.location?.href||""}function LR(){return Jv()==="http:"||Jv()==="https:"}function Jv(){return typeof self<"u"&&self.location?.protocol||null}function PR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LR()||Zb()||"connection"in navigator)?navigator.onLine:!0}function zR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class qo{constructor(t,i){this.shortDelay=t,this.longDelay=i,is(i>t,"Short delay should be less than long delay!"),this.isMobile=Kb()||Jb()}get(){return PR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function sg(r,t){is(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class oT{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const jR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const BR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],qR=new qo(3e4,6e4);function wh(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function ul(r,t,i,a,o={}){return uT(r,o,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const y=ko({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const p={method:t,headers:_,...c};return Xb()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&il(r.emulatorConfig.host)&&(p.credentials="include"),oT.fetch()(await hT(r,r.config.apiHost,i,y),p)})}async function uT(r,t,i){r._canInitEmulator=!1;const a={...jR,...t};try{const o=new HR(r),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Rc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const y=c.ok?d.errorMessage:d.error.message,[_,p]=y.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Rc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Rc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw Rc(r,"user-disabled",d);const b=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw lT(r,b,p);ns(r,b)}}catch(o){if(o instanceof ss)throw o;ns(r,"network-request-failed",{message:String(o)})}}async function cT(r,t,i,a,o={}){const c=await ul(r,t,i,a,o);return"mfaPendingCredential"in c&&ns(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function hT(r,t,i,a){const o=`${t}${i}?${a}`,c=r,d=c.config.emulator?sg(r.config,o):`${r.config.apiScheme}://${o}`;return BR.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class HR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ii(this.auth,"network-request-failed")),qR.get())})}}function Rc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Ii(r,t,a);return o.customData._tokenResponse=i,o}async function GR(r,t){return ul(r,"POST","/v1/accounts:delete",t)}async function $c(r,t){return ul(r,"POST","/v1/accounts:lookup",t)}function Ro(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function FR(r,t=!1){const i=nn(r),a=await i.getIdToken(t),o=rg(a);_t(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:Ro(Qd(o.auth_time)),issuedAtTime:Ro(Qd(o.iat)),expirationTime:Ro(Qd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Qd(r){return Number(r)*1e3}function rg(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Mc("JWT malformed, contained fewer than 3 sections"),null;try{const o=v0(i);return o?JSON.parse(o):(Mc("Failed to decode base64 JWT payload"),null)}catch(o){return Mc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function $v(r){const t=rg(r);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Mo(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof ss&&QR(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function QR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class KR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class vm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ro(this.lastLoginAt),this.creationTime=Ro(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Wc(r){const t=r.auth,i=await r.getIdToken(),a=await Mo(r,$c(t,{idToken:i}));_t(a?.users.length,t,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?fT(o.providerUserInfo):[],d=XR(r.providerData,c),y=r.isAnonymous,_=!(r.email&&o.passwordHash)&&!d?.length,p=y?_:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new vm(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(r,b)}async function YR(r){const t=nn(r);await Wc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function XR(r,t){return[...r.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function fT(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function ZR(r,t){const i=await uT(r,{},async()=>{const a=ko({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,d=await hT(r,o,"/v1/token",`key=${c}`),y=await r._getAdditionalHeaders();y["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:y,body:a};return r.emulatorConfig&&il(r.emulatorConfig.host)&&(_.credentials="include"),oT.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function JR(r,t){return ul(r,"POST","/v2/accounts:revokeToken",wh(r,t))}class Qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):$v(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const i=$v(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await ZR(t,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new Qa;return a&&(_t(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),o&&(_t(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),c&&(_t(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Qa,this.toJSON())}_performRefresh(){return Ji("not implemented")}}function Ps(r,t){_t(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Wn{constructor({uid:t,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new KR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new vm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await Mo(this,this.stsTokenManager.getToken(this.auth,t));return _t(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return FR(this,t)}reload(){return YR(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Wn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Wc(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($n(this.auth.app))return Promise.reject(Zs(this.auth));const t=await this.getIdToken();return await Mo(this,GR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,y=i.tenantId??void 0,_=i._redirectEventId??void 0,p=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:S,emailVerified:V,isAnonymous:Q,providerData:$,stsTokenManager:nt}=i;_t(S&&nt,t,"internal-error");const J=Qa.fromJSON(this.name,nt);_t(typeof S=="string",t,"internal-error"),Ps(a,t.name),Ps(o,t.name),_t(typeof V=="boolean",t,"internal-error"),_t(typeof Q=="boolean",t,"internal-error"),Ps(c,t.name),Ps(d,t.name),Ps(y,t.name),Ps(_,t.name),Ps(p,t.name),Ps(b,t.name);const dt=new Wn({uid:S,auth:t,email:o,emailVerified:V,displayName:a,isAnonymous:Q,photoURL:d,phoneNumber:c,tenantId:y,stsTokenManager:J,createdAt:p,lastLoginAt:b});return $&&Array.isArray($)&&(dt.providerData=$.map(vt=>({...vt}))),_&&(dt._redirectEventId=_),dt}static async _fromIdTokenResponse(t,i,a=!1){const o=new Qa;o.updateFromServerResponse(i);const c=new Wn({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await Wc(c),c}static async _fromGetAccountInfoResponse(t,i,a){const o=i.users[0];_t(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?fT(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,y=new Qa;y.updateFromIdToken(a);const _=new Wn({uid:o.localId,auth:t,stsTokenManager:y,isAnonymous:d}),p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new vm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(_,p),_}}const Wv=new Map;function $i(r){is(r instanceof Function,"Expected a class definition");let t=Wv.get(r);return t?(is(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Wv.set(r,t),t)}class dT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}dT.type="NONE";const t0=dT;function Vc(r,t,i){return`firebase:${r}:${t}:${i}`}class Ka{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Vc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Vc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await $c(this.auth,{idToken:t}).catch(()=>{});return i?Wn._fromGetAccountInfoResponse(this.auth,i,t):null}return Wn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Ka($i(t0),t,a);const o=(await Promise.all(i.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let c=o[0]||$i(t0);const d=Vc(a,t.config.apiKey,t.name);let y=null;for(const p of i)try{const b=await p._get(d);if(b){let S;if(typeof b=="string"){const V=await $c(t,{idToken:b}).catch(()=>{});if(!V)break;S=await Wn._fromGetAccountInfoResponse(t,V,b)}else S=Wn._fromJSON(t,b);p!==c&&(y=S),c=p;break}}catch{}const _=o.filter(p=>p._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Ka(c,t,a):(c=_[0],y&&await c._set(d,y.toJSON()),await Promise.all(i.map(async p=>{if(p!==c)try{await p._remove(d)}catch{}})),new Ka(c,t,a))}}function e0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(yT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(mT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(vT(t))return"Blackberry";if(ET(t))return"Webos";if(gT(t))return"Safari";if((t.includes("chrome/")||pT(t))&&!t.includes("edge/"))return"Chrome";if(_T(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function mT(r=$e()){return/firefox\//i.test(r)}function gT(r=$e()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function pT(r=$e()){return/crios\//i.test(r)}function yT(r=$e()){return/iemobile/i.test(r)}function _T(r=$e()){return/android/i.test(r)}function vT(r=$e()){return/blackberry/i.test(r)}function ET(r=$e()){return/webos/i.test(r)}function ag(r=$e()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function $R(r=$e()){return ag(r)&&!!window.navigator?.standalone}function WR(){return $b()&&document.documentMode===10}function TT(r=$e()){return ag(r)||_T(r)||ET(r)||vT(r)||/windows phone/i.test(r)||yT(r)}function bT(r,t=[]){let i;switch(r){case"Browser":i=e0($e());break;case"Worker":i=`${e0($e())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${sl}/${a}`}class tC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,y)=>{try{const _=t(c);d(_)}catch(_){y(_)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function eC(r,t={}){return ul(r,"GET","/v2/passwordPolicy",wh(r,t))}const nC=6;class iC{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??nC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class sC{constructor(t,i,a,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new n0(this),this.idTokenSubscription=new n0(this),this.beforeStateQueue=new tC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=$i(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ka.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await $c(this,{idToken:t}),a=await Wn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if($n(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,y=await this.tryRedirectSignIn(t);(!c||c===d)&&y?.user&&(a=y.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Wc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=zR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if($n(this.app))return Promise.reject(Zs(this));const i=t?nn(t):null;return i&&_t(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return $n(this.app)?Promise.reject(Zs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return $n(this.app)?Promise.reject(Zs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence($i(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await eC(this),i=new iC(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Vo("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await JR(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&$i(t)||this._popupRedirectResolver;_t(i,this,"argument-error"),this.redirectPersistenceManager=await Ka.create(this,[$i(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const y=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(y,this,"internal-error"),y.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,o);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=bT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if($n(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&UR(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Rh(r){return nn(r)}class n0{constructor(t){this.auth=t,this.observer=null,this.addObserver=aA(i=>this.observer=i)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let lg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rC(r){lg=r}function aC(r){return lg.loadJS(r)}function lC(){return lg.gapiScript}function oC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function uC(r,t){const i=wm(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Js(c,t??{}))return o;ns(o,"already-initialized")}return i.initialize({options:t})}function cC(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map($i);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function hC(r,t,i){const a=Rh(r);_t(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,c=AT(t),{host:d,port:y}=fC(t),_=y===null?"":`:${y}`,p={url:`${c}//${d}${_}/`},b=Object.freeze({host:d,port:y,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){_t(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),_t(Js(p,a.config.emulator)&&Js(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=p,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,il(d)?(A0(`${c}//${d}${_}`),S0("Auth",!0)):dC()}function AT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function fC(r){const t=AT(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:i0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:i0(d)}}}function i0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function dC(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class ST{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Ji("not implemented")}_getIdTokenResponse(t){return Ji("not implemented")}_linkToIdToken(t,i){return Ji("not implemented")}_getReauthenticationResolver(t){return Ji("not implemented")}}async function Ya(r,t){return cT(r,"POST","/v1/accounts:signInWithIdp",wh(r,t))}const mC="http://localhost";class Qr extends ST{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Qr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ns("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new Qr(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ya(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ya(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ya(t,i)}buildRequest(){const t={requestUri:mC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=ko(i)}return t}}class wT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Ho extends wT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class js extends Ho{constructor(){super("facebook.com")}static credential(t){return Qr._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return js.credentialFromTaggedObject(t)}static credentialFromError(t){return js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return js.credential(t.oauthAccessToken)}catch{return null}}}js.FACEBOOK_SIGN_IN_METHOD="facebook.com";js.PROVIDER_ID="facebook.com";class Bs extends Ho{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Qr._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Bs.credentialFromTaggedObject(t)}static credentialFromError(t){return Bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Bs.credential(i,a)}catch{return null}}}Bs.GOOGLE_SIGN_IN_METHOD="google.com";Bs.PROVIDER_ID="google.com";class qs extends Ho{constructor(){super("github.com")}static credential(t){return Qr._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qs.credentialFromTaggedObject(t)}static credentialFromError(t){return qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qs.credential(t.oauthAccessToken)}catch{return null}}}qs.GITHUB_SIGN_IN_METHOD="github.com";qs.PROVIDER_ID="github.com";class Hs extends Ho{constructor(){super("twitter.com")}static credential(t,i){return Qr._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Hs.credentialFromTaggedObject(t)}static credentialFromError(t){return Hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Hs.credential(i,a)}catch{return null}}}Hs.TWITTER_SIGN_IN_METHOD="twitter.com";Hs.PROVIDER_ID="twitter.com";async function gC(r,t){return cT(r,"POST","/v1/accounts:signUp",wh(r,t))}class sr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,o=!1){const c=await Wn._fromIdTokenResponse(t,a,o),d=s0(a);return new sr({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const o=s0(a);return new sr({user:t,providerId:o,_tokenResponse:a,operationType:i})}}function s0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function pC(r){if($n(r.app))return Promise.reject(Zs(r));const t=Rh(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new sr({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await gC(t,{returnSecureToken:!0}),a=await sr._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class th extends ss{constructor(t,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,th.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,o){return new th(t,i,a,o)}}function RT(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?th._fromErrorAndOperation(r,c,t,a):c})}async function yC(r,t,i=!1){const a=await Mo(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return sr._forOperation(r,"link",a)}async function _C(r,t,i=!1){const{auth:a}=r;if($n(a.app))return Promise.reject(Zs(a));const o="reauthenticate";try{const c=await Mo(r,RT(a,o,t,r),i);_t(c.idToken,a,"internal-error");const d=rg(c.idToken);_t(d,a,"internal-error");const{sub:y}=d;return _t(r.uid===y,a,"user-mismatch"),sr._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&ns(a,"user-mismatch"),c}}async function vC(r,t,i=!1){if($n(r.app))return Promise.reject(Zs(r));const a="signIn",o=await RT(r,a,t),c=await sr._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(c.user),c}function EC(r,t,i,a){return nn(r).onIdTokenChanged(t,i,a)}function TC(r,t,i){return nn(r).beforeAuthStateChanged(t,i)}const eh="__sak";class CT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(eh,"1"),this.storage.removeItem(eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const bC=1e3,AC=10;class IT extends CT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=TT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&t(i,o,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,y,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);WR()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,AC):o()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},bC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}IT.type="LOCAL";const SC=IT;class xT extends CT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}xT.type="SESSION";const NT=xT;function wC(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Ch{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const a=new Ch(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const y=Array.from(d).map(async p=>p(i.origin,c)),_=await wC(y);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ch.receivers=[];function og(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class RC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((y,_)=>{const p=og("",20);o.port1.start();const b=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(S){const V=S;if(V.data.eventId===p)switch(V.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),y(V.data.response);break;default:clearTimeout(b),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:p,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function xi(){return window}function CC(r){xi().location.href=r}function DT(){return typeof xi().WorkerGlobalScope<"u"&&typeof xi().importScripts=="function"}async function IC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function xC(){return navigator?.serviceWorker?.controller||null}function NC(){return DT()?self:null}const OT="firebaseLocalStorageDb",DC=1,nh="firebaseLocalStorage",MT="fbase_key";class Go{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Ih(r,t){return r.transaction([nh],t?"readwrite":"readonly").objectStore(nh)}function OC(){const r=indexedDB.deleteDatabase(OT);return new Go(r).toPromise()}function Em(){const r=indexedDB.open(OT,DC);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(nh,{keyPath:MT})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(nh)?t(a):(a.close(),await OC(),t(await Em()))})})}async function r0(r,t,i){const a=Ih(r,!0).put({[MT]:t,value:i});return new Go(a).toPromise()}async function MC(r,t){const i=Ih(r,!1).get(t),a=await new Go(i).toPromise();return a===void 0?null:a.value}function a0(r,t){const i=Ih(r,!0).delete(t);return new Go(i).toPromise()}const VC=800,kC=3;class VT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Em(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>kC)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return DT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ch._getInstance(NC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await IC(),!this.activeServiceWorker)return;this.sender=new RC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||xC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Em();return await r0(t,eh,"1"),await a0(t,eh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>r0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>MC(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>a0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=Ih(o,!1).getAll();return new Go(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}VT.type="LOCAL";const UC=VT;new qo(3e4,6e4);function LC(r,t){return t?$i(t):(_t(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class ug extends ST{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ya(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ya(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ya(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function PC(r){return vC(r.auth,new ug(r),r.bypassAuthState)}function zC(r){const{auth:t,user:i}=r;return _t(i,t,"internal-error"),_C(i,new ug(r),r.bypassAuthState)}async function jC(r){const{auth:t,user:i}=r;return _t(i,t,"internal-error"),yC(i,new ug(r),r.bypassAuthState)}class kT{constructor(t,i,a,o,c=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:y}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(y)(_))}catch(p){this.reject(p)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return PC;case"linkViaPopup":case"linkViaRedirect":return jC;case"reauthViaPopup":case"reauthViaRedirect":return zC;default:ns(this.auth,"internal-error")}}resolve(t){is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const BC=new qo(2e3,1e4);class Ha extends kT{constructor(t,i,a,o,c){super(t,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,Ha.currentPopupAction&&Ha.currentPopupAction.cancel(),Ha.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){is(this.filter.length===1,"Popup operations only handle one event");const t=og();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ha.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,BC.get())};t()}}Ha.currentPopupAction=null;const qC="pendingRedirect",kc=new Map;class HC extends kT{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=kc.get(this.auth._key());if(!t){try{const a=await GC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}kc.set(this.auth._key(),t)}return this.bypassAuthState||kc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GC(r,t){const i=KC(t),a=QC(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function FC(r,t){kc.set(r._key(),t)}function QC(r){return $i(r._redirectPersistence)}function KC(r){return Vc(qC,r.config.apiKey,r.name)}async function YC(r,t,i=!1){if($n(r.app))return Promise.reject(Zs(r));const a=Rh(r),o=LC(a,t),d=await new HC(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const XC=600*1e3;class ZC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!JC(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!UT(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ii(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=XC&&this.cachedEventUids.clear(),this.cachedEventUids.has(l0(t))}saveEventToCache(t){this.cachedEventUids.add(l0(t)),this.lastProcessedEventTime=Date.now()}}function l0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function UT({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function JC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return UT(r);default:return!1}}async function $C(r,t={}){return ul(r,"GET","/v1/projects",t)}const WC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tI=/^https?/;async function eI(r){if(r.config.emulator)return;const{authorizedDomains:t}=await $C(r);for(const i of t)try{if(nI(i))return}catch{}ns(r,"unauthorized-domain")}function nI(r){const t=_m(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!tI.test(i))return!1;if(WC.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const iI=new qo(3e4,6e4);function o0(){const r=xi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function sI(r){return new Promise((t,i)=>{function a(){o0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{o0(),i(Ii(r,"network-request-failed"))},timeout:iI.get()})}if(xi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(xi().gapi?.load)a();else{const o=oC("iframefcb");return xi()[o]=()=>{gapi.load?a():i(Ii(r,"network-request-failed"))},aC(`${lC()}?onload=${o}`).catch(c=>i(c))}}).catch(t=>{throw Uc=null,t})}let Uc=null;function rI(r){return Uc=Uc||sI(r),Uc}const aI=new qo(5e3,15e3),lI="__/auth/iframe",oI="emulator/auth/iframe",uI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},cI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hI(r){const t=r.config;_t(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?sg(t,oI):`https://${r.config.authDomain}/${lI}`,a={apiKey:t.apiKey,appName:r.name,v:sl},o=cI.get(r.config.apiHost);o&&(a.eid=o);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${ko(a).slice(1)}`}async function fI(r){const t=await rI(r),i=xi().gapi;return _t(i,r,"internal-error"),t.open({where:document.body,url:hI(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uI,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ii(r,"network-request-failed"),y=xi().setTimeout(()=>{c(d)},aI.get());function _(){xi().clearTimeout(y),o(a)}a.ping(_).then(_,()=>{c(d)})}))}const dI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},mI=500,gI=600,pI="_blank",yI="http://localhost";class u0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _I(r,t,i,a=mI,o=gI){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let y="";const _={...dI,width:a.toString(),height:o.toString(),top:c,left:d},p=$e().toLowerCase();i&&(y=pT(p)?pI:i),mT(p)&&(t=t||yI,_.scrollbars="yes");const b=Object.entries(_).reduce((V,[Q,$])=>`${V}${Q}=${$},`,"");if($R(p)&&y!=="_self")return vI(t||"",y),new u0(null);const S=window.open(t||"",y,b);_t(S,r,"popup-blocked");try{S.focus()}catch{}return new u0(S)}function vI(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const EI="__/auth/handler",TI="emulator/auth/handler",bI=encodeURIComponent("fac");async function c0(r,t,i,a,o,c){_t(r.config.authDomain,r,"auth-domain-config-required"),_t(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:sl,eventId:o};if(t instanceof wT){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",rA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,S]of Object.entries({}))d[b]=S}if(t instanceof Ho){const b=t.getScopes().filter(S=>S!=="");b.length>0&&(d.scopes=b.join(","))}r.tenantId&&(d.tid=r.tenantId);const y=d;for(const b of Object.keys(y))y[b]===void 0&&delete y[b];const _=await r._getAppCheckToken(),p=_?`#${bI}=${encodeURIComponent(_)}`:"";return`${AI(r)}?${ko(y).slice(1)}${p}`}function AI({config:r}){return r.emulator?sg(r,TI):`https://${r.authDomain}/${EI}`}const Kd="webStorageSupport";class SI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=NT,this._completeRedirectFn=YC,this._overrideRedirectResult=FC}async _openPopup(t,i,a,o){is(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await c0(t,i,a,_m(),o);return _I(t,c,og())}async _openRedirect(t,i,a,o){await this._originValidation(t);const c=await c0(t,i,a,_m(),o);return CC(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(is(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await fI(t),a=new ZC(t);return i.register("authEvent",o=>(_t(o?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Kd,{type:Kd},o=>{const c=o?.[0]?.[Kd];c!==void 0&&i(!!c),ns(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=eI(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return TT()||gT()||ag()}}const wI=SI;var h0="@firebase/auth",f0="1.12.0";class RI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function CI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function II(r){Xa(new qr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:y}=a.options;_t(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:y,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bT(r)},p=new sC(a,o,c,_);return cC(p,i),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Xa(new qr("auth-internal",t=>{const i=Rh(t.getProvider("auth").getImmediate());return(a=>new RI(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ks(h0,f0,CI(r)),Ks(h0,f0,"esm2020")}const xI=300,NI=b0("authIdTokenMaxAge")||xI;let d0=null;const DI=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>NI)return;const o=i?.token;d0!==o&&(d0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function OI(r=I0()){const t=wm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=uC(r,{popupRedirectResolver:wI,persistence:[UC,SC,NT]}),a=b0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=DI(c.toString());TC(i,d,()=>d(i.currentUser)),EC(i,y=>d(y))}}const o=E0("auth");return o&&hC(i,`http://${o}`),i}function MI(){return document.getElementsByTagName("head")?.[0]??document}rC({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=o=>{const c=Ii("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",MI().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});II("Browser");const VI=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kI=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),m0=r=>{const t=kI(r);return t.charAt(0).toUpperCase()+t.slice(1)},LT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),UI=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var LI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const PI=le.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...y},_)=>le.createElement("svg",{ref:_,...LI,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:LT("lucide",o),...!c&&!UI(y)&&{"aria-hidden":"true"},...y},[...d.map(([p,b])=>le.createElement(p,b)),...Array.isArray(c)?c:[c]]));const Ke=(r,t)=>{const i=le.forwardRef(({className:a,...o},c)=>le.createElement(PI,{ref:c,iconNode:t,className:LT(`lucide-${VI(m0(r))}`,`lucide-${r}`,a),...o}));return i.displayName=m0(r),i};const zI=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],jI=Ke("bookmark",zI);const BI=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ih=Ke("chevron-right",BI);const qI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],HI=Ke("circle-x",qI);const GI=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],PT=Ke("heart",GI);const FI=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],QI=Ke("layout-dashboard",FI);const KI=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],YI=Ke("list",KI);const XI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ZI=Ke("log-out",XI);const JI=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],zT=Ke("map-pin",JI);const $I=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],jT=Ke("message-square",$I);const WI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],tx=Ke("plus",WI);const ex=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],BT=Ke("school",ex);const nx=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],g0=Ke("search",nx);const ix=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],qT=Ke("settings",ix);const sx=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],rx=Ke("square-pen",sx);const ax=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],sh=Ke("star",ax);const lx=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],cg=Ke("trash-2",lx);const ox=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],ux=Ke("upload",ox),Tm={apiKey:"AIzaSyCe1kKepWLp8yzGf7A0hTiik3ww2dOl3U8",authDomain:"labor-emotional-apps-d4016.firebaseapp.com",projectId:"labor-emotional-apps-d4016",storageBucket:"labor-emotional-apps-d4016.firebasestorage.app",messagingSenderId:"466148209394",appId:"1:466148209394:web:2fbac969e9fa186c7f966b",measurementId:"G-KYHTYD41B8"},HT=Tm.apiKey&&Tm.apiKey!=="";let Yd,hn,GT;if(HT)try{Yd=C0(Tm),hn=vR(Yd),GT=OI(Yd)}catch(r){console.error("Firebase initialization failed:",r)}const Jn="labor-emotional-registry",FT=({setView:r,user:t})=>A.jsx("header",{className:"bg-blue-900 text-white shadow-lg sticky top-0 z-30",children:A.jsxs("div",{className:"container mx-auto px-6 py-3 flex justify-between items-center",children:[A.jsxs("div",{className:"flex items-center gap-4 cursor-pointer",onClick:()=>r("dashboard"),children:[A.jsx("div",{className:"bg-white p-1 rounded-md h-10 flex items-center",children:A.jsx("img",{src:"120_labor.png",alt:"",className:"h-8",onError:i=>i.target.src="https://www.gov.il/BlobFolder/office/labor/he/labor_logo.png"})}),A.jsx("h1",{className:"text-lg font-bold hidden sm:block",children:"  "})]}),A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsxs("div",{className:"hidden md:flex flex-col items-end ml-4 text-[10px] opacity-80",children:[A.jsxs("span",{className:"font-bold text-blue-200",children:[", ",t?.name]}),A.jsx("span",{children:t?.isAdmin?"  ":` : ${t?.id}`})]}),t?.isAdmin&&A.jsx("button",{onClick:()=>r("admin-settings"),className:"p-2 bg-blue-800 hover:bg-blue-700 rounded-lg transition-colors",title:" ",children:A.jsx(qT,{size:18})}),A.jsxs("button",{onClick:()=>r("my-workspace"),className:"flex items-center gap-2 bg-blue-800 hover:bg-blue-700 px-4 py-2 rounded-lg text-sm transition-colors",children:[A.jsx(QI,{size:16}),A.jsx("span",{className:"hidden md:inline",children:" "})]}),A.jsxs("button",{onClick:()=>r("login"),className:"flex items-center gap-2 bg-blue-800 hover:bg-red-600 px-4 py-2 rounded-lg text-sm transition-colors",children:[A.jsx(ZI,{size:16}),""]})]})]})}),cx=({loginData:r,setLoginData:t,handleLogin:i,error:a})=>A.jsx("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-4",dir:"rtl",children:A.jsxs("div",{className:"bg-white p-10 rounded-3xl shadow-2xl w-full max-w-md border border-slate-200",children:[A.jsxs("div",{className:"flex flex-col items-center mb-8 text-center",children:[A.jsx("div",{className:"bg-white p-4 rounded-2xl shadow-sm border border-slate-100 mb-6",children:A.jsx("img",{src:"120_labor.png",alt:"",className:"h-24",onError:o=>o.target.src="https://www.gov.il/BlobFolder/office/labor/he/labor_logo.png"})}),A.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"  "}),A.jsx("p",{className:"text-slate-500 font-medium",children:"  -  "})]}),a&&A.jsx("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg mb-4 text-xs font-bold border border-red-100",children:a}),A.jsxs("form",{onSubmit:i,className:"space-y-4",children:[A.jsx("input",{required:!0,className:"w-full p-4 border rounded-2xl outline-none focus:ring-2 focus:ring-blue-500",placeholder:" ",value:r.semel,onChange:o=>t({...r,semel:o.target.value})}),A.jsx("input",{required:!0,type:"password",className:"w-full p-4 border rounded-2xl outline-none focus:ring-2 focus:ring-blue-500",placeholder:"",value:r.password,onChange:o=>t({...r,password:o.target.value})}),A.jsx("button",{type:"submit",className:"w-full bg-blue-700 hover:bg-blue-800 text-white font-bold py-4 rounded-xl shadow-lg active:scale-95 transition-all",children:" "})]})]})}),hx=({setIsAdminMode:r,schools:t,importText:i,setImportText:a,handleImportExcel:o,handleDeleteSchool:c,editingSchool:d,setEditingSchool:y,db:_,appId:p,setView:b})=>A.jsxs("div",{className:"min-h-screen bg-slate-50 pb-20",dir:"rtl",children:[A.jsxs("header",{className:"bg-slate-900 text-white p-4 flex justify-between items-center sticky top-0 z-40",children:[A.jsxs("h1",{className:"font-bold flex items-center gap-2",children:[A.jsx(qT,{size:20}),"   "]}),A.jsx("button",{onClick:()=>b("dashboard"),className:"text-sm bg-slate-800 px-4 py-2 rounded-lg",children:" "})]}),A.jsxs("main",{className:"container mx-auto p-6 max-w-6xl grid grid-cols-1 lg:grid-cols-3 gap-8",children:[A.jsx("div",{className:"lg:col-span-1 space-y-6",children:A.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-slate-200",children:[A.jsxs("h3",{className:"font-bold mb-4 flex items-center gap-2 text-blue-800",children:[A.jsx(ux,{size:18}),"   "]}),A.jsx("p",{className:"text-xs text-slate-500 mb-4 font-medium",children:"   ( ,  , )  :"}),A.jsx("textarea",{className:"w-full h-48 p-3 border rounded-xl mb-4 font-mono text-xs bg-slate-50 outline-none focus:ring-2 focus:ring-blue-500",placeholder:`  	12345	pass123
  	67890	pass456`,value:i,onChange:S=>a(S.target.value)}),A.jsx("button",{onClick:o,disabled:!i,className:"w-full bg-blue-600 text-white py-4 rounded-2xl font-bold shadow-md hover:bg-blue-700 disabled:opacity-50 transition-all",children:" "})]})}),A.jsx("div",{className:"lg:col-span-2",children:A.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border border-slate-200 overflow-hidden",children:[A.jsx("div",{className:"p-6 border-b flex justify-between items-center bg-slate-50/50",children:A.jsxs("h3",{className:"font-bold flex items-center gap-2",children:[A.jsx(BT,{size:18,className:"text-blue-800"}),"   (",t.length,")"]})}),A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"w-full text-right border-collapse",children:[A.jsx("thead",{className:"bg-slate-50 text-slate-500 text-[10px] font-black uppercase tracking-wider",children:A.jsxs("tr",{children:[A.jsx("th",{className:"p-4",children:" "}),A.jsx("th",{className:"p-4",children:" "}),A.jsx("th",{className:"p-4",children:""}),A.jsx("th",{className:"p-4 text-center",children:""})]})}),A.jsx("tbody",{className:"divide-y text-sm",children:t.map(S=>A.jsxs("tr",{className:"hover:bg-blue-50/30 transition-colors",children:[A.jsx("td",{className:"p-4 font-bold text-slate-800",children:S.name}),A.jsx("td",{className:"p-4 text-slate-600 font-mono",children:S.semel}),A.jsx("td",{className:"p-4 text-slate-400 font-mono",children:S.password}),A.jsxs("td",{className:"p-4 flex justify-center gap-2",children:[A.jsx("button",{onClick:()=>y(S),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-xl transition-colors",title:"",children:A.jsx(rx,{size:18})}),A.jsx("button",{onClick:()=>c(S.id),className:"p-2 text-red-600 hover:bg-red-100 rounded-xl transition-colors",title:"",children:A.jsx(cg,{size:18})})]})]},S.id))})]})})]})}),d&&A.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm",children:A.jsxs("div",{className:"bg-white rounded-3xl p-8 w-full max-w-sm shadow-2xl",children:[A.jsx("h2",{className:"text-xl font-black text-slate-800 mb-6 flex items-center gap-2",children:" "}),A.jsxs("div",{className:"space-y-4",children:[A.jsx("input",{className:"w-full p-4 border-2 border-slate-100 rounded-2xl outline-none",defaultValue:d.name,id:"edit_name"}),A.jsx("input",{className:"w-full p-4 border-2 border-slate-100 rounded-2xl outline-none",defaultValue:d.password,id:"edit_pass"}),A.jsxs("div",{className:"flex gap-3 pt-6",children:[A.jsx("button",{onClick:async()=>{const S=document.getElementById("edit_name").value,V=document.getElementById("edit_pass").value;await ym(zs(_,"artifacts",p,"public","data","schools",d.id),{name:S,password:V}),y(null)},className:"flex-1 bg-blue-600 text-white py-4 rounded-2xl font-bold",children:""}),A.jsx("button",{onClick:()=>y(null),className:"flex-1 border-2 py-4 rounded-2xl font-bold",children:""})]})]})]})})]})]}),fx=({setView:r,user:t,programs:i,savedProgramIds:a,toggleFavorite:o,setSelectedProgram:c})=>{const d=i.filter(_=>_.schoolId===t?.id),y=i.filter(_=>a.includes(_.id));return A.jsxs("div",{className:"min-h-screen bg-slate-50 pb-12",dir:"rtl",children:[A.jsx(FT,{setView:r,user:t}),A.jsxs("main",{className:"container mx-auto p-6 max-w-6xl",children:[A.jsxs("div",{className:"mb-8",children:[A.jsx("h2",{className:"text-3xl font-black text-slate-800",children:"  "}),A.jsxs("p",{className:"text-slate-500",children:[t?.name," |   "]})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[A.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border p-6",children:[A.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2 text-blue-800",children:[A.jsx(YI,{size:20}),"   (",d.length,")"]}),A.jsxs("div",{className:"space-y-4",children:[d.map(_=>A.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-50 rounded-2xl group hover:bg-white hover:shadow-md transition-all border border-transparent hover:border-blue-100",children:[A.jsxs("div",{children:[A.jsx("h4",{className:"font-bold text-slate-800",children:_.name}),A.jsx("p",{className:"text-xs text-slate-400",children:_.createdAt})]}),A.jsx("div",{className:"flex gap-2",children:A.jsx("button",{onClick:()=>{c(_),r("details")},className:"p-2 text-blue-600 bg-white rounded-full shadow-sm hover:scale-110 transition-transform",children:A.jsx(ih,{size:18})})})]},_.id)),d.length===0&&A.jsx("p",{className:"text-center text-slate-400 py-8 italic",children:"    "})]})]}),A.jsxs("div",{className:"bg-white rounded-3xl shadow-sm border p-6",children:[A.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2 text-rose-600",children:[A.jsx(jI,{size:20}),"   (",y.length,")"]}),A.jsxs("div",{className:"space-y-4",children:[y.map(_=>A.jsxs("div",{className:"flex justify-between items-center p-4 bg-rose-50/30 rounded-2xl group hover:bg-white hover:shadow-md transition-all border border-transparent hover:border-rose-100",children:[A.jsxs("div",{children:[A.jsx("h4",{className:"font-bold text-slate-800",children:_.name}),A.jsxs("p",{className:"text-[10px] text-slate-400",children:[": ",_.schoolName]})]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("button",{onClick:p=>o(p,_.id),className:"p-2 text-rose-600 bg-white rounded-full shadow-sm hover:scale-110 transition-transform",children:A.jsx(PT,{size:16,fill:"currentColor"})}),A.jsx("button",{onClick:()=>{c(_),r("details")},className:"p-2 text-blue-600 bg-white rounded-full shadow-sm hover:scale-110 transition-transform",children:A.jsx(ih,{size:18})})]})]},_.id)),y.length===0&&A.jsx("p",{className:"text-center text-slate-400 py-8 italic",children:"   "})]})]})]})]})]})},dx=({setView:r,filters:t,setFilters:i,filteredPrograms:a,toggleFavorite:o,savedProgramIds:c,setSelectedProgram:d,user:y,handleDeleteProgram:_})=>A.jsxs("div",{className:"min-h-screen bg-slate-50 pb-20",dir:"rtl",children:[A.jsx(FT,{setView:r,user:y}),A.jsxs("main",{className:"container mx-auto px-6 p-4 max-w-7xl",children:[A.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6 mb-10 mt-6",children:[A.jsxs("div",{children:[A.jsxs("h2",{className:"text-3xl font-black text-slate-800",children:[", ",y?.name]}),A.jsx("p",{className:"text-slate-500",children:"       "})]}),A.jsxs("button",{onClick:()=>r("add"),className:"flex items-center gap-2 bg-emerald-600 hover:bg-emerald-700 text-white px-8 py-4 rounded-2xl font-bold shadow-lg transition-transform hover:-translate-y-1",children:[A.jsx(tx,{size:20}),"   "]})]}),A.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-slate-200 mb-8 space-y-4",children:[A.jsxs("div",{className:"flex flex-wrap gap-4 items-end",children:[A.jsxs("div",{className:"flex-1 min-w-[300px] relative",children:[A.jsx(g0,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-300",size:20}),A.jsx("input",{type:"text",placeholder:"  ,   ...",className:"w-full pr-12 pl-4 py-3 bg-slate-50 border-none rounded-2xl outline-none focus:ring-2 focus:ring-blue-500 transition-all font-medium",value:t.search,onChange:p=>i({...t,search:p.target.value})})]}),A.jsxs("div",{className:"w-full sm:w-auto",children:[A.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase block mb-1 mr-1",children:" "}),A.jsxs("select",{className:"p-3 bg-slate-50 border-none rounded-2xl outline-none font-bold text-slate-700 w-full",value:t.location,onChange:p=>i({...t,location:p.target.value}),children:[A.jsx("option",{value:"all",children:" "}),A.jsx("option",{value:"",children:""}),A.jsx("option",{value:"",children:""}),A.jsx("option",{value:"",children:""})]})]}),A.jsxs("div",{className:"w-full sm:w-auto",children:[A.jsx("label",{className:"text-[10px] font-bold text-slate-400 uppercase block mb-1 mr-1",children:" "}),A.jsxs("select",{className:"p-3 bg-slate-50 border-none rounded-2xl outline-none font-bold text-slate-700 w-full",value:t.grade,onChange:p=>i({...t,grade:p.target.value}),children:[A.jsx("option",{value:"all",children:" "}),["","","",""].map(p=>A.jsxs("option",{value:p,children:[" ",p]},p))]})]})]}),A.jsxs("div",{className:"flex flex-wrap gap-6 pt-2 border-t border-slate-50 items-center",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("span",{className:"text-xs font-bold text-slate-400",children:" :"}),A.jsxs("div",{className:"flex gap-1",children:[[1,2,3,4,5].map(p=>A.jsx("button",{onClick:()=>i({...t,minRating:p}),className:"transition-transform hover:scale-110",children:A.jsx(sh,{size:16,fill:p<=t.minRating?"#f59e0b":"none",className:p<=t.minRating?"text-amber-500":"text-slate-300"})},p)),t.minRating>0&&A.jsx("button",{onClick:()=>i({...t,minRating:0}),className:"text-[10px] text-blue-500 underline mr-2",children:""})]})]}),A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("span",{className:"text-xs font-bold text-slate-400",children:" :"}),A.jsx("input",{type:"number",min:"0",className:"w-16 p-1 bg-slate-50 rounded-lg text-xs font-bold border-none outline-none",value:t.minComments,onChange:p=>i({...t,minComments:parseInt(p.target.value)||0})})]}),A.jsxs("label",{className:"flex items-center gap-2 cursor-pointer transition-colors hover:text-purple-600",children:[A.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded text-purple-600 border-none bg-slate-100",checked:t.zalashOnly,onChange:p=>i({...t,zalashOnly:p.target.checked})}),A.jsx("span",{className:"text-xs font-bold",children:' " '})]})]})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[a.map(p=>A.jsxs("div",{onClick:()=>{d(p),r("details")},className:"bg-white rounded-3xl shadow-sm border border-slate-200 overflow-hidden hover:shadow-xl transition-all group cursor-pointer relative",children:[A.jsxs("div",{className:"absolute top-4 left-4 flex gap-2 z-10",children:[A.jsx("button",{onClick:b=>o(b,p.id),className:`p-2 rounded-full transition-all ${c.includes(p.id)?"bg-rose-500 text-white":"bg-white/80 backdrop-blur shadow-sm text-slate-300 hover:text-rose-400"}`,children:A.jsx(PT,{size:16,fill:c.includes(p.id)?"currentColor":"none"})}),y?.isAdmin&&A.jsx("button",{onClick:b=>{b.stopPropagation(),_(p.id)},className:"p-2 rounded-full bg-white/80 backdrop-blur shadow-sm text-red-500 hover:bg-red-500 hover:text-white transition-all",children:A.jsx(cg,{size:16})})]}),A.jsx("div",{className:`h-2 ${p.recommends?"bg-emerald-500":"bg-rose-500"}`}),A.jsxs("div",{className:"p-6",children:[A.jsxs("div",{className:"flex justify-between items-start mb-2",children:[A.jsx("h3",{className:"font-bold text-xl group-hover:text-blue-700 transition-colors",children:p.name}),A.jsxs("div",{className:"flex text-amber-500 items-center gap-1",children:[A.jsx(sh,{size:14,fill:"currentColor"}),A.jsx("span",{className:"text-xs font-bold",children:p.rating})]})]}),A.jsx("p",{className:"text-slate-500 text-sm line-clamp-2 mb-4 leading-relaxed h-10",children:p.description}),A.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[A.jsxs("span",{className:"text-[10px] bg-slate-100 text-slate-600 px-3 py-1 rounded-full font-bold flex items-center gap-1",children:[A.jsx(zT,{size:10})," ",p.location||" "]}),p.grades?.map(b=>A.jsxs("span",{className:"text-[10px] bg-blue-50 text-blue-700 px-3 py-1 rounded-full font-bold",children:[" ",b]},b)),p.isZalash&&A.jsx("span",{className:"text-[10px] bg-purple-100 text-purple-700 px-3 py-1 rounded-full font-bold",children:'"'})]}),A.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-slate-50 text-[10px] text-slate-400 font-medium",children:[A.jsxs("span",{className:"flex items-center gap-1",children:[A.jsx(BT,{size:12})," ",p.schoolName]}),A.jsxs("span",{className:"flex items-center gap-1",children:[A.jsx(jT,{size:12})," ",p.comments?.length||0," "]})]})]})]},p.id)),a.length===0&&A.jsxs("div",{className:"col-span-full py-20 text-center text-slate-400 bg-white rounded-3xl border border-dashed border-slate-300",children:[A.jsx(g0,{size:40,className:"mx-auto mb-4 opacity-20"}),A.jsx("p",{className:"text-xl font-medium",children:"    "})]})]})]})]}),mx=({setView:r,handleAddProgram:t,formData:i,setFormData:a})=>A.jsxs("div",{className:"min-h-screen bg-slate-50 pb-12",dir:"rtl",children:[A.jsxs("header",{className:"bg-white border-b p-4 sticky top-0 z-30 flex items-center gap-4 shadow-sm",children:[A.jsx("button",{onClick:()=>r("dashboard"),className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:A.jsx(ih,{size:24})}),A.jsx("h1",{className:"text-xl font-bold",children:"   "})]}),A.jsx("main",{className:"container mx-auto p-4 max-w-3xl mt-10",children:A.jsxs("form",{onSubmit:t,className:"bg-white p-10 rounded-3xl shadow-xl space-y-8 border border-slate-200",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[A.jsxs("div",{className:"col-span-2",children:[A.jsx("label",{className:"block text-sm font-bold mb-2",children:"  /  *"}),A.jsx("input",{required:!0,className:"w-full p-4 bg-slate-50 border-none rounded-2xl outline-none focus:ring-2 focus:ring-blue-500 font-bold",placeholder:":   -  ",value:i.name,onChange:o=>a({...i,name:o.target.value})})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-bold mb-2 text-slate-700",children:"  *"}),A.jsxs("select",{required:!0,className:"w-full p-4 bg-slate-50 border-none rounded-2xl outline-none focus:ring-2 focus:ring-blue-500 font-bold",value:i.location,onChange:o=>a({...i,location:o.target.value}),children:[A.jsx("option",{value:" ",children:" "}),A.jsx("option",{value:"",children:""}),A.jsx("option",{value:"",children:""}),A.jsx("option",{value:"",children:""})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-bold mb-2 text-slate-700",children:" "}),A.jsx("div",{className:"flex gap-2 p-3 bg-slate-50 rounded-2xl justify-center",children:[1,2,3,4,5].map(o=>A.jsx("button",{type:"button",onClick:()=>a({...i,rating:o}),children:A.jsx(sh,{size:24,fill:o<=i.rating?"#f59e0b":"none",className:o<=i.rating?"text-amber-500":"text-slate-300"})},o))})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-bold mb-2",children:"   *"}),A.jsx("textarea",{required:!0,rows:"4",className:"w-full p-4 bg-slate-50 border-none rounded-2xl outline-none focus:ring-2 focus:ring-blue-500",placeholder:"   ...",value:i.description,onChange:o=>a({...i,description:o.target.value})})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-bold mb-4 uppercase text-slate-400",children:"  "}),A.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:["","","",""].map(o=>A.jsxs("label",{className:`flex items-center justify-center gap-2 cursor-pointer py-3 rounded-2xl border-2 transition-all font-bold ${i.grades.includes(o)?"bg-blue-600 text-white border-blue-600 shadow-md":"bg-white text-slate-400 border-slate-100"}`,children:[A.jsx("input",{type:"checkbox",className:"hidden",checked:i.grades.includes(o),onChange:c=>{const d=c.target.checked?[...i.grades,o]:i.grades.filter(y=>y!==o);a({...i,grades:d})}}),"  ",o]},o))})]}),A.jsxs("div",{className:"flex gap-4 p-5 bg-slate-50 rounded-3xl border border-slate-100 items-center justify-between",children:[A.jsxs("label",{className:"flex items-center gap-3 cursor-pointer font-bold text-purple-700",children:[A.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded-md",checked:i.isZalash,onChange:o=>a({...i,isZalash:o.target.checked})}),' "']}),A.jsxs("div",{className:"flex gap-4",children:[A.jsx("button",{type:"button",onClick:()=>a({...i,recommends:!0}),className:`px-4 py-2 rounded-xl font-bold transition-all ${i.recommends?"bg-emerald-500 text-white":"bg-white text-slate-400"}`,children:""}),A.jsx("button",{type:"button",onClick:()=>a({...i,recommends:!1}),className:`px-4 py-2 rounded-xl font-bold transition-all ${i.recommends?"bg-white text-slate-400":"bg-rose-500 text-white"}`,children:" "})]})]}),A.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-5 rounded-3xl shadow-xl transition-all active:scale-95 text-lg",children:"   "})]})})]}),gx=({selectedProgram:r,setView:t,addComment:i,user:a,removeComment:o})=>A.jsxs("div",{className:"min-h-screen bg-slate-50",dir:"rtl",children:[A.jsxs("header",{className:"bg-white border-b p-4 sticky top-0 z-30 shadow-sm flex items-center gap-4",children:[A.jsx("button",{onClick:()=>t("dashboard"),className:"p-2 hover:bg-slate-100 rounded-full transition-colors",children:A.jsx(ih,{size:24})}),A.jsx("h1",{className:"text-xl font-bold",children:r.name})]}),A.jsx("main",{className:"container mx-auto p-4 max-w-5xl mt-10",children:A.jsxs("div",{className:"bg-white p-10 rounded-3xl shadow-xl space-y-8 border relative overflow-hidden",children:[A.jsx("div",{className:`absolute top-0 right-0 left-0 h-2 ${r.recommends?"bg-emerald-500":"bg-rose-500"}`}),A.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start gap-8",children:[A.jsxs("div",{className:"flex-1 space-y-6",children:[A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("span",{className:`px-4 py-1 rounded-full text-[10px] font-black uppercase ${r.recommends?"bg-emerald-100 text-emerald-700":"bg-rose-100 text-rose-700"}`,children:r.recommends?" ":" "}),r.isZalash&&A.jsx("span",{className:"bg-purple-600 text-white px-4 py-1 rounded-full text-[10px] font-black uppercase",children:' "'}),A.jsxs("span",{className:"text-xs font-bold text-slate-400 flex items-center gap-1",children:[A.jsx(zT,{size:14})," ",r.location||" "]})]}),A.jsx("h2",{className:"text-4xl font-black text-slate-800",children:r.name}),A.jsx("p",{className:"text-xl leading-relaxed text-slate-600",children:r.description})]}),A.jsxs("div",{className:"bg-slate-50 p-6 rounded-3xl w-full md:w-64 border border-slate-100 space-y-4",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx(sh,{className:"text-amber-500",fill:"currentColor",size:20}),A.jsxs("span",{className:"font-bold text-2xl",children:[r.rating,".0"]})]}),A.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[A.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase",children:"  "}),A.jsx("p",{className:"font-bold text-blue-900 leading-tight",children:r.schoolName}),A.jsxs("p",{className:"text-xs text-slate-500",children:[" ",r.schoolId]})]})]})]}),A.jsxs("div",{className:"border-t pt-10",children:[A.jsxs("h3",{className:"text-2xl font-black mb-8 flex items-center gap-3 text-slate-800",children:[A.jsx(jT,{className:"text-blue-600",size:24}),"   (",r.comments?.length||0,")"]}),A.jsx("div",{className:"space-y-4 mb-10",children:r.comments?.map((c,d)=>A.jsxs("div",{className:"bg-slate-50 p-5 rounded-2xl border-r-4 border-blue-600 shadow-sm flex justify-between items-start",children:[A.jsxs("div",{className:"flex-1 ml-4",children:[A.jsx("div",{className:"font-black text-blue-900 text-xs mb-1 uppercase",children:c.school}),A.jsx("p",{className:"text-slate-700",children:c.text})]}),a?.isAdmin&&A.jsx("button",{onClick:()=>o(r.id,c.id),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",title:" ",children:A.jsx(cg,{size:16})})]},d))}),A.jsxs("div",{className:"bg-blue-50 p-8 rounded-3xl border border-blue-100 shadow-inner",children:[A.jsx("label",{className:"block text-sm font-bold text-blue-900 mb-4 tracking-wide",children:"     :"}),A.jsxs("div",{className:"flex flex-col gap-4",children:[A.jsx("textarea",{id:"newComment",className:"w-full p-4 bg-white border border-blue-200 rounded-2xl outline-none focus:ring-2 focus:ring-blue-500 min-h-[100px] shadow-sm",placeholder:" ..."}),A.jsx("button",{onClick:()=>{const c=document.getElementById("newComment").value;c&&(i(r.id,c),document.getElementById("newComment").value="")},className:"self-end bg-blue-700 hover:bg-blue-800 text-white px-10 py-4 rounded-xl font-black shadow-md transition-all active:scale-95",children:" "})]})]})]})]})})]}),px=()=>A.jsxs("footer",{className:"w-full bg-slate-100 text-slate-400 py-12 mt-12 text-center border-t",children:[A.jsx("div",{className:"h-px w-24 bg-slate-300 mx-auto mb-6"}),A.jsx("p",{className:"text-xs font-medium uppercase tracking-widest mb-1",children:"   "}),A.jsx("p",{className:"font-black text-slate-600 text-xl tracking-tighter",children:"   "}),A.jsx("div",{className:"mt-4 flex justify-center gap-4 opacity-40 grayscale",children:A.jsx("img",{src:"120_labor.png",className:"h-10",onError:r=>r.target.style.display="none"})})]}),yx=()=>{if(!HT)return A.jsx("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-4 text-center",dir:"rtl",children:A.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl border border-red-200 max-w-md",children:[A.jsx("div",{className:"w-16 h-16 bg-red-100 text-red-600 rounded-full flex items-center justify-center mx-auto mb-4",children:A.jsx(HI,{size:32})}),A.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-2",children:"   Firebase"}),A.jsx("p",{className:"text-slate-600 mb-6",children:"   -config   firebaseConfig  -Cursor."})]})});const[r,t]=le.useState("login"),[i,a]=le.useState(null),[o,c]=le.useState([]),[d,y]=le.useState([]),[_,p]=le.useState([]),[b,S]=le.useState(null),[V,Q]=le.useState(!0),[$,nt]=le.useState(""),[J,dt]=le.useState({semel:"",password:""}),[vt,gt]=le.useState(""),[qt,Jt]=le.useState(null),[xt,N]=le.useState({name:"",contactPerson:"",description:"",rating:5,recommends:!0,notes:"",grades:[],isZalash:!1,location:" "}),[w,I]=le.useState({search:"",grade:"all",zalashOnly:!1,location:"all",minRating:0,minComments:0});le.useEffect(()=>{(async()=>{try{await pC(GT)}catch(ct){console.error(ct)}})()},[]),le.useEffect(()=>{if(!hn)return;const rt=Fd(wc(hn,"artifacts",Jn,"public","data","programs"),x=>{c(x.docs.map(H=>({id:H.id,...H.data()}))),Q(!1)}),ct=Fd(wc(hn,"artifacts",Jn,"public","data","schools"),x=>{y(x.docs.map(H=>({id:H.id,...H.data()})))});return()=>{rt(),ct()}},[]),le.useEffect(()=>{if(!hn||!i)return;const rt=wc(hn,"artifacts",Jn,"users",i.id,"favorites"),ct=Fd(rt,x=>{p(x.docs.map(H=>H.id))});return()=>ct()},[i]);const M=rt=>{if(rt.preventDefault(),nt(""),J.semel==="admin"&&J.password==="1234"){a({id:"admin",name:" ",isAdmin:!0}),t("dashboard");return}const ct=d.find(x=>String(x.semel)===String(J.semel)&&String(x.password)===String(J.password));ct?(a({id:ct.semel,name:ct.name,isAdmin:!1}),t("dashboard")):nt("  ")},D=async(rt,ct)=>{if(rt.stopPropagation(),!i)return;const x=zs(hn,"artifacts",Jn,"users",i.id,"favorites",ct);_.includes(ct)?await Gd(x):await Zv(x,{savedAt:Date.now()})},U=async()=>{try{const rt=vt.split(`
`).filter(ct=>ct.trim());Q(!0);for(const ct of rt){const[x,H,W]=ct.split(/\t|,/);x&&H&&W&&await Zv(zs(hn,"artifacts",Jn,"public","data","schools",H.trim()),{name:x.trim(),semel:H.trim(),password:W.trim()})}alert("  "),gt("")}catch{alert(" .    ,  .")}Q(!1)},R=async rt=>{window.confirm("    ?")&&await Gd(zs(hn,"artifacts",Jn,"public","data","schools",rt))},Wt=async rt=>{window.confirm("     ?")&&await Gd(zs(hn,"artifacts",Jn,"public","data","programs",rt))},he=async(rt,ct)=>{if(window.confirm("    ?"))try{const x=zs(hn,"artifacts",Jn,"public","data","programs",rt),W=o.find(it=>it.id===rt).comments.filter(it=>it.id!==ct);await ym(x,{comments:W}),b&&S({...b,comments:W})}catch(x){console.error(x)}},G=async rt=>{rt.preventDefault();try{await OR(wc(hn,"artifacts",Jn,"public","data","programs"),{...xt,schoolId:i.id,schoolName:i.name,comments:[],createdAt:new Date().toLocaleDateString("he-IL"),timestamp:Date.now()}),t("dashboard"),N({name:"",contactPerson:"",description:"",rating:5,recommends:!0,notes:"",grades:[],isZalash:!1,location:" "})}catch(ct){console.error(ct)}},et=async(rt,ct)=>{await ym(zs(hn,"artifacts",Jn,"public","data","programs",rt),{comments:VR({id:Date.now(),school:i.name,text:ct})});const x=o.find(H=>H.id===rt);S({...x,comments:[...x.comments||[],{id:Date.now(),school:i.name,text:ct}]})},ut=le.useMemo(()=>o.filter(rt=>{const ct=rt.name?.toLowerCase().includes(w.search.toLowerCase())||rt.description?.toLowerCase().includes(w.search.toLowerCase()),x=w.grade==="all"||rt.grades?.includes(w.grade),H=!w.zalashOnly||rt.isZalash,W=w.location==="all"||rt.location===w.location,it=rt.rating>=w.minRating,yt=(rt.comments?.length||0)>=w.minComments;return ct&&x&&H&&W&&it&&yt}),[o,w]);return A.jsxs("div",{className:"font-sans antialiased text-slate-900 selection:bg-blue-100 overflow-x-hidden",children:[r==="admin-settings"&&A.jsx(hx,{setView:t,schools:d,importText:vt,setImportText:gt,handleImportExcel:U,handleDeleteSchool:R,editingSchool:qt,setEditingSchool:Jt,db:hn,appId:Jn}),r==="login"&&A.jsx(cx,{loginData:J,setLoginData:dt,handleLogin:M,error:$}),r==="dashboard"&&A.jsx(dx,{setView:t,filters:w,setFilters:I,filteredPrograms:ut,toggleFavorite:D,savedProgramIds:_,setSelectedProgram:S,user:i,handleDeleteProgram:Wt}),r==="add"&&A.jsx(mx,{setView:t,handleAddProgram:G,formData:xt,setFormData:N}),r==="details"&&A.jsx(gx,{selectedProgram:b,setView:t,addComment:et,removeComment:he,user:i}),r==="my-workspace"&&A.jsx(fx,{setView:t,user:i,programs:o,savedProgramIds:_,toggleFavorite:D,setSelectedProgram:S}),r!=="login"&&r!=="admin-settings"&&A.jsx(px,{})]})};Mb.createRoot(document.getElementById("root")).render(A.jsx(wb.StrictMode,{children:A.jsx(yx,{})}));
