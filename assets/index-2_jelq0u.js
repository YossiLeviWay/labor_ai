(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function g0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Cd={exports:{}},go={};var N_;function Eb(){if(N_)return go;N_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:c}}return go.Fragment=t,go.jsx=i,go.jsxs=i,go}var D_;function Tb(){return D_||(D_=1,Cd.exports=Eb()),Cd.exports}var A=Tb(),xd={exports:{}},Tt={};var O_;function bb(){if(O_)return Tt;O_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),M=Symbol.iterator;function F(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var tt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nt=Object.assign,J={};function ft(O,K,st){this.props=O,this.context=K,this.refs=J,this.updater=st||tt}ft.prototype.isReactComponent={},ft.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},ft.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Et(){}Et.prototype=ft.prototype;function pt(O,K,st){this.props=O,this.context=K,this.refs=J,this.updater=st||tt}var xt=pt.prototype=new Et;xt.constructor=pt,nt(xt,ft.prototype),xt.isPureReactComponent=!0;var te=Array.isArray;function Vt(){}var I={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function x(O,K,st){var Z=st.ref;return{$$typeof:r,type:O,key:K,ref:Z!==void 0?Z:null,props:st}}function V(O,K){return x(O.type,K,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function k(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(st){return K[st]})}var R=/\/+/g;function ne(O,K){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):K.toString(36)}function de(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Vt,Vt):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function H(O,K,st,Z,W){var rt=typeof O;(rt==="undefined"||rt==="boolean")&&(O=null);var dt=!1;if(O===null)dt=!0;else switch(rt){case"bigint":case"string":case"number":dt=!0;break;case"object":switch(O.$$typeof){case r:case t:dt=!0;break;case b:return dt=O._init,H(dt(O._payload),K,st,Z,W)}}if(dt)return W=W(O),dt=Z===""?"."+ne(O,0):Z,te(W)?(st="",dt!=null&&(st=dt.replace(R,"$&/")+"/"),H(W,K,st,"",function(zn){return zn})):W!=null&&(N(W)&&(W=V(W,st+(W.key==null||O&&O.key===W.key?"":(""+W.key).replace(R,"$&/")+"/")+dt)),K.push(W)),1;dt=0;var Bt=Z===""?".":Z+":";if(te(O))for(var Ft=0;Ft<O.length;Ft++)Z=O[Ft],rt=Bt+ne(Z,Ft),dt+=H(Z,K,st,rt,W);else if(Ft=F(O),typeof Ft=="function")for(O=Ft.call(O),Ft=0;!(Z=O.next()).done;)Z=Z.value,rt=Bt+ne(Z,Ft++),dt+=H(Z,K,st,rt,W);else if(rt==="object"){if(typeof O.then=="function")return H(de(O),K,st,Z,W);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return dt}function it(O,K,st){if(O==null)return O;var Z=[],W=0;return H(O,Z,"","",function(rt){return K.call(st,rt,W++)}),Z}function ct(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(st){(O._status===0||O._status===-1)&&(O._status=1,O._result=st)},function(st){(O._status===0||O._status===-1)&&(O._status=2,O._result=st)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var kt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Pt={map:it,forEach:function(O,K,st){it(O,function(){K.apply(this,arguments)},st)},count:function(O){var K=0;return it(O,function(){K++}),K},toArray:function(O){return it(O,function(K){return K})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Tt.Activity=S,Tt.Children=Pt,Tt.Component=ft,Tt.Fragment=i,Tt.Profiler=o,Tt.PureComponent=pt,Tt.StrictMode=a,Tt.Suspense=_,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},Tt.cache=function(O){return function(){return O.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(O,K,st){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var Z=nt({},O.props),W=O.key;if(K!=null)for(rt in K.key!==void 0&&(W=""+K.key),K)!w.call(K,rt)||rt==="key"||rt==="__self"||rt==="__source"||rt==="ref"&&K.ref===void 0||(Z[rt]=K[rt]);var rt=arguments.length-2;if(rt===1)Z.children=st;else if(1<rt){for(var dt=Array(rt),Bt=0;Bt<rt;Bt++)dt[Bt]=arguments[Bt+2];Z.children=dt}return x(O.type,W,Z)},Tt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Tt.createElement=function(O,K,st){var Z,W={},rt=null;if(K!=null)for(Z in K.key!==void 0&&(rt=""+K.key),K)w.call(K,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(W[Z]=K[Z]);var dt=arguments.length-2;if(dt===1)W.children=st;else if(1<dt){for(var Bt=Array(dt),Ft=0;Ft<dt;Ft++)Bt[Ft]=arguments[Ft+2];W.children=Bt}if(O&&O.defaultProps)for(Z in dt=O.defaultProps,dt)W[Z]===void 0&&(W[Z]=dt[Z]);return x(O,rt,W)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(O){return{$$typeof:p,render:O}},Tt.isValidElement=N,Tt.lazy=function(O){return{$$typeof:b,_payload:{_status:-1,_result:O},_init:ct}},Tt.memo=function(O,K){return{$$typeof:y,type:O,compare:K===void 0?null:K}},Tt.startTransition=function(O){var K=I.T,st={};I.T=st;try{var Z=O(),W=I.S;W!==null&&W(st,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(Vt,kt)}catch(rt){kt(rt)}finally{K!==null&&st.types!==null&&(K.types=st.types),I.T=K}},Tt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Tt.use=function(O){return I.H.use(O)},Tt.useActionState=function(O,K,st){return I.H.useActionState(O,K,st)},Tt.useCallback=function(O,K){return I.H.useCallback(O,K)},Tt.useContext=function(O){return I.H.useContext(O)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(O,K){return I.H.useDeferredValue(O,K)},Tt.useEffect=function(O,K){return I.H.useEffect(O,K)},Tt.useEffectEvent=function(O){return I.H.useEffectEvent(O)},Tt.useId=function(){return I.H.useId()},Tt.useImperativeHandle=function(O,K,st){return I.H.useImperativeHandle(O,K,st)},Tt.useInsertionEffect=function(O,K){return I.H.useInsertionEffect(O,K)},Tt.useLayoutEffect=function(O,K){return I.H.useLayoutEffect(O,K)},Tt.useMemo=function(O,K){return I.H.useMemo(O,K)},Tt.useOptimistic=function(O,K){return I.H.useOptimistic(O,K)},Tt.useReducer=function(O,K,st){return I.H.useReducer(O,K,st)},Tt.useRef=function(O){return I.H.useRef(O)},Tt.useState=function(O){return I.H.useState(O)},Tt.useSyncExternalStore=function(O,K,st){return I.H.useSyncExternalStore(O,K,st)},Tt.useTransition=function(){return I.H.useTransition()},Tt.version="19.2.3",Tt}var M_;function Em(){return M_||(M_=1,xd.exports=bb()),xd.exports}var Xt=Em();const Ab=g0(Xt);var Id={exports:{}},po={},Nd={exports:{}},Dd={};var V_;function Sb(){return V_||(V_=1,(function(r){function t(H,it){var ct=H.length;H.push(it);t:for(;0<ct;){var kt=ct-1>>>1,Pt=H[kt];if(0<o(Pt,it))H[kt]=it,H[ct]=Pt,ct=kt;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var it=H[0],ct=H.pop();if(ct!==it){H[0]=ct;t:for(var kt=0,Pt=H.length,O=Pt>>>1;kt<O;){var K=2*(kt+1)-1,st=H[K],Z=K+1,W=H[Z];if(0>o(st,ct))Z<Pt&&0>o(W,st)?(H[kt]=W,H[Z]=ct,kt=Z):(H[kt]=st,H[K]=ct,kt=K);else if(Z<Pt&&0>o(W,ct))H[kt]=W,H[Z]=ct,kt=Z;else break t}}return it}function o(H,it){var ct=H.sortIndex-it.sortIndex;return ct!==0?ct:H.id-it.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var _=[],y=[],b=1,S=null,M=3,F=!1,tt=!1,nt=!1,J=!1,ft=typeof setTimeout=="function"?setTimeout:null,Et=typeof clearTimeout=="function"?clearTimeout:null,pt=typeof setImmediate<"u"?setImmediate:null;function xt(H){for(var it=i(y);it!==null;){if(it.callback===null)a(y);else if(it.startTime<=H)a(y),it.sortIndex=it.expirationTime,t(_,it);else break;it=i(y)}}function te(H){if(nt=!1,xt(H),!tt)if(i(_)!==null)tt=!0,Vt||(Vt=!0,k());else{var it=i(y);it!==null&&de(te,it.startTime-H)}}var Vt=!1,I=-1,w=5,x=-1;function V(){return J?!0:!(r.unstable_now()-x<w)}function N(){if(J=!1,Vt){var H=r.unstable_now();x=H;var it=!0;try{t:{tt=!1,nt&&(nt=!1,Et(I),I=-1),F=!0;var ct=M;try{e:{for(xt(H),S=i(_);S!==null&&!(S.expirationTime>H&&V());){var kt=S.callback;if(typeof kt=="function"){S.callback=null,M=S.priorityLevel;var Pt=kt(S.expirationTime<=H);if(H=r.unstable_now(),typeof Pt=="function"){S.callback=Pt,xt(H),it=!0;break e}S===i(_)&&a(_),xt(H)}else a(_);S=i(_)}if(S!==null)it=!0;else{var O=i(y);O!==null&&de(te,O.startTime-H),it=!1}}break t}finally{S=null,M=ct,F=!1}it=void 0}}finally{it?k():Vt=!1}}}var k;if(typeof pt=="function")k=function(){pt(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,ne=R.port2;R.port1.onmessage=N,k=function(){ne.postMessage(null)}}else k=function(){ft(N,0)};function de(H,it){I=ft(function(){H(r.unstable_now())},it)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(H){switch(M){case 1:case 2:case 3:var it=3;break;default:it=M}var ct=M;M=it;try{return H()}finally{M=ct}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(H,it){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ct=M;M=H;try{return it()}finally{M=ct}},r.unstable_scheduleCallback=function(H,it,ct){var kt=r.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?kt+ct:kt):ct=kt,H){case 1:var Pt=-1;break;case 2:Pt=250;break;case 5:Pt=1073741823;break;case 4:Pt=1e4;break;default:Pt=5e3}return Pt=ct+Pt,H={id:b++,callback:it,priorityLevel:H,startTime:ct,expirationTime:Pt,sortIndex:-1},ct>kt?(H.sortIndex=ct,t(y,H),i(_)===null&&H===i(y)&&(nt?(Et(I),I=-1):nt=!0,de(te,ct-kt))):(H.sortIndex=Pt,t(_,H),tt||F||(tt=!0,Vt||(Vt=!0,k()))),H},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(H){var it=M;return function(){var ct=M;M=it;try{return H.apply(this,arguments)}finally{M=ct}}}})(Dd)),Dd}var k_;function wb(){return k_||(k_=1,Nd.exports=Sb()),Nd.exports}var Od={exports:{}},Xe={};var U_;function Rb(){if(U_)return Xe;U_=1;var r=Em();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(_,y,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:_,containerInfo:y,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Xe.createPortal=function(_,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,b)},Xe.flushSync=function(_){var y=d.T,b=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=b,a.d.f()}},Xe.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},Xe.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},Xe.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var b=y.as,S=p(b,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,F=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:M,fetchPriority:F}):b==="script"&&a.d.X(_,{crossOrigin:S,integrity:M,fetchPriority:F,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Xe.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=p(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},Xe.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,S=p(b,y.crossOrigin);a.d.L(_,b,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Xe.preloadModule=function(_,y){if(typeof _=="string")if(y){var b=p(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},Xe.requestFormReset=function(_){a.d.r(_)},Xe.unstable_batchedUpdates=function(_,y){return _(y)},Xe.useFormState=function(_,y,b){return d.H.useFormState(_,y,b)},Xe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xe.version="19.2.3",Xe}var L_;function Cb(){if(L_)return Od.exports;L_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Od.exports=Rb(),Od.exports}var P_;function xb(){if(P_)return po;P_=1;var r=wb(),t=Em(),i=Cb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,l=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return _(h),e;if(f===l)return _(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,l=f;break}if(E===l){g=!0,l=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,l=h;break}if(E===l){g=!0,l=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,M=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),tt=Symbol.for("react.portal"),nt=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),ft=Symbol.for("react.profiler"),Et=Symbol.for("react.consumer"),pt=Symbol.for("react.context"),xt=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),Vt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function ne(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nt:return"Fragment";case ft:return"Profiler";case J:return"StrictMode";case te:return"Suspense";case Vt:return"SuspenseList";case x:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case tt:return"Portal";case pt:return e.displayName||"Context";case Et:return(e._context.displayName||"Context")+".Consumer";case xt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:ne(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return ne(e(n))}catch{}}return null}var de=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},kt=[],Pt=-1;function O(e){return{current:e}}function K(e){0>Pt||(e.current=kt[Pt],kt[Pt]=null,Pt--)}function st(e,n){Pt++,kt[Pt]=e.current,e.current=n}var Z=O(null),W=O(null),rt=O(null),dt=O(null);function Bt(e,n){switch(st(rt,n),st(W,e),st(Z,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Wy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Wy(n),e=t_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(Z),st(Z,e)}function Ft(){K(Z),K(W),K(rt)}function zn(e){e.memoizedState!==null&&st(dt,e);var n=Z.current,s=t_(n,e.type);n!==s&&(st(W,e),st(Z,s))}function Xr(e){W.current===e&&(K(Z),K(W)),dt.current===e&&(K(dt),co._currentValue=ct)}var Zr,$r;function ei(e){if(Zr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Zr=n&&n[1]||"",$r=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zr+e+$r}var cl=!1;function or(e,n){if(!e||cl)return"";cl=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(q){var z=q}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(q){z=q}e.call(Y.prototype)}}else{try{throw Error()}catch(q){z=q}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var C=g.split(`
`),j=E.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===j.length)for(l=C.length-1,h=j.length-1;1<=l&&0<=h&&C[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==j[h]){var G=`
`+C[l].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=l&&0<=h);break}}}finally{cl=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?ei(s):""}function hl(e,n){switch(e.tag){case 26:case 27:case 5:return ei(e.type);case 16:return ei("Lazy");case 13:return e.child!==n&&n!==null?ei("Suspense Fallback"):ei("Suspense");case 19:return ei("SuspenseList");case 0:case 15:return or(e.type,!1);case 11:return or(e.type.render,!1);case 1:return or(e.type,!0);case 31:return ei("Activity");default:return""}}function fl(e){try{var n="",s=null;do n+=hl(e,s),s=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ve=Object.prototype.hasOwnProperty,De=r.unstable_scheduleCallback,ls=r.unstable_cancelCallback,xh=r.unstable_shouldYield,Qo=r.unstable_requestPaint,tn=r.unstable_now,ur=r.unstable_getCurrentPriorityLevel,dl=r.unstable_ImmediatePriority,ml=r.unstable_UserBlockingPriority,os=r.unstable_NormalPriority,Ih=r.unstable_LowPriority,Ko=r.unstable_IdlePriority,Yo=r.log,Xo=r.unstable_setDisableYieldValue,Bn=null,je=null;function wn(e){if(typeof Yo=="function"&&Xo(e),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(Bn,e)}catch{}}var me=Math.clz32?Math.clz32:$o,Zo=Math.log,Jr=Math.LN2;function $o(e){return e>>>=0,e===0?32:31-(Zo(e)/Jr|0)|0}var ni=256,cr=262144,Ee=4194304;function ii(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function si(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?h=ii(l):(g&=E,g!==0?h=ii(g):s||(s=E&~e,s!==0&&(h=ii(s))))):(E=l&~f,E!==0?h=ii(E):g!==0?h=ii(g):s||(s=l&~e,s!==0&&(h=ii(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function qn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Nh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jo(){var e=Ee;return Ee<<=1,(Ee&62914560)===0&&(Ee=4194304),e}function ri(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function hr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Dh(e,n,s,l,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,j=e.hiddenUpdates;for(s=g&~s;0<s;){var G=31-me(s),Y=1<<G;E[G]=0,C[G]=-1;var z=j[G];if(z!==null)for(j[G]=null,G=0;G<z.length;G++){var q=z[G];q!==null&&(q.lane&=-536870913)}s&=~Y}l!==0&&fr(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function fr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-me(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function gl(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-me(s),h=1<<l;h&n|e[l]&n&&(e[l]|=n),s&=~h}}function pl(e,n){var s=n&-n;return s=(s&42)!==0?1:dr(s),(s&(e.suspendedLanes|n))!==0?0:s}function dr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Mi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Wo(){var e=it.p;return e!==0?e:(e=window.event,e===void 0?32:A_(e.type))}function Hn(e,n){var s=it.p;try{return it.p=e,n()}finally{it.p=s}}var Gn=Math.random().toString(36).slice(2),Te="__reactFiber$"+Gn,ke="__reactProps$"+Gn,ai="__reactContainer$"+Gn,Wr="__reactEvents$"+Gn,Oh="__reactListeners$"+Gn,tu="__reactHandles$"+Gn,eu="__reactResources$"+Gn,li="__reactMarker$"+Gn;function ta(e){delete e[Te],delete e[ke],delete e[Wr],delete e[Oh],delete e[tu]}function oi(e){var n=e[Te];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ai]||s[Te]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=l_(e);e!==null;){if(s=e[Te])return s;e=l_(e)}return n}e=s,s=e.parentNode}return null}function Rn(e){if(e=e[Te]||e[ai]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function gn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function ui(e){var n=e[eu];return n||(n=e[eu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function be(e){e[li]=!0}var yl=new Set,_l={};function ci(e,n){hi(e,n),hi(e+"Capture",n)}function hi(e,n){for(_l[e]=n,e=0;e<n.length;e++)yl.add(n[e])}var vl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),El={},Tl={};function nu(e){return ve.call(Tl,e)?!0:ve.call(El,e)?!1:vl.test(e)?Tl[e]=!0:(El[e]=!0,!1)}function ea(e,n,s){if(nu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function pn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Ae(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function us(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function bl(e,n,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Qt(e){if(!e._valueTracker){var n=us(e)?"checked":"value";e._valueTracker=bl(e,n,""+e[n])}}function mr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=us(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function fi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var gr=/[\n"\\]/g;function rn(e){return e.replace(gr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function na(e,n,s,l,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ue(n)):e.value!==""+Ue(n)&&(e.value=""+Ue(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Al(e,g,Ue(n)):s!=null?Al(e,g,Ue(s)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ue(E):e.removeAttribute("name")}function iu(e,n,s,l,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qt(e);return}s=s!=null?""+Ue(s):"",n=n!=null?""+Ue(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Qt(e)}function Al(e,n,s){n==="number"&&fi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function cs(e,n,s,l){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&l&&(e[s].defaultSelected=!0)}else{for(s=""+Ue(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function su(e,n,s){if(n!=null&&(n=""+Ue(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Ue(s):""}function hs(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(de(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Ue(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),Qt(e)}function an(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var ru=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sl(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||ru.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function wl(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&Sl(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Sl(e,f,n[f])}function ia(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var au=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function sa(e){return fs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Fn(){}var Rl=null;function Cn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ds=null,di=null;function pr(e){var n=Rn(e);if(n&&(e=n.stateNode)){var s=e[ke]||null;t:switch(e=n.stateNode,n.type){case"input":if(na(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+rn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var h=l[ke]||null;if(!h)throw Error(a(90));na(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&mr(l)}break t;case"textarea":su(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&cs(e,!!s.multiple,n,!1)}}}var ra=!1;function ms(e,n,s){if(ra)return e(n,s);ra=!0;try{var l=e(n);return l}finally{if(ra=!1,(ds!==null||di!==null)&&(Wu(),ds&&(n=ds,e=di,di=ds=null,pr(n),e)))for(n=0;n<e.length;n++)pr(e[n])}}function Qn(e,n){var s=e.stateNode;if(s===null)return null;var l=s[ke]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yr=!1;if(xn)try{var Zt={};Object.defineProperty(Zt,"passive",{get:function(){yr=!0}}),window.addEventListener("test",Zt,Zt),window.removeEventListener("test",Zt,Zt)}catch{yr=!1}var mi=null,Cl=null,_r=null;function xl(){if(_r)return _r;var e,n=Cl,s=n.length,l,h="value"in mi?mi.value:mi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(l=1;l<=g&&n[s-l]===h[f-l];l++);return _r=h.slice(e,1<l?1-l:void 0)}function vr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Vi(){return!0}function Kn(){return!1}function ze(e){function n(s,l,h,f,g){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Vi:Kn,this.isPropagationStopped=Kn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Vi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Vi)},persist:function(){},isPersistent:Vi}),n}var ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gi=ze(ki),gs=S({},ki,{view:0,detail:0}),Il=ze(gs),ps,aa,pi,la=S({},gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ys,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==pi&&(pi&&e.type==="mousemove"?(ps=e.screenX-pi.screenX,aa=e.screenY-pi.screenY):aa=ps=0,pi=e),ps)},movementY:function(e){return"movementY"in e?e.movementY:aa}}),Nl=ze(la),Er=S({},la,{dataTransfer:0}),lu=ze(Er),ou=S({},gs,{relatedTarget:0}),Tr=ze(ou),Dl=S({},ki,{animationName:0,elapsedTime:0,pseudoElement:0}),uu=ze(Dl),oa=S({},ki,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cu=ze(oa),hu=S({},ki,{data:0}),yi=ze(hu),fu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=mu[e])?!!n[e]:!1}function ys(){return gu}var en=S({},gs,{key:function(e){if(e.key){var n=fu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=vr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?du[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ys,charCode:function(e){return e.type==="keypress"?vr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pu=ze(en),yu=S({},la,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ui=ze(yu),u=S({},gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ys}),m=ze(u),v=S({},ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ze(v),L=S({},la,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=ze(L),et=S({},ki,{newState:0,oldState:0}),At=ze(et),ge=[9,13,27,32],qt=xn&&"CompositionEvent"in window,le=null;xn&&"documentMode"in document&&(le=document.documentMode);var In=xn&&"TextEvent"in window&&!le,_i=xn&&(!qt||le&&8<le&&11>=le),Yn=" ",Xn=!1;function br(e,n){switch(e){case"keyup":return ge.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ua(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ca=!1;function GT(e,n){switch(e){case"compositionend":return ua(n);case"keypress":return n.which!==32?null:(Xn=!0,Yn);case"textInput":return e=n.data,e===Yn&&Xn?null:e;default:return null}}function FT(e,n){if(ca)return e==="compositionend"||!qt&&br(e,n)?(e=xl(),_r=Cl=mi=null,ca=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _i&&n.locale!=="ko"?null:n.data;default:return null}}var QT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!QT[e.type]:n==="textarea"}function hg(e,n,s,l){ds?di?di.push(l):di=[l]:ds=l,n=ac(n,"onChange"),0<n.length&&(s=new gi("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var Ol=null,Ml=null;function KT(e){Ky(e,0)}function _u(e){var n=gn(e);if(mr(n))return e}function fg(e,n){if(e==="change")return n}var dg=!1;if(xn){var Mh;if(xn){var Vh="oninput"in document;if(!Vh){var mg=document.createElement("div");mg.setAttribute("oninput","return;"),Vh=typeof mg.oninput=="function"}Mh=Vh}else Mh=!1;dg=Mh&&(!document.documentMode||9<document.documentMode)}function gg(){Ol&&(Ol.detachEvent("onpropertychange",pg),Ml=Ol=null)}function pg(e){if(e.propertyName==="value"&&_u(Ml)){var n=[];hg(n,Ml,e,Cn(e)),ms(KT,n)}}function YT(e,n,s){e==="focusin"?(gg(),Ol=n,Ml=s,Ol.attachEvent("onpropertychange",pg)):e==="focusout"&&gg()}function XT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _u(Ml)}function ZT(e,n){if(e==="click")return _u(n)}function $T(e,n){if(e==="input"||e==="change")return _u(n)}function JT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var yn=typeof Object.is=="function"?Object.is:JT;function Vl(e,n){if(yn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!ve.call(n,h)||!yn(e[h],n[h]))return!1}return!0}function yg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function _g(e,n){var s=yg(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=yg(s)}}function vg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?vg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Eg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=fi(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=fi(e.document)}return n}function kh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var WT=xn&&"documentMode"in document&&11>=document.documentMode,ha=null,Uh=null,kl=null,Lh=!1;function Tg(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Lh||ha==null||ha!==fi(l)||(l=ha,"selectionStart"in l&&kh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),kl&&Vl(kl,l)||(kl=l,l=ac(Uh,"onSelect"),0<l.length&&(n=new gi("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=ha)))}function Ar(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var fa={animationend:Ar("Animation","AnimationEnd"),animationiteration:Ar("Animation","AnimationIteration"),animationstart:Ar("Animation","AnimationStart"),transitionrun:Ar("Transition","TransitionRun"),transitionstart:Ar("Transition","TransitionStart"),transitioncancel:Ar("Transition","TransitionCancel"),transitionend:Ar("Transition","TransitionEnd")},Ph={},bg={};xn&&(bg=document.createElement("div").style,"AnimationEvent"in window||(delete fa.animationend.animation,delete fa.animationiteration.animation,delete fa.animationstart.animation),"TransitionEvent"in window||delete fa.transitionend.transition);function Sr(e){if(Ph[e])return Ph[e];if(!fa[e])return e;var n=fa[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in bg)return Ph[e]=n[s];return e}var Ag=Sr("animationend"),Sg=Sr("animationiteration"),wg=Sr("animationstart"),t1=Sr("transitionrun"),e1=Sr("transitionstart"),n1=Sr("transitioncancel"),Rg=Sr("transitionend"),Cg=new Map,jh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jh.push("scrollEnd");function Zn(e,n){Cg.set(e,n),ci(n,[e])}var vu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Nn=[],da=0,zh=0;function Eu(){for(var e=da,n=zh=da=0;n<e;){var s=Nn[n];Nn[n++]=null;var l=Nn[n];Nn[n++]=null;var h=Nn[n];Nn[n++]=null;var f=Nn[n];if(Nn[n++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}f!==0&&xg(s,h,f)}}function Tu(e,n,s,l){Nn[da++]=e,Nn[da++]=n,Nn[da++]=s,Nn[da++]=l,zh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Bh(e,n,s,l){return Tu(e,n,s,l),bu(e)}function wr(e,n){return Tu(e,null,null,n),bu(e)}function xg(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-me(s),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=s|536870912),f):null}function bu(e){if(50<io)throw io=0,$f=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ma={};function i1(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(e,n,s,l){return new i1(e,n,s,l)}function qh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Li(e,n){var s=e.alternate;return s===null?(s=_n(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Ig(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Au(e,n,s,l,h,f){var g=0;if(l=e,typeof e=="function")qh(e)&&(g=1);else if(typeof e=="string")g=ob(e,s,Z.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case x:return e=_n(31,s,n,h),e.elementType=x,e.lanes=f,e;case nt:return Rr(s.children,h,f,n);case J:g=8,h|=24;break;case ft:return e=_n(12,s,n,h|2),e.elementType=ft,e.lanes=f,e;case te:return e=_n(13,s,n,h),e.elementType=te,e.lanes=f,e;case Vt:return e=_n(19,s,n,h),e.elementType=Vt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case pt:g=10;break t;case Et:g=9;break t;case xt:g=11;break t;case I:g=14;break t;case w:g=16,l=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=_n(g,s,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function Rr(e,n,s,l){return e=_n(7,e,l,n),e.lanes=s,e}function Hh(e,n,s){return e=_n(6,e,null,n),e.lanes=s,e}function Ng(e){var n=_n(18,null,null,0);return n.stateNode=e,n}function Gh(e,n,s){return n=_n(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Dg=new WeakMap;function Dn(e,n){if(typeof e=="object"&&e!==null){var s=Dg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:fl(n)},Dg.set(e,n),n)}return{value:e,source:n,stack:fl(n)}}var ga=[],pa=0,Su=null,Ul=0,On=[],Mn=0,_s=null,vi=1,Ei="";function Pi(e,n){ga[pa++]=Ul,ga[pa++]=Su,Su=e,Ul=n}function Og(e,n,s){On[Mn++]=vi,On[Mn++]=Ei,On[Mn++]=_s,_s=e;var l=vi;e=Ei;var h=32-me(l)-1;l&=~(1<<h),s+=1;var f=32-me(n)+h;if(30<f){var g=h-h%5;f=(l&(1<<g)-1).toString(32),l>>=g,h-=g,vi=1<<32-me(n)+h|s<<h|l,Ei=f+e}else vi=1<<f|s<<h|l,Ei=e}function Fh(e){e.return!==null&&(Pi(e,1),Og(e,1,0))}function Qh(e){for(;e===Su;)Su=ga[--pa],ga[pa]=null,Ul=ga[--pa],ga[pa]=null;for(;e===_s;)_s=On[--Mn],On[Mn]=null,Ei=On[--Mn],On[Mn]=null,vi=On[--Mn],On[Mn]=null}function Mg(e,n){On[Mn++]=vi,On[Mn++]=Ei,On[Mn++]=_s,vi=n.id,Ei=n.overflow,_s=e}var Be=null,ie=null,Ut=!1,vs=null,Vn=!1,Kh=Error(a(519));function Es(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ll(Dn(n,e)),Kh}function Vg(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[Te]=e,n[ke]=l,s){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(s=0;s<ro.length;s++)Ct(ro[s],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),iu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),hs(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||$y(n.textContent,s)?(l.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),l.onScroll!=null&&Ct("scroll",n),l.onScrollEnd!=null&&Ct("scrollend",n),l.onClick!=null&&(n.onclick=Fn),n=!0):n=!1,n||Es(e,!0)}function kg(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:Be=Be.return}}function ya(e){if(e!==Be)return!1;if(!Ut)return kg(e),Ut=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||fd(e.type,e.memoizedProps)),s=!s),s&&ie&&Es(e),kg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ie=a_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ie=a_(e)}else n===27?(n=ie,Vs(e.type)?(e=yd,yd=null,ie=e):ie=n):ie=Be?Un(e.stateNode.nextSibling):null;return!0}function Cr(){ie=Be=null,Ut=!1}function Yh(){var e=vs;return e!==null&&(cn===null?cn=e:cn.push.apply(cn,e),vs=null),e}function Ll(e){vs===null?vs=[e]:vs.push(e)}var Xh=O(null),xr=null,ji=null;function Ts(e,n,s){st(Xh,n._currentValue),n._currentValue=s}function zi(e){e._currentValue=Xh.current,K(Xh)}function Zh(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function $h(e,n,s,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Zh(f.return,s,e),l||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Zh(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function _a(e,n,s,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;yn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===dt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(co):e=[co])}h=h.return}e!==null&&$h(n,e,s,l),n.flags|=262144}function wu(e){for(e=e.firstContext;e!==null;){if(!yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ir(e){xr=e,ji=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return Ug(xr,e)}function Ru(e,n){return xr===null&&Ir(e),Ug(e,n)}function Ug(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},ji===null){if(e===null)throw Error(a(308));ji=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ji=ji.next=n;return s}var s1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},r1=r.unstable_scheduleCallback,a1=r.unstable_NormalPriority,Se={$$typeof:pt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jh(){return{controller:new s1,data:new Map,refCount:0}}function Pl(e){e.refCount--,e.refCount===0&&r1(a1,function(){e.controller.abort()})}var jl=null,Wh=0,va=0,Ea=null;function l1(e,n){if(jl===null){var s=jl=[];Wh=0,va=id(),Ea={status:"pending",value:void 0,then:function(l){s.push(l)}}}return Wh++,n.then(Lg,Lg),n}function Lg(){if(--Wh===0&&jl!==null){Ea!==null&&(Ea.status="fulfilled");var e=jl;jl=null,va=0,Ea=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function o1(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var Pg=H.S;H.S=function(e,n){Ty=tn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&l1(e,n),Pg!==null&&Pg(e,n)};var Nr=O(null);function tf(){var e=Nr.current;return e!==null?e:ee.pooledCache}function Cu(e,n){n===null?st(Nr,Nr.current):st(Nr,n.pool)}function jg(){var e=tf();return e===null?null:{parent:Se._currentValue,pool:e}}var Ta=Error(a(460)),ef=Error(a(474)),xu=Error(a(542)),Iu={then:function(){}};function zg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Bg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Fn,Fn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Hg(e),e;default:if(typeof n.status=="string")n.then(Fn,Fn);else{if(e=ee,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Hg(e),e}throw Or=n,Ta}}function Dr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Or=s,Ta):s}}var Or=null;function qg(){if(Or===null)throw Error(a(459));var e=Or;return Or=null,e}function Hg(e){if(e===Ta||e===xu)throw Error(a(483))}var ba=null,zl=0;function Nu(e){var n=zl;return zl+=1,ba===null&&(ba=[]),Bg(ba,e,n)}function Bl(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Du(e,n){throw n.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Gg(e){function n(U,D){if(e){var P=U.deletions;P===null?(U.deletions=[D],U.flags|=16):P.push(D)}}function s(U,D){if(!e)return null;for(;D!==null;)n(U,D),D=D.sibling;return null}function l(U){for(var D=new Map;U!==null;)U.key!==null?D.set(U.key,U):D.set(U.index,U),U=U.sibling;return D}function h(U,D){return U=Li(U,D),U.index=0,U.sibling=null,U}function f(U,D,P){return U.index=P,e?(P=U.alternate,P!==null?(P=P.index,P<D?(U.flags|=67108866,D):P):(U.flags|=67108866,D)):(U.flags|=1048576,D)}function g(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,D,P,Q){return D===null||D.tag!==6?(D=Hh(P,U.mode,Q),D.return=U,D):(D=h(D,P),D.return=U,D)}function C(U,D,P,Q){var ht=P.type;return ht===nt?G(U,D,P.props.children,Q,P.key):D!==null&&(D.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===w&&Dr(ht)===D.type)?(D=h(D,P.props),Bl(D,P),D.return=U,D):(D=Au(P.type,P.key,P.props,null,U.mode,Q),Bl(D,P),D.return=U,D)}function j(U,D,P,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Gh(P,U.mode,Q),D.return=U,D):(D=h(D,P.children||[]),D.return=U,D)}function G(U,D,P,Q,ht){return D===null||D.tag!==7?(D=Rr(P,U.mode,Q,ht),D.return=U,D):(D=h(D,P),D.return=U,D)}function Y(U,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Hh(""+D,U.mode,P),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case F:return P=Au(D.type,D.key,D.props,null,U.mode,P),Bl(P,D),P.return=U,P;case tt:return D=Gh(D,U.mode,P),D.return=U,D;case w:return D=Dr(D),Y(U,D,P)}if(de(D)||k(D))return D=Rr(D,U.mode,P,null),D.return=U,D;if(typeof D.then=="function")return Y(U,Nu(D),P);if(D.$$typeof===pt)return Y(U,Ru(U,D),P);Du(U,D)}return null}function z(U,D,P,Q){var ht=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ht!==null?null:E(U,D,""+P,Q);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case F:return P.key===ht?C(U,D,P,Q):null;case tt:return P.key===ht?j(U,D,P,Q):null;case w:return P=Dr(P),z(U,D,P,Q)}if(de(P)||k(P))return ht!==null?null:G(U,D,P,Q,null);if(typeof P.then=="function")return z(U,D,Nu(P),Q);if(P.$$typeof===pt)return z(U,D,Ru(U,P),Q);Du(U,P)}return null}function q(U,D,P,Q,ht){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return U=U.get(P)||null,E(D,U,""+Q,ht);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case F:return U=U.get(Q.key===null?P:Q.key)||null,C(D,U,Q,ht);case tt:return U=U.get(Q.key===null?P:Q.key)||null,j(D,U,Q,ht);case w:return Q=Dr(Q),q(U,D,P,Q,ht)}if(de(Q)||k(Q))return U=U.get(P)||null,G(D,U,Q,ht,null);if(typeof Q.then=="function")return q(U,D,P,Nu(Q),ht);if(Q.$$typeof===pt)return q(U,D,P,Ru(D,Q),ht);Du(D,Q)}return null}function lt(U,D,P,Q){for(var ht=null,jt=null,ot=D,wt=D=0,Nt=null;ot!==null&&wt<P.length;wt++){ot.index>wt?(Nt=ot,ot=null):Nt=ot.sibling;var zt=z(U,ot,P[wt],Q);if(zt===null){ot===null&&(ot=Nt);break}e&&ot&&zt.alternate===null&&n(U,ot),D=f(zt,D,wt),jt===null?ht=zt:jt.sibling=zt,jt=zt,ot=Nt}if(wt===P.length)return s(U,ot),Ut&&Pi(U,wt),ht;if(ot===null){for(;wt<P.length;wt++)ot=Y(U,P[wt],Q),ot!==null&&(D=f(ot,D,wt),jt===null?ht=ot:jt.sibling=ot,jt=ot);return Ut&&Pi(U,wt),ht}for(ot=l(ot);wt<P.length;wt++)Nt=q(ot,U,wt,P[wt],Q),Nt!==null&&(e&&Nt.alternate!==null&&ot.delete(Nt.key===null?wt:Nt.key),D=f(Nt,D,wt),jt===null?ht=Nt:jt.sibling=Nt,jt=Nt);return e&&ot.forEach(function(js){return n(U,js)}),Ut&&Pi(U,wt),ht}function gt(U,D,P,Q){if(P==null)throw Error(a(151));for(var ht=null,jt=null,ot=D,wt=D=0,Nt=null,zt=P.next();ot!==null&&!zt.done;wt++,zt=P.next()){ot.index>wt?(Nt=ot,ot=null):Nt=ot.sibling;var js=z(U,ot,zt.value,Q);if(js===null){ot===null&&(ot=Nt);break}e&&ot&&js.alternate===null&&n(U,ot),D=f(js,D,wt),jt===null?ht=js:jt.sibling=js,jt=js,ot=Nt}if(zt.done)return s(U,ot),Ut&&Pi(U,wt),ht;if(ot===null){for(;!zt.done;wt++,zt=P.next())zt=Y(U,zt.value,Q),zt!==null&&(D=f(zt,D,wt),jt===null?ht=zt:jt.sibling=zt,jt=zt);return Ut&&Pi(U,wt),ht}for(ot=l(ot);!zt.done;wt++,zt=P.next())zt=q(ot,U,wt,zt.value,Q),zt!==null&&(e&&zt.alternate!==null&&ot.delete(zt.key===null?wt:zt.key),D=f(zt,D,wt),jt===null?ht=zt:jt.sibling=zt,jt=zt);return e&&ot.forEach(function(vb){return n(U,vb)}),Ut&&Pi(U,wt),ht}function Wt(U,D,P,Q){if(typeof P=="object"&&P!==null&&P.type===nt&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case F:t:{for(var ht=P.key;D!==null;){if(D.key===ht){if(ht=P.type,ht===nt){if(D.tag===7){s(U,D.sibling),Q=h(D,P.props.children),Q.return=U,U=Q;break t}}else if(D.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===w&&Dr(ht)===D.type){s(U,D.sibling),Q=h(D,P.props),Bl(Q,P),Q.return=U,U=Q;break t}s(U,D);break}else n(U,D);D=D.sibling}P.type===nt?(Q=Rr(P.props.children,U.mode,Q,P.key),Q.return=U,U=Q):(Q=Au(P.type,P.key,P.props,null,U.mode,Q),Bl(Q,P),Q.return=U,U=Q)}return g(U);case tt:t:{for(ht=P.key;D!==null;){if(D.key===ht)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){s(U,D.sibling),Q=h(D,P.children||[]),Q.return=U,U=Q;break t}else{s(U,D);break}else n(U,D);D=D.sibling}Q=Gh(P,U.mode,Q),Q.return=U,U=Q}return g(U);case w:return P=Dr(P),Wt(U,D,P,Q)}if(de(P))return lt(U,D,P,Q);if(k(P)){if(ht=k(P),typeof ht!="function")throw Error(a(150));return P=ht.call(P),gt(U,D,P,Q)}if(typeof P.then=="function")return Wt(U,D,Nu(P),Q);if(P.$$typeof===pt)return Wt(U,D,Ru(U,P),Q);Du(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(s(U,D.sibling),Q=h(D,P),Q.return=U,U=Q):(s(U,D),Q=Hh(P,U.mode,Q),Q.return=U,U=Q),g(U)):s(U,D)}return function(U,D,P,Q){try{zl=0;var ht=Wt(U,D,P,Q);return ba=null,ht}catch(ot){if(ot===Ta||ot===xu)throw ot;var jt=_n(29,ot,null,U.mode);return jt.lanes=Q,jt.return=U,jt}}}var Mr=Gg(!0),Fg=Gg(!1),bs=!1;function nf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function As(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ss(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=bu(e),xg(e,null,s),n}return Tu(e,l,n,s),bu(e)}function ql(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,gl(e,s)}}function rf(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var af=!1;function Hl(){if(af){var e=Ea;if(e!==null)throw e}}function Gl(e,n,s,l){af=!1;var h=e.updateQueue;bs=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,j=C.next;C.next=null,g===null?f=j:g.next=j,g=C;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==g&&(E===null?G.firstBaseUpdate=j:E.next=j,G.lastBaseUpdate=C))}if(f!==null){var Y=h.baseState;g=0,G=j=C=null,E=f;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(It&z)===z:(l&z)===z){z!==0&&z===va&&(af=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var lt=e,gt=E;z=n;var Wt=s;switch(gt.tag){case 1:if(lt=gt.payload,typeof lt=="function"){Y=lt.call(Wt,Y,z);break t}Y=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=gt.payload,z=typeof lt=="function"?lt.call(Wt,Y,z):lt,z==null)break t;Y=S({},Y,z);break t;case 2:bs=!0}}z=E.callback,z!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(j=G=q,C=Y):G=G.next=q,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);G===null&&(C=Y),h.baseState=C,h.firstBaseUpdate=j,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Is|=g,e.lanes=g,e.memoizedState=Y}}function Qg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Kg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Qg(s[e],n)}var Aa=O(null),Ou=O(0);function Yg(e,n){e=Xi,st(Ou,e),st(Aa,n),Xi=e|n.baseLanes}function lf(){st(Ou,Xi),st(Aa,Aa.current)}function of(){Xi=Ou.current,K(Aa),K(Ou)}var vn=O(null),kn=null;function ws(e){var n=e.alternate;st(pe,pe.current&1),st(vn,e),kn===null&&(n===null||Aa.current!==null||n.memoizedState!==null)&&(kn=e)}function uf(e){st(pe,pe.current),st(vn,e),kn===null&&(kn=e)}function Xg(e){e.tag===22?(st(pe,pe.current),st(vn,e),kn===null&&(kn=e)):Rs()}function Rs(){st(pe,pe.current),st(vn,vn.current)}function En(e){K(vn),kn===e&&(kn=null),K(pe)}var pe=O(0);function Mu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||gd(s)||pd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Bi=0,St=null,$t=null,we=null,Vu=!1,Sa=!1,Vr=!1,ku=0,Fl=0,wa=null,u1=0;function ce(){throw Error(a(321))}function cf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!yn(e[s],n[s]))return!1;return!0}function hf(e,n,s,l,h,f){return Bi=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?Op:Rf,Vr=!1,f=s(l,h),Vr=!1,Sa&&(f=$g(n,s,l,h)),Zg(e),f}function Zg(e){H.H=Yl;var n=$t!==null&&$t.next!==null;if(Bi=0,we=$t=St=null,Vu=!1,Fl=0,wa=null,n)throw Error(a(300));e===null||Re||(e=e.dependencies,e!==null&&wu(e)&&(Re=!0))}function $g(e,n,s,l){St=e;var h=0;do{if(Sa&&(wa=null),Fl=0,Sa=!1,25<=h)throw Error(a(301));if(h+=1,we=$t=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=Mp,f=n(s,l)}while(Sa);return f}function c1(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?Ql(n):n,e=e.useState()[0],($t!==null?$t.memoizedState:null)!==e&&(St.flags|=1024),n}function ff(){var e=ku!==0;return ku=0,e}function df(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function mf(e){if(Vu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Vu=!1}Bi=0,we=$t=St=null,Sa=!1,Fl=ku=0,wa=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?St.memoizedState=we=e:we=we.next=e,we}function ye(){if($t===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var n=we===null?St.memoizedState:we.next;if(n!==null)we=n,$t=e;else{if(e===null)throw St.alternate===null?Error(a(467)):Error(a(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},we===null?St.memoizedState=we=e:we=we.next=e}return we}function Uu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ql(e){var n=Fl;return Fl+=1,wa===null&&(wa=[]),e=Bg(wa,e,n),n=St,(we===null?n.memoizedState:we.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Op:Rf),e}function Lu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Ql(e);if(e.$$typeof===pt)return qe(e)}throw Error(a(438,String(e)))}function gf(e){var n=null,s=St.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=St.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Uu(),St.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=V;return n.index++,s}function qi(e,n){return typeof n=="function"?n(e):n}function Pu(e){var n=ye();return pf(n,$t,e)}function pf(e,n,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,C=null,j=n,G=!1;do{var Y=j.lane&-536870913;if(Y!==j.lane?(It&Y)===Y:(Bi&Y)===Y){var z=j.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Y===va&&(G=!0);else if((Bi&z)===z){j=j.next,z===va&&(G=!0);continue}else Y={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(E=C=Y,g=f):C=C.next=Y,St.lanes|=z,Is|=z;Y=j.action,Vr&&s(f,Y),f=j.hasEagerState?j.eagerState:s(f,Y)}else z={lane:Y,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(E=C=z,g=f):C=C.next=z,St.lanes|=Y,Is|=Y;j=j.next}while(j!==null&&j!==n);if(C===null?g=f:C.next=E,!yn(f,e.memoizedState)&&(Re=!0,G&&(s=Ea,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=C,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function yf(e){var n=ye(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);yn(f,n.memoizedState)||(Re=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function Jg(e,n,s){var l=St,h=ye(),f=Ut;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!yn(($t||h).memoizedState,s);if(g&&(h.memoizedState=s,Re=!0),h=h.queue,Ef(ep.bind(null,l,h,e),[e]),h.getSnapshot!==n||g||we!==null&&we.memoizedState.tag&1){if(l.flags|=2048,Ra(9,{destroy:void 0},tp.bind(null,l,h,s,n),null),ee===null)throw Error(a(349));f||(Bi&127)!==0||Wg(l,n,s)}return s}function Wg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=St.updateQueue,n===null?(n=Uu(),St.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function tp(e,n,s,l){n.value=s,n.getSnapshot=l,np(n)&&ip(e)}function ep(e,n,s){return s(function(){np(n)&&ip(e)})}function np(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!yn(e,s)}catch{return!0}}function ip(e){var n=wr(e,2);n!==null&&hn(n,e,2)}function _f(e){var n=nn();if(typeof e=="function"){var s=e;if(e=s(),Vr){wn(!0);try{s()}finally{wn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:e},n}function sp(e,n,s,l){return e.baseState=s,pf(e,$t,typeof l=="function"?l:qi)}function h1(e,n,s,l,h){if(Bu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};H.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,rp(n,f)):(f.next=s.next,n.pending=s.next=f)}}function rp(e,n){var s=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=H.T,g={};H.T=g;try{var E=s(h,l),C=H.S;C!==null&&C(g,E),ap(e,n,E)}catch(j){vf(e,n,j)}finally{f!==null&&g.types!==null&&(f.types=g.types),H.T=f}}else try{f=s(h,l),ap(e,n,f)}catch(j){vf(e,n,j)}}function ap(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){lp(e,n,l)},function(l){return vf(e,n,l)}):lp(e,n,s)}function lp(e,n,s){n.status="fulfilled",n.value=s,op(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,rp(e,s)))}function vf(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,op(n),n=n.next;while(n!==l)}e.action=null}function op(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function up(e,n){return n}function cp(e,n){if(Ut){var s=ee.formState;if(s!==null){t:{var l=St;if(Ut){if(ie){e:{for(var h=ie,f=Vn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Un(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ie=Un(h.nextSibling),l=h.data==="F!";break t}}Es(l)}l=!1}l&&(n=s[0])}}return s=nn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:up,lastRenderedState:n},s.queue=l,s=Ip.bind(null,St,l),l.dispatch=s,l=_f(!1),f=wf.bind(null,St,!1,l.queue),l=nn(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,s=h1.bind(null,St,h,f,s),h.dispatch=s,l.memoizedState=e,[n,s,!1]}function hp(e){var n=ye();return fp(n,$t,e)}function fp(e,n,s){if(n=pf(e,n,up)[0],e=Pu(qi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Ql(n)}catch(g){throw g===Ta?xu:g}else l=n;n=ye();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(St.flags|=2048,Ra(9,{destroy:void 0},f1.bind(null,h,s),null)),[l,f,e]}function f1(e,n){e.action=n}function dp(e){var n=ye(),s=$t;if(s!==null)return fp(n,s,e);ye(),n=n.memoizedState,s=ye();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function Ra(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=St.updateQueue,n===null&&(n=Uu(),St.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function mp(){return ye().memoizedState}function ju(e,n,s,l){var h=nn();St.flags|=e,h.memoizedState=Ra(1|n,{destroy:void 0},s,l===void 0?null:l)}function zu(e,n,s,l){var h=ye();l=l===void 0?null:l;var f=h.memoizedState.inst;$t!==null&&l!==null&&cf(l,$t.memoizedState.deps)?h.memoizedState=Ra(n,f,s,l):(St.flags|=e,h.memoizedState=Ra(1|n,f,s,l))}function gp(e,n){ju(8390656,8,e,n)}function Ef(e,n){zu(2048,8,e,n)}function d1(e){St.flags|=4;var n=St.updateQueue;if(n===null)n=Uu(),St.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function pp(e){var n=ye().memoizedState;return d1({ref:n,nextImpl:e}),function(){if((Ht&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function yp(e,n){return zu(4,2,e,n)}function _p(e,n){return zu(4,4,e,n)}function vp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ep(e,n,s){s=s!=null?s.concat([e]):null,zu(4,4,vp.bind(null,n,e),s)}function Tf(){}function Tp(e,n){var s=ye();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&cf(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function bp(e,n){var s=ye();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&cf(n,l[1]))return l[0];if(l=e(),Vr){wn(!0);try{e()}finally{wn(!1)}}return s.memoizedState=[l,n],l}function bf(e,n,s){return s===void 0||(Bi&1073741824)!==0&&(It&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Ay(),St.lanes|=e,Is|=e,s)}function Ap(e,n,s,l){return yn(s,n)?s:Aa.current!==null?(e=bf(e,s,l),yn(e,n)||(Re=!0),e):(Bi&42)===0||(Bi&1073741824)!==0&&(It&261930)===0?(Re=!0,e.memoizedState=s):(e=Ay(),St.lanes|=e,Is|=e,n)}function Sp(e,n,s,l,h){var f=it.p;it.p=f!==0&&8>f?f:8;var g=H.T,E={};H.T=E,wf(e,!1,n,s);try{var C=h(),j=H.S;if(j!==null&&j(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var G=o1(C,l);Kl(e,n,G,An(e))}else Kl(e,n,l,An(e))}catch(Y){Kl(e,n,{then:function(){},status:"rejected",reason:Y},An())}finally{it.p=f,g!==null&&E.types!==null&&(g.types=E.types),H.T=g}}function m1(){}function Af(e,n,s,l){if(e.tag!==5)throw Error(a(476));var h=wp(e).queue;Sp(e,h,n,ct,s===null?m1:function(){return Rp(e),s(l)})}function wp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:ct},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Rp(e){var n=wp(e);n.next===null&&(n=e.alternate.memoizedState),Kl(e,n.next.queue,{},An())}function Sf(){return qe(co)}function Cp(){return ye().memoizedState}function xp(){return ye().memoizedState}function g1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=An();e=As(s);var l=Ss(n,e,s);l!==null&&(hn(l,n,s),ql(l,n,s)),n={cache:Jh()},e.payload=n;return}n=n.return}}function p1(e,n,s){var l=An();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Bu(e)?Np(n,s):(s=Bh(e,n,s,l),s!==null&&(hn(s,e,l),Dp(s,n,l)))}function Ip(e,n,s){var l=An();Kl(e,n,s,l)}function Kl(e,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Bu(e))Np(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,yn(E,g))return Tu(e,n,h,0),ee===null&&Eu(),!1}catch{}if(s=Bh(e,n,h,l),s!==null)return hn(s,e,l),Dp(s,n,l),!0}return!1}function wf(e,n,s,l){if(l={lane:2,revertLane:id(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Bu(e)){if(n)throw Error(a(479))}else n=Bh(e,s,l,2),n!==null&&hn(n,e,2)}function Bu(e){var n=e.alternate;return e===St||n!==null&&n===St}function Np(e,n){Sa=Vu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Dp(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,gl(e,s)}}var Yl={readContext:qe,use:Lu,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};Yl.useEffectEvent=ce;var Op={readContext:qe,use:Lu,useCallback:function(e,n){return nn().memoizedState=[e,n===void 0?null:n],e},useContext:qe,useEffect:gp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,ju(4194308,4,vp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return ju(4194308,4,e,n)},useInsertionEffect:function(e,n){ju(4,2,e,n)},useMemo:function(e,n){var s=nn();n=n===void 0?null:n;var l=e();if(Vr){wn(!0);try{e()}finally{wn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=nn();if(s!==void 0){var h=s(n);if(Vr){wn(!0);try{s(n)}finally{wn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=p1.bind(null,St,e),[l.memoizedState,e]},useRef:function(e){var n=nn();return e={current:e},n.memoizedState=e},useState:function(e){e=_f(e);var n=e.queue,s=Ip.bind(null,St,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Tf,useDeferredValue:function(e,n){var s=nn();return bf(s,e,n)},useTransition:function(){var e=_f(!1);return e=Sp.bind(null,St,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=St,h=nn();if(Ut){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ee===null)throw Error(a(349));(It&127)!==0||Wg(l,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,gp(ep.bind(null,l,f,e),[e]),l.flags|=2048,Ra(9,{destroy:void 0},tp.bind(null,l,f,s,n),null),s},useId:function(){var e=nn(),n=ee.identifierPrefix;if(Ut){var s=Ei,l=vi;s=(l&~(1<<32-me(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=ku++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=u1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Sf,useFormState:cp,useActionState:cp,useOptimistic:function(e){var n=nn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=wf.bind(null,St,!0,s),s.dispatch=n,[e,n]},useMemoCache:gf,useCacheRefresh:function(){return nn().memoizedState=g1.bind(null,St)},useEffectEvent:function(e){var n=nn(),s={impl:e};return n.memoizedState=s,function(){if((Ht&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Rf={readContext:qe,use:Lu,useCallback:Tp,useContext:qe,useEffect:Ef,useImperativeHandle:Ep,useInsertionEffect:yp,useLayoutEffect:_p,useMemo:bp,useReducer:Pu,useRef:mp,useState:function(){return Pu(qi)},useDebugValue:Tf,useDeferredValue:function(e,n){var s=ye();return Ap(s,$t.memoizedState,e,n)},useTransition:function(){var e=Pu(qi)[0],n=ye().memoizedState;return[typeof e=="boolean"?e:Ql(e),n]},useSyncExternalStore:Jg,useId:Cp,useHostTransitionStatus:Sf,useFormState:hp,useActionState:hp,useOptimistic:function(e,n){var s=ye();return sp(s,$t,e,n)},useMemoCache:gf,useCacheRefresh:xp};Rf.useEffectEvent=pp;var Mp={readContext:qe,use:Lu,useCallback:Tp,useContext:qe,useEffect:Ef,useImperativeHandle:Ep,useInsertionEffect:yp,useLayoutEffect:_p,useMemo:bp,useReducer:yf,useRef:mp,useState:function(){return yf(qi)},useDebugValue:Tf,useDeferredValue:function(e,n){var s=ye();return $t===null?bf(s,e,n):Ap(s,$t.memoizedState,e,n)},useTransition:function(){var e=yf(qi)[0],n=ye().memoizedState;return[typeof e=="boolean"?e:Ql(e),n]},useSyncExternalStore:Jg,useId:Cp,useHostTransitionStatus:Sf,useFormState:dp,useActionState:dp,useOptimistic:function(e,n){var s=ye();return $t!==null?sp(s,$t,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:gf,useCacheRefresh:xp};Mp.useEffectEvent=pp;function Cf(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:S({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var xf={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=An(),h=As(l);h.payload=n,s!=null&&(h.callback=s),n=Ss(e,h,l),n!==null&&(hn(n,e,l),ql(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=An(),h=As(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Ss(e,h,l),n!==null&&(hn(n,e,l),ql(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=An(),l=As(s);l.tag=2,n!=null&&(l.callback=n),n=Ss(e,l,s),n!==null&&(hn(n,e,s),ql(n,e,s))}};function Vp(e,n,s,l,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Vl(s,l)||!Vl(h,f):!0}function kp(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&xf.enqueueReplaceState(n,n.state,null)}function kr(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=S({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Up(e){vu(e)}function Lp(e){console.error(e)}function Pp(e){vu(e)}function qu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function jp(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function If(e,n,s){return s=As(s),s.tag=3,s.payload={element:null},s.callback=function(){qu(e,n)},s}function zp(e){return e=As(e),e.tag=3,e}function Bp(e,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){jp(n,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){jp(n,s,l),typeof h!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function y1(e,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&_a(n,s,h,!0),s=vn.current,s!==null){switch(s.tag){case 31:case 13:return kn===null?tc():s.alternate===null&&he===0&&(he=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Iu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),td(e,l,h)),!1;case 22:return s.flags|=65536,l===Iu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),td(e,l,h)),!1}throw Error(a(435,s.tag))}return td(e,l,h),tc(),!1}if(Ut)return n=vn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==Kh&&(e=Error(a(422),{cause:l}),Ll(Dn(e,s)))):(l!==Kh&&(n=Error(a(423),{cause:l}),Ll(Dn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Dn(l,s),h=If(e.stateNode,l,h),rf(e,h),he!==4&&(he=2)),!1;var f=Error(a(520),{cause:l});if(f=Dn(f,s),no===null?no=[f]:no.push(f),he!==4&&(he=2),n===null)return!0;l=Dn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=If(s.stateNode,l,e),rf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ns===null||!Ns.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=zp(h),Bp(h,e,s,l),rf(s,h),!1}s=s.return}while(s!==null);return!1}var Nf=Error(a(461)),Re=!1;function He(e,n,s,l){n.child=e===null?Fg(n,null,s,l):Mr(n,e.child,s,l)}function qp(e,n,s,l,h){s=s.render;var f=n.ref;if("ref"in l){var g={};for(var E in l)E!=="ref"&&(g[E]=l[E])}else g=l;return Ir(n),l=hf(e,n,s,g,f,h),E=ff(),e!==null&&!Re?(df(e,n,h),Hi(e,n,h)):(Ut&&E&&Fh(n),n.flags|=1,He(e,n,l,h),n.child)}function Hp(e,n,s,l,h){if(e===null){var f=s.type;return typeof f=="function"&&!qh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Gp(e,n,f,l,h)):(e=Au(s.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Pf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Vl,s(g,l)&&e.ref===n.ref)return Hi(e,n,h)}return n.flags|=1,e=Li(f,l),e.ref=n.ref,e.return=n,n.child=e}function Gp(e,n,s,l,h){if(e!==null){var f=e.memoizedProps;if(Vl(f,l)&&e.ref===n.ref)if(Re=!1,n.pendingProps=l=f,Pf(e,h))(e.flags&131072)!==0&&(Re=!0);else return n.lanes=e.lanes,Hi(e,n,h)}return Df(e,n,s,l,h)}function Fp(e,n,s,l){var h=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return Qp(e,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Cu(n,f!==null?f.cachePool:null),f!==null?Yg(n,f):lf(),Xg(n);else return l=n.lanes=536870912,Qp(e,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(Cu(n,f.cachePool),Yg(n,f),Rs(),n.memoizedState=null):(e!==null&&Cu(n,null),lf(),Rs());return He(e,n,h,s),n.child}function Xl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Qp(e,n,s,l,h){var f=tf();return f=f===null?null:{parent:Se._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Cu(n,null),lf(),Xg(n),e!==null&&_a(e,n,l,!0),n.childLanes=h,null}function Hu(e,n){return n=Fu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Kp(e,n,s){return Mr(n,e.child,null,s),e=Hu(n,n.pendingProps),e.flags|=2,En(n),n.memoizedState=null,e}function _1(e,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ut){if(l.mode==="hidden")return e=Hu(n,l),n.lanes=536870912,Xl(null,e);if(uf(n),(e=ie)?(e=r_(e,Vn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:_s!==null?{id:vi,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},s=Ng(e),s.return=n,n.child=s,Be=n,ie=null)):e=null,e===null)throw Es(n);return n.lanes=536870912,null}return Hu(n,l)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(uf(n),h)if(n.flags&256)n.flags&=-257,n=Kp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Re||_a(e,n,s,!1),h=(s&e.childLanes)!==0,Re||h){if(l=ee,l!==null&&(g=pl(l,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,wr(e,g),hn(l,e,g),Nf;tc(),n=Kp(e,n,s)}else e=f.treeContext,ie=Un(g.nextSibling),Be=n,Ut=!0,vs=null,Vn=!1,e!==null&&Mg(n,e),n=Hu(n,l),n.flags|=4096;return n}return e=Li(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Gu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Df(e,n,s,l,h){return Ir(n),s=hf(e,n,s,l,void 0,h),l=ff(),e!==null&&!Re?(df(e,n,h),Hi(e,n,h)):(Ut&&l&&Fh(n),n.flags|=1,He(e,n,s,h),n.child)}function Yp(e,n,s,l,h,f){return Ir(n),n.updateQueue=null,s=$g(n,l,s,h),Zg(e),l=ff(),e!==null&&!Re?(df(e,n,f),Hi(e,n,f)):(Ut&&l&&Fh(n),n.flags|=1,He(e,n,s,f),n.child)}function Xp(e,n,s,l,h){if(Ir(n),n.stateNode===null){var f=ma,g=s.contextType;typeof g=="object"&&g!==null&&(f=qe(g)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=xf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},nf(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?qe(g):ma,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Cf(n,s,g,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&xf.enqueueReplaceState(f,f.state,null),Gl(n,l,f,h),Hl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,C=kr(s,E);f.props=C;var j=f.context,G=s.contextType;g=ma,typeof G=="object"&&G!==null&&(g=qe(G));var Y=s.getDerivedStateFromProps;G=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==g)&&kp(n,f,l,g),bs=!1;var z=n.memoizedState;f.state=z,Gl(n,l,f,h),Hl(),j=n.memoizedState,E||z!==j||bs?(typeof Y=="function"&&(Cf(n,s,Y,l),j=n.memoizedState),(C=bs||Vp(n,s,C,l,z,j,g))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=j),f.props=l,f.state=j,f.context=g,l=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,sf(e,n),g=n.memoizedProps,G=kr(s,g),f.props=G,Y=n.pendingProps,z=f.context,j=s.contextType,C=ma,typeof j=="object"&&j!==null&&(C=qe(j)),E=s.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==Y||z!==C)&&kp(n,f,l,C),bs=!1,z=n.memoizedState,f.state=z,Gl(n,l,f,h),Hl();var q=n.memoizedState;g!==Y||z!==q||bs||e!==null&&e.dependencies!==null&&wu(e.dependencies)?(typeof E=="function"&&(Cf(n,s,E,l),q=n.memoizedState),(G=bs||Vp(n,s,G,l,z,q,C)||e!==null&&e.dependencies!==null&&wu(e.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=C,l=G):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,Gu(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Mr(n,e.child,null,h),n.child=Mr(n,null,s,h)):He(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Hi(e,n,h),e}function Zp(e,n,s,l){return Cr(),n.flags|=256,He(e,n,s,l),n.child}var Of={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Mf(e){return{baseLanes:e,cachePool:jg()}}function Vf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=bn),e}function $p(e,n,s){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(pe.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ut){if(h?ws(n):Rs(),(e=ie)?(e=r_(e,Vn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:_s!==null?{id:vi,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},s=Ng(e),s.return=n,n.child=s,Be=n,ie=null)):e=null,e===null)throw Es(n);return pd(e)?n.lanes=32:n.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(Rs(),h=n.mode,E=Fu({mode:"hidden",children:E},h),l=Rr(l,h,s,null),E.return=n,l.return=n,E.sibling=l,n.child=E,l=n.child,l.memoizedState=Mf(s),l.childLanes=Vf(e,g,s),n.memoizedState=Of,Xl(null,l)):(ws(n),kf(n,E))}var C=e.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(ws(n),n.flags&=-257,n=Uf(e,n,s)):n.memoizedState!==null?(Rs(),n.child=e.child,n.flags|=128,n=null):(Rs(),E=l.fallback,h=n.mode,l=Fu({mode:"visible",children:l.children},h),E=Rr(E,h,s,null),E.flags|=2,l.return=n,E.return=n,l.sibling=E,n.child=l,Mr(n,e.child,null,s),l=n.child,l.memoizedState=Mf(s),l.childLanes=Vf(e,g,s),n.memoizedState=Of,n=Xl(null,l));else if(ws(n),pd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var j=g.dgst;g=j,l=Error(a(419)),l.stack="",l.digest=g,Ll({value:l,source:null,stack:null}),n=Uf(e,n,s)}else if(Re||_a(e,n,s,!1),g=(s&e.childLanes)!==0,Re||g){if(g=ee,g!==null&&(l=pl(g,s),l!==0&&l!==C.retryLane))throw C.retryLane=l,wr(e,l),hn(g,e,l),Nf;gd(E)||tc(),n=Uf(e,n,s)}else gd(E)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,ie=Un(E.nextSibling),Be=n,Ut=!0,vs=null,Vn=!1,e!==null&&Mg(n,e),n=kf(n,l.children),n.flags|=4096);return n}return h?(Rs(),E=l.fallback,h=n.mode,C=e.child,j=C.sibling,l=Li(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,j!==null?E=Li(j,E):(E=Rr(E,h,s,null),E.flags|=2),E.return=n,l.return=n,l.sibling=E,n.child=l,Xl(null,l),l=n.child,E=e.child.memoizedState,E===null?E=Mf(s):(h=E.cachePool,h!==null?(C=Se._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=jg(),E={baseLanes:E.baseLanes|s,cachePool:h}),l.memoizedState=E,l.childLanes=Vf(e,g,s),n.memoizedState=Of,Xl(e.child,l)):(ws(n),s=e.child,e=s.sibling,s=Li(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function kf(e,n){return n=Fu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Fu(e,n){return e=_n(22,e,null,n),e.lanes=0,e}function Uf(e,n,s){return Mr(n,e.child,null,s),e=kf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Jp(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Zh(e.return,n,s)}function Lf(e,n,s,l,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function Wp(e,n,s){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var g=pe.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,st(pe,g),He(e,n,l,s),l=Ut?Ul:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Jp(e,s,n);else if(e.tag===19)Jp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Mu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Lf(n,!1,h,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Mu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Lf(n,!0,s,null,f,l);break;case"together":Lf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function Hi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Is|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(_a(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Li(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Li(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Pf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&wu(e)))}function v1(e,n,s){switch(n.tag){case 3:Bt(n,n.stateNode.containerInfo),Ts(n,Se,e.memoizedState.cache),Cr();break;case 27:case 5:zn(n);break;case 4:Bt(n,n.stateNode.containerInfo);break;case 10:Ts(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,uf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(ws(n),n.flags|=128,null):(s&n.child.childLanes)!==0?$p(e,n,s):(ws(n),e=Hi(e,n,s),e!==null?e.sibling:null);ws(n);break;case 19:var h=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(_a(e,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return Wp(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),st(pe,pe.current),l)break;return null;case 22:return n.lanes=0,Fp(e,n,s,n.pendingProps);case 24:Ts(n,Se,e.memoizedState.cache)}return Hi(e,n,s)}function ty(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Re=!0;else{if(!Pf(e,s)&&(n.flags&128)===0)return Re=!1,v1(e,n,s);Re=(e.flags&131072)!==0}else Re=!1,Ut&&(n.flags&1048576)!==0&&Og(n,Ul,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=Dr(n.elementType),n.type=e,typeof e=="function")qh(e)?(l=kr(e,l),n.tag=1,n=Xp(null,n,e,l,s)):(n.tag=0,n=Df(null,n,e,l,s));else{if(e!=null){var h=e.$$typeof;if(h===xt){n.tag=11,n=qp(null,n,e,l,s);break t}else if(h===I){n.tag=14,n=Hp(null,n,e,l,s);break t}}throw n=ne(e)||e,Error(a(306,n,""))}}return n;case 0:return Df(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=kr(l,n.pendingProps),Xp(e,n,l,h,s);case 3:t:{if(Bt(n,n.stateNode.containerInfo),e===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,sf(e,n),Gl(n,l,null,s);var g=n.memoizedState;if(l=g.cache,Ts(n,Se,l),l!==f.cache&&$h(n,[Se],s,!0),Hl(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Zp(e,n,l,s);break t}else if(l!==h){h=Dn(Error(a(424)),n),Ll(h),n=Zp(e,n,l,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ie=Un(e.firstChild),Be=n,Ut=!0,vs=null,Vn=!0,s=Fg(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Cr(),l===h){n=Hi(e,n,s);break t}He(e,n,l,s)}n=n.child}return n;case 26:return Gu(e,n),e===null?(s=h_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Ut||(s=n.type,e=n.pendingProps,l=lc(rt.current).createElement(s),l[Te]=n,l[ke]=e,Ge(l,s,e),be(l),n.stateNode=l):n.memoizedState=h_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return zn(n),e===null&&Ut&&(l=n.stateNode=o_(n.type,n.pendingProps,rt.current),Be=n,Vn=!0,h=ie,Vs(n.type)?(yd=h,ie=Un(l.firstChild)):ie=h),He(e,n,n.pendingProps.children,s),Gu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ut&&((h=l=ie)&&(l=X1(l,n.type,n.pendingProps,Vn),l!==null?(n.stateNode=l,Be=n,ie=Un(l.firstChild),Vn=!1,h=!0):h=!1),h||Es(n)),zn(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,l=f.children,fd(h,f)?l=null:g!==null&&fd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=hf(e,n,c1,null,null,s),co._currentValue=h),Gu(e,n),He(e,n,l,s),n.child;case 6:return e===null&&Ut&&((e=s=ie)&&(s=Z1(s,n.pendingProps,Vn),s!==null?(n.stateNode=s,Be=n,ie=null,e=!0):e=!1),e||Es(n)),null;case 13:return $p(e,n,s);case 4:return Bt(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Mr(n,null,l,s):He(e,n,l,s),n.child;case 11:return qp(e,n,n.type,n.pendingProps,s);case 7:return He(e,n,n.pendingProps,s),n.child;case 8:return He(e,n,n.pendingProps.children,s),n.child;case 12:return He(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,Ts(n,n.type,l.value),He(e,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Ir(n),h=qe(h),l=l(h),n.flags|=1,He(e,n,l,s),n.child;case 14:return Hp(e,n,n.type,n.pendingProps,s);case 15:return Gp(e,n,n.type,n.pendingProps,s);case 19:return Wp(e,n,s);case 31:return _1(e,n,s);case 22:return Fp(e,n,s,n.pendingProps);case 24:return Ir(n),l=qe(Se),e===null?(h=tf(),h===null&&(h=ee,f=Jh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:l,cache:h},nf(n),Ts(n,Se,h)):((e.lanes&s)!==0&&(sf(e,n),Gl(n,null,null,s),Hl()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ts(n,Se,l)):(l=f.cache,Ts(n,Se,l),l!==h.cache&&$h(n,[Se],s,!0))),He(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Gi(e){e.flags|=4}function jf(e,n,s,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Cy())e.flags|=8192;else throw Or=Iu,ef}else e.flags&=-16777217}function ey(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!p_(n))if(Cy())e.flags|=8192;else throw Or=Iu,ef}function Qu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Jo():536870912,e.lanes|=n,Na|=n)}function Zl(e,n){if(!Ut)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function se(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function E1(e,n,s){var l=n.pendingProps;switch(Qh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(n),null;case 1:return se(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),zi(Se),Ft(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ya(n)?Gi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Yh())),se(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Gi(n),f!==null?(se(n),ey(n,f)):(se(n),jf(n,h,null,l,s))):f?f!==e.memoizedState?(Gi(n),se(n),ey(n,f)):(se(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Gi(n),se(n),jf(n,h,e,l,s)),null;case 27:if(Xr(n),s=rt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Gi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return se(n),null}e=Z.current,ya(n)?Vg(n):(e=o_(h,l,s),n.stateNode=e,Gi(n))}return se(n),null;case 5:if(Xr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Gi(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return se(n),null}if(f=Z.current,ya(n))Vg(n);else{var g=lc(rt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}f[Te]=n,f[ke]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Ge(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&Gi(n)}}return se(n),jf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Gi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=rt.current,ya(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,h=Be,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Te]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||$y(e.nodeValue,s)),e||Es(n,!0)}else e=lc(e).createTextNode(l),e[Te]=n,n.stateNode=e}return se(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(l=ya(n),s!==null){if(e===null){if(!l)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Te]=n}else Cr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),e=!1}else s=Yh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(En(n),n):(En(n),null);if((n.flags&128)!==0)throw Error(a(558))}return se(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ya(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Te]=n}else Cr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),h=!1}else h=Yh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(En(n),n):(En(n),null)}return En(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Qu(n,n.updateQueue),se(n),null);case 4:return Ft(),e===null&&ld(n.stateNode.containerInfo),se(n),null;case 10:return zi(n.type),se(n),null;case 19:if(K(pe),l=n.memoizedState,l===null)return se(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)Zl(l,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Mu(e),f!==null){for(n.flags|=128,Zl(l,!1),e=f.updateQueue,n.updateQueue=e,Qu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Ig(s,e),s=s.sibling;return st(pe,pe.current&1|2),Ut&&Pi(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&tn()>$u&&(n.flags|=128,h=!0,Zl(l,!1),n.lanes=4194304)}else{if(!h)if(e=Mu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Qu(n,e),Zl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Ut)return se(n),null}else 2*tn()-l.renderingStartTime>$u&&s!==536870912&&(n.flags|=128,h=!0,Zl(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=tn(),e.sibling=null,s=pe.current,st(pe,h?s&1|2:s&1),Ut&&Pi(n,l.treeForkCount),e):(se(n),null);case 22:case 23:return En(n),of(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(se(n),n.subtreeFlags&6&&(n.flags|=8192)):se(n),s=n.updateQueue,s!==null&&Qu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&K(Nr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),zi(Se),se(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function T1(e,n){switch(Qh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return zi(Se),Ft(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Xr(n),null;case 31:if(n.memoizedState!==null){if(En(n),n.alternate===null)throw Error(a(340));Cr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(En(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Cr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(pe),null;case 4:return Ft(),null;case 10:return zi(n.type),null;case 22:case 23:return En(n),of(),e!==null&&K(Nr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return zi(Se),null;case 25:return null;default:return null}}function ny(e,n){switch(Qh(n),n.tag){case 3:zi(Se),Ft();break;case 26:case 27:case 5:Xr(n);break;case 4:Ft();break;case 31:n.memoizedState!==null&&En(n);break;case 13:En(n);break;case 19:K(pe);break;case 10:zi(n.type);break;case 22:case 23:En(n),of(),e!==null&&K(Nr);break;case 24:zi(Se)}}function $l(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&e)===e){l=void 0;var f=s.create,g=s.inst;l=f(),g.destroy=l}s=s.next}while(s!==h)}}catch(E){Yt(n,n.return,E)}}function Cs(e,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var g=l.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var C=s,j=E;try{j()}catch(G){Yt(h,C,G)}}}l=l.next}while(l!==f)}}catch(G){Yt(n,n.return,G)}}function iy(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Kg(n,s)}catch(l){Yt(e,e.return,l)}}}function sy(e,n,s){s.props=kr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){Yt(e,n,l)}}function Jl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(h){Yt(e,n,h)}}function Ti(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){Yt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Yt(e,n,h)}else s.current=null}function ry(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){Yt(e,e.return,h)}}function zf(e,n,s){try{var l=e.stateNode;H1(l,e.type,s,n),l[ke]=n}catch(h){Yt(e,e.return,h)}}function ay(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Vs(e.type)||e.tag===4}function Bf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ay(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Vs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function qf(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Fn));else if(l!==4&&(l===27&&Vs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(qf(e,n,s),e=e.sibling;e!==null;)qf(e,n,s),e=e.sibling}function Ku(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&Vs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Ku(e,n,s),e=e.sibling;e!==null;)Ku(e,n,s),e=e.sibling}function ly(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ge(n,l,s),n[Te]=e,n[ke]=s}catch(f){Yt(e,e.return,f)}}var Fi=!1,Ce=!1,Hf=!1,oy=typeof WeakSet=="function"?WeakSet:Set,Le=null;function b1(e,n){if(e=e.containerInfo,cd=mc,e=Eg(e),kh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,C=-1,j=0,G=0,Y=e,z=null;e:for(;;){for(var q;Y!==s||h!==0&&Y.nodeType!==3||(E=g+h),Y!==f||l!==0&&Y.nodeType!==3||(C=g+l),Y.nodeType===3&&(g+=Y.nodeValue.length),(q=Y.firstChild)!==null;)z=Y,Y=q;for(;;){if(Y===e)break e;if(z===s&&++j===h&&(E=g),z===f&&++G===l&&(C=g),(q=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=q}s=E===-1||C===-1?null:{start:E,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(hd={focusedElem:e,selectionRange:s},mc=!1,Le=n;Le!==null;)if(n=Le,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Le=e;else for(;Le!==null;){switch(n=Le,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var lt=kr(s.type,h);e=l.getSnapshotBeforeUpdate(lt,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(gt){Yt(s,s.return,gt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)md(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Le=e;break}Le=n.return}}function uy(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:Ki(e,s),l&4&&$l(5,s);break;case 1:if(Ki(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Yt(s,s.return,g)}else{var h=kr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Yt(s,s.return,g)}}l&64&&iy(s),l&512&&Jl(s,s.return);break;case 3:if(Ki(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Kg(e,n)}catch(g){Yt(s,s.return,g)}}break;case 27:n===null&&l&4&&ly(s);case 26:case 5:Ki(e,s),n===null&&l&4&&ry(s),l&512&&Jl(s,s.return);break;case 12:Ki(e,s);break;case 31:Ki(e,s),l&4&&fy(e,s);break;case 13:Ki(e,s),l&4&&dy(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=D1.bind(null,s),$1(e,s))));break;case 22:if(l=s.memoizedState!==null||Fi,!l){n=n!==null&&n.memoizedState!==null||Ce,h=Fi;var f=Ce;Fi=l,(Ce=n)&&!f?Yi(e,s,(s.subtreeFlags&8772)!==0):Ki(e,s),Fi=h,Ce=f}break;case 30:break;default:Ki(e,s)}}function cy(e){var n=e.alternate;n!==null&&(e.alternate=null,cy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ta(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var oe=null,ln=!1;function Qi(e,n,s){for(s=s.child;s!==null;)hy(e,n,s),s=s.sibling}function hy(e,n,s){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(Bn,s)}catch{}switch(s.tag){case 26:Ce||Ti(s,n),Qi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ce||Ti(s,n);var l=oe,h=ln;Vs(s.type)&&(oe=s.stateNode,ln=!1),Qi(e,n,s),lo(s.stateNode),oe=l,ln=h;break;case 5:Ce||Ti(s,n);case 6:if(l=oe,h=ln,oe=null,Qi(e,n,s),oe=l,ln=h,oe!==null)if(ln)try{(oe.nodeType===9?oe.body:oe.nodeName==="HTML"?oe.ownerDocument.body:oe).removeChild(s.stateNode)}catch(f){Yt(s,n,f)}else try{oe.removeChild(s.stateNode)}catch(f){Yt(s,n,f)}break;case 18:oe!==null&&(ln?(e=oe,i_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Pa(e)):i_(oe,s.stateNode));break;case 4:l=oe,h=ln,oe=s.stateNode.containerInfo,ln=!0,Qi(e,n,s),oe=l,ln=h;break;case 0:case 11:case 14:case 15:Cs(2,s,n),Ce||Cs(4,s,n),Qi(e,n,s);break;case 1:Ce||(Ti(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&sy(s,n,l)),Qi(e,n,s);break;case 21:Qi(e,n,s);break;case 22:Ce=(l=Ce)||s.memoizedState!==null,Qi(e,n,s),Ce=l;break;default:Qi(e,n,s)}}function fy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Pa(e)}catch(s){Yt(n,n.return,s)}}}function dy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Pa(e)}catch(s){Yt(n,n.return,s)}}function A1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new oy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new oy),n;default:throw Error(a(435,e.tag))}}function Yu(e,n){var s=A1(e);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=O1.bind(null,e,l);l.then(h,h)}})}function on(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Vs(E.type)){oe=E.stateNode,ln=!1;break t}break;case 5:oe=E.stateNode,ln=!1;break t;case 3:case 4:oe=E.stateNode.containerInfo,ln=!0;break t}E=E.return}if(oe===null)throw Error(a(160));hy(f,g,h),oe=null,ln=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)my(n,e),n=n.sibling}var $n=null;function my(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:on(n,e),un(e),l&4&&(Cs(3,e,e.return),$l(3,e),Cs(5,e,e.return));break;case 1:on(n,e),un(e),l&512&&(Ce||s===null||Ti(s,s.return)),l&64&&Fi&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=$n;if(on(n,e),un(e),l&512&&(Ce||s===null||Ti(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[li]||f[Te]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Ge(f,l,s),f[Te]=e,be(f),l=f;break t;case"link":var g=m_("link","href",h).get(l+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(l),Ge(f,l,s),h.head.appendChild(f);break;case"meta":if(g=m_("meta","content",h).get(l+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(l),Ge(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Te]=e,be(f),l=f}e.stateNode=l}else g_(h,e.type,e.stateNode);else e.stateNode=d_(h,l,e.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?g_(h,e.type,e.stateNode):d_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&zf(e,e.memoizedProps,s.memoizedProps)}break;case 27:on(n,e),un(e),l&512&&(Ce||s===null||Ti(s,s.return)),s!==null&&l&4&&zf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(on(n,e),un(e),l&512&&(Ce||s===null||Ti(s,s.return)),e.flags&32){h=e.stateNode;try{an(h,"")}catch(lt){Yt(e,e.return,lt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,zf(e,h,s!==null?s.memoizedProps:h)),l&1024&&(Hf=!0);break;case 6:if(on(n,e),un(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(lt){Yt(e,e.return,lt)}}break;case 3:if(cc=null,h=$n,$n=oc(n.containerInfo),on(n,e),$n=h,un(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Pa(n.containerInfo)}catch(lt){Yt(e,e.return,lt)}Hf&&(Hf=!1,gy(e));break;case 4:l=$n,$n=oc(e.stateNode.containerInfo),on(n,e),un(e),$n=l;break;case 12:on(n,e),un(e);break;case 31:on(n,e),un(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Yu(e,l)));break;case 13:on(n,e),un(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Zu=tn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Yu(e,l)));break;case 22:h=e.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,j=Fi,G=Ce;if(Fi=j||h,Ce=G||C,on(n,e),Ce=G,Fi=j,un(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||C||Fi||Ce||Ur(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=C.stateNode;var Y=C.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(lt){Yt(C,C.return,lt)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(lt){Yt(C,C.return,lt)}}}else if(n.tag===18){if(s===null){C=n;try{var q=C.stateNode;h?s_(q,!0):s_(C.stateNode,!1)}catch(lt){Yt(C,C.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,Yu(e,s))));break;case 19:on(n,e),un(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Yu(e,l)));break;case 30:break;case 21:break;default:on(n,e),un(e)}}function un(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(ay(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Bf(e);Ku(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(an(g,""),s.flags&=-33);var E=Bf(e);Ku(e,E,g);break;case 3:case 4:var C=s.stateNode.containerInfo,j=Bf(e);qf(e,j,C);break;default:throw Error(a(161))}}catch(G){Yt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function gy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;gy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ki(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)uy(e,n.alternate,n),n=n.sibling}function Ur(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Cs(4,n,n.return),Ur(n);break;case 1:Ti(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&sy(n,n.return,s),Ur(n);break;case 27:lo(n.stateNode);case 26:case 5:Ti(n,n.return),Ur(n);break;case 22:n.memoizedState===null&&Ur(n);break;case 30:Ur(n);break;default:Ur(n)}e=e.sibling}}function Yi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Yi(h,f,s),$l(4,f);break;case 1:if(Yi(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Yt(l,l.return,j)}if(l=f,h=l.updateQueue,h!==null){var E=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Qg(C[h],E)}catch(j){Yt(l,l.return,j)}}s&&g&64&&iy(f),Jl(f,f.return);break;case 27:ly(f);case 26:case 5:Yi(h,f,s),s&&l===null&&g&4&&ry(f),Jl(f,f.return);break;case 12:Yi(h,f,s);break;case 31:Yi(h,f,s),s&&g&4&&fy(h,f);break;case 13:Yi(h,f,s),s&&g&4&&dy(h,f);break;case 22:f.memoizedState===null&&Yi(h,f,s),Jl(f,f.return);break;case 30:break;default:Yi(h,f,s)}n=n.sibling}}function Gf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Pl(s))}function Ff(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Pl(e))}function Jn(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)py(e,n,s,l),n=n.sibling}function py(e,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Jn(e,n,s,l),h&2048&&$l(9,n);break;case 1:Jn(e,n,s,l);break;case 3:Jn(e,n,s,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Pl(e)));break;case 12:if(h&2048){Jn(e,n,s,l),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Yt(n,n.return,C)}}else Jn(e,n,s,l);break;case 31:Jn(e,n,s,l);break;case 13:Jn(e,n,s,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Jn(e,n,s,l):Wl(e,n):f._visibility&2?Jn(e,n,s,l):(f._visibility|=2,Ca(e,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Gf(g,n);break;case 24:Jn(e,n,s,l),h&2048&&Ff(n.alternate,n);break;default:Jn(e,n,s,l)}}function Ca(e,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,C=l,j=g.flags;switch(g.tag){case 0:case 11:case 15:Ca(f,g,E,C,h),$l(8,g);break;case 23:break;case 22:var G=g.stateNode;g.memoizedState!==null?G._visibility&2?Ca(f,g,E,C,h):Wl(f,g):(G._visibility|=2,Ca(f,g,E,C,h)),h&&j&2048&&Gf(g.alternate,g);break;case 24:Ca(f,g,E,C,h),h&&j&2048&&Ff(g.alternate,g);break;default:Ca(f,g,E,C,h)}n=n.sibling}}function Wl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,h=l.flags;switch(l.tag){case 22:Wl(s,l),h&2048&&Gf(l.alternate,l);break;case 24:Wl(s,l),h&2048&&Ff(l.alternate,l);break;default:Wl(s,l)}n=n.sibling}}var to=8192;function xa(e,n,s){if(e.subtreeFlags&to)for(e=e.child;e!==null;)yy(e,n,s),e=e.sibling}function yy(e,n,s){switch(e.tag){case 26:xa(e,n,s),e.flags&to&&e.memoizedState!==null&&ub(s,$n,e.memoizedState,e.memoizedProps);break;case 5:xa(e,n,s);break;case 3:case 4:var l=$n;$n=oc(e.stateNode.containerInfo),xa(e,n,s),$n=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=to,to=16777216,xa(e,n,s),to=l):xa(e,n,s));break;default:xa(e,n,s)}}function _y(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function eo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Le=l,Ey(l,e)}_y(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)vy(e),e=e.sibling}function vy(e){switch(e.tag){case 0:case 11:case 15:eo(e),e.flags&2048&&Cs(9,e,e.return);break;case 3:eo(e);break;case 12:eo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Xu(e)):eo(e);break;default:eo(e)}}function Xu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Le=l,Ey(l,e)}_y(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Cs(8,n,n.return),Xu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Xu(n));break;default:Xu(n)}e=e.sibling}}function Ey(e,n){for(;Le!==null;){var s=Le;switch(s.tag){case 0:case 11:case 15:Cs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Pl(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Le=l;else t:for(s=e;Le!==null;){l=Le;var h=l.sibling,f=l.return;if(cy(l),l===s){Le=null;break t}if(h!==null){h.return=f,Le=h;break t}Le=f}}}var S1={getCacheForType:function(e){var n=qe(Se),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return qe(Se).controller.signal}},w1=typeof WeakMap=="function"?WeakMap:Map,Ht=0,ee=null,Rt=null,It=0,Kt=0,Tn=null,xs=!1,Ia=!1,Qf=!1,Xi=0,he=0,Is=0,Lr=0,Kf=0,bn=0,Na=0,no=null,cn=null,Yf=!1,Zu=0,Ty=0,$u=1/0,Ju=null,Ns=null,Oe=0,Ds=null,Da=null,Zi=0,Xf=0,Zf=null,by=null,io=0,$f=null;function An(){return(Ht&2)!==0&&It!==0?It&-It:H.T!==null?id():Wo()}function Ay(){if(bn===0)if((It&536870912)===0||Ut){var e=cr;cr<<=1,(cr&3932160)===0&&(cr=262144),bn=e}else bn=536870912;return e=vn.current,e!==null&&(e.flags|=32),bn}function hn(e,n,s){(e===ee&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(Oa(e,0),Os(e,It,bn,!1)),hr(e,s),((Ht&2)===0||e!==ee)&&(e===ee&&((Ht&2)===0&&(Lr|=s),he===4&&Os(e,It,bn,!1)),bi(e))}function Sy(e,n,s){if((Ht&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&e.expiredLanes)===0||qn(e,n),h=l?x1(e,n):Wf(e,n,!0),f=l;do{if(h===0){Ia&&!l&&Os(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!R1(s)){h=Wf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=no;var C=E.current.memoizedState.isDehydrated;if(C&&(Oa(E,g).flags|=256),g=Wf(E,g,!1),g!==2){if(Qf&&!C){E.errorRecoveryDisabledLanes|=f,Lr|=f,h=4;break t}f=cn,cn=h,f!==null&&(cn===null?cn=f:cn.push.apply(cn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Oa(e,0),Os(e,n,0,!0);break}t:{switch(l=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Os(l,n,bn,!xs);break t;case 2:cn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Zu+300-tn(),10<h)){if(Os(l,n,bn,!xs),si(l,0,!0)!==0)break t;Zi=n,l.timeoutHandle=e_(wy.bind(null,l,s,cn,Ju,Yf,n,bn,Lr,Na,xs,f,"Throttled",-0,0),h);break t}wy(l,s,cn,Ju,Yf,n,bn,Lr,Na,xs,f,null,-0,0)}}break}while(!0);bi(e)}function wy(e,n,s,l,h,f,g,E,C,j,G,Y,z,q){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Fn},yy(n,f,Y);var lt=(f&62914560)===f?Zu-tn():(f&4194048)===f?Ty-tn():0;if(lt=cb(Y,lt),lt!==null){Zi=f,e.cancelPendingCommit=lt(My.bind(null,e,n,f,s,l,h,g,E,C,G,Y,null,z,q)),Os(e,f,g,!j);return}}My(e,n,f,s,l,h,g,E,C)}function R1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!yn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Os(e,n,s,l){n&=~Kf,n&=~Lr,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-me(h),g=1<<f;l[f]=-1,h&=~g}s!==0&&fr(e,s,n)}function Wu(){return(Ht&6)===0?(so(0),!1):!0}function Jf(){if(Rt!==null){if(Kt===0)var e=Rt.return;else e=Rt,ji=xr=null,mf(e),ba=null,zl=0,e=Rt;for(;e!==null;)ny(e.alternate,e),e=e.return;Rt=null}}function Oa(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,Q1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Zi=0,Jf(),ee=e,Rt=s=Li(e.current,null),It=n,Kt=0,Tn=null,xs=!1,Ia=qn(e,n),Qf=!1,Na=bn=Kf=Lr=Is=he=0,cn=no=null,Yf=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-me(l),f=1<<h;n|=e[h],l&=~f}return Xi=n,Eu(),s}function Ry(e,n){St=null,H.H=Yl,n===Ta||n===xu?(n=qg(),Kt=3):n===ef?(n=qg(),Kt=4):Kt=n===Nf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Tn=n,Rt===null&&(he=1,qu(e,Dn(n,e.current)))}function Cy(){var e=vn.current;return e===null?!0:(It&4194048)===It?kn===null:(It&62914560)===It||(It&536870912)!==0?e===kn:!1}function xy(){var e=H.H;return H.H=Yl,e===null?Yl:e}function Iy(){var e=H.A;return H.A=S1,e}function tc(){he=4,xs||(It&4194048)!==It&&vn.current!==null||(Ia=!0),(Is&134217727)===0&&(Lr&134217727)===0||ee===null||Os(ee,It,bn,!1)}function Wf(e,n,s){var l=Ht;Ht|=2;var h=xy(),f=Iy();(ee!==e||It!==n)&&(Ju=null,Oa(e,n)),n=!1;var g=he;t:do try{if(Kt!==0&&Rt!==null){var E=Rt,C=Tn;switch(Kt){case 8:Jf(),g=6;break t;case 3:case 2:case 9:case 6:vn.current===null&&(n=!0);var j=Kt;if(Kt=0,Tn=null,Ma(e,E,C,j),s&&Ia){g=0;break t}break;default:j=Kt,Kt=0,Tn=null,Ma(e,E,C,j)}}C1(),g=he;break}catch(G){Ry(e,G)}while(!0);return n&&e.shellSuspendCounter++,ji=xr=null,Ht=l,H.H=h,H.A=f,Rt===null&&(ee=null,It=0,Eu()),g}function C1(){for(;Rt!==null;)Ny(Rt)}function x1(e,n){var s=Ht;Ht|=2;var l=xy(),h=Iy();ee!==e||It!==n?(Ju=null,$u=tn()+500,Oa(e,n)):Ia=qn(e,n);t:do try{if(Kt!==0&&Rt!==null){n=Rt;var f=Tn;e:switch(Kt){case 1:Kt=0,Tn=null,Ma(e,n,f,1);break;case 2:case 9:if(zg(f)){Kt=0,Tn=null,Dy(n);break}n=function(){Kt!==2&&Kt!==9||ee!==e||(Kt=7),bi(e)},f.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:zg(f)?(Kt=0,Tn=null,Dy(n)):(Kt=0,Tn=null,Ma(e,n,f,7));break;case 5:var g=null;switch(Rt.tag){case 26:g=Rt.memoizedState;case 5:case 27:var E=Rt;if(g?p_(g):E.stateNode.complete){Kt=0,Tn=null;var C=E.sibling;if(C!==null)Rt=C;else{var j=E.return;j!==null?(Rt=j,ec(j)):Rt=null}break e}}Kt=0,Tn=null,Ma(e,n,f,5);break;case 6:Kt=0,Tn=null,Ma(e,n,f,6);break;case 8:Jf(),he=6;break t;default:throw Error(a(462))}}I1();break}catch(G){Ry(e,G)}while(!0);return ji=xr=null,H.H=l,H.A=h,Ht=s,Rt!==null?0:(ee=null,It=0,Eu(),he)}function I1(){for(;Rt!==null&&!xh();)Ny(Rt)}function Ny(e){var n=ty(e.alternate,e,Xi);e.memoizedProps=e.pendingProps,n===null?ec(e):Rt=n}function Dy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Yp(s,n,n.pendingProps,n.type,void 0,It);break;case 11:n=Yp(s,n,n.pendingProps,n.type.render,n.ref,It);break;case 5:mf(n);default:ny(s,n),n=Rt=Ig(n,Xi),n=ty(s,n,Xi)}e.memoizedProps=e.pendingProps,n===null?ec(e):Rt=n}function Ma(e,n,s,l){ji=xr=null,mf(n),ba=null,zl=0;var h=n.return;try{if(y1(e,h,n,s,It)){he=1,qu(e,Dn(s,e.current)),Rt=null;return}}catch(f){if(h!==null)throw Rt=h,f;he=1,qu(e,Dn(s,e.current)),Rt=null;return}n.flags&32768?(Ut||l===1?e=!0:Ia||(It&536870912)!==0?e=!1:(xs=e=!0,(l===2||l===9||l===3||l===6)&&(l=vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Oy(n,e)):ec(n)}function ec(e){var n=e;do{if((n.flags&32768)!==0){Oy(n,xs);return}e=n.return;var s=E1(n.alternate,n,Xi);if(s!==null){Rt=s;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=e}while(n!==null);he===0&&(he=5)}function Oy(e,n){do{var s=T1(e.alternate,e);if(s!==null){s.flags&=32767,Rt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Rt=e;return}Rt=e=s}while(e!==null);he=6,Rt=null}function My(e,n,s,l,h,f,g,E,C){e.cancelPendingCommit=null;do nc();while(Oe!==0);if((Ht&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=zh,Dh(e,s,f,g,E,C),e===ee&&(Rt=ee=null,It=0),Da=n,Ds=e,Zi=s,Xf=f,Zf=h,by=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,M1(os,function(){return Py(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,h=it.p,it.p=2,g=Ht,Ht|=4;try{b1(e,n,s)}finally{Ht=g,it.p=h,H.T=l}}Oe=1,Vy(),ky(),Uy()}}function Vy(){if(Oe===1){Oe=0;var e=Ds,n=Da,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=H.T,H.T=null;var l=it.p;it.p=2;var h=Ht;Ht|=4;try{my(n,e);var f=hd,g=Eg(e.containerInfo),E=f.focusedElem,C=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&vg(E.ownerDocument.documentElement,E)){if(C!==null&&kh(E)){var j=C.start,G=C.end;if(G===void 0&&(G=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(G,E.value.length);else{var Y=E.ownerDocument||document,z=Y&&Y.defaultView||window;if(z.getSelection){var q=z.getSelection(),lt=E.textContent.length,gt=Math.min(C.start,lt),Wt=C.end===void 0?gt:Math.min(C.end,lt);!q.extend&&gt>Wt&&(g=Wt,Wt=gt,gt=g);var U=_g(E,gt),D=_g(E,Wt);if(U&&D&&(q.rangeCount!==1||q.anchorNode!==U.node||q.anchorOffset!==U.offset||q.focusNode!==D.node||q.focusOffset!==D.offset)){var P=Y.createRange();P.setStart(U.node,U.offset),q.removeAllRanges(),gt>Wt?(q.addRange(P),q.extend(D.node,D.offset)):(P.setEnd(D.node,D.offset),q.addRange(P))}}}}for(Y=[],q=E;q=q.parentNode;)q.nodeType===1&&Y.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}mc=!!cd,hd=cd=null}finally{Ht=h,it.p=l,H.T=s}}e.current=n,Oe=2}}function ky(){if(Oe===2){Oe=0;var e=Ds,n=Da,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=H.T,H.T=null;var l=it.p;it.p=2;var h=Ht;Ht|=4;try{uy(e,n.alternate,n)}finally{Ht=h,it.p=l,H.T=s}}Oe=3}}function Uy(){if(Oe===4||Oe===3){Oe=0,Qo();var e=Ds,n=Da,s=Zi,l=by;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Oe=5:(Oe=0,Da=Ds=null,Ly(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ns=null),Mi(s),n=n.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(Bn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,h=it.p,it.p=2,H.T=null;try{for(var f=e.onRecoverableError,g=0;g<l.length;g++){var E=l[g];f(E.value,{componentStack:E.stack})}}finally{H.T=n,it.p=h}}(Zi&3)!==0&&nc(),bi(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===$f?io++:(io=0,$f=e):io=0,so(0)}}function Ly(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Pl(n)))}function nc(){return Vy(),ky(),Uy(),Py()}function Py(){if(Oe!==5)return!1;var e=Ds,n=Xf;Xf=0;var s=Mi(Zi),l=H.T,h=it.p;try{it.p=32>s?32:s,H.T=null,s=Zf,Zf=null;var f=Ds,g=Zi;if(Oe=0,Da=Ds=null,Zi=0,(Ht&6)!==0)throw Error(a(331));var E=Ht;if(Ht|=4,vy(f.current),py(f,f.current,g,s),Ht=E,so(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(Bn,f)}catch{}return!0}finally{it.p=h,H.T=l,Ly(e,n)}}function jy(e,n,s){n=Dn(s,n),n=If(e.stateNode,n,2),e=Ss(e,n,2),e!==null&&(hr(e,2),bi(e))}function Yt(e,n,s){if(e.tag===3)jy(e,e,s);else for(;n!==null;){if(n.tag===3){jy(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ns===null||!Ns.has(l))){e=Dn(s,e),s=zp(2),l=Ss(n,s,2),l!==null&&(Bp(s,l,n,e),hr(l,2),bi(l));break}}n=n.return}}function td(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new w1;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(Qf=!0,h.add(s),e=N1.bind(null,e,n,s),n.then(e,e))}function N1(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ee===e&&(It&s)===s&&(he===4||he===3&&(It&62914560)===It&&300>tn()-Zu?(Ht&2)===0&&Oa(e,0):Kf|=s,Na===It&&(Na=0)),bi(e)}function zy(e,n){n===0&&(n=Jo()),e=wr(e,n),e!==null&&(hr(e,n),bi(e))}function D1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),zy(e,s)}function O1(e,n){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),zy(e,s)}function M1(e,n){return De(e,n)}var ic=null,Va=null,ed=!1,sc=!1,nd=!1,Ms=0;function bi(e){e!==Va&&e.next===null&&(Va===null?ic=Va=e:Va=Va.next=e),sc=!0,ed||(ed=!0,k1())}function so(e,n){if(!nd&&sc){nd=!0;do for(var s=!1,l=ic;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var g=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-me(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Gy(l,f))}else f=It,f=si(l,l===ee?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||qn(l,f)||(s=!0,Gy(l,f));l=l.next}while(s);nd=!1}}function V1(){By()}function By(){sc=ed=!1;var e=0;Ms!==0&&F1()&&(e=Ms);for(var n=tn(),s=null,l=ic;l!==null;){var h=l.next,f=qy(l,n);f===0?(l.next=null,s===null?ic=h:s.next=h,h===null&&(Va=s)):(s=l,(e!==0||(f&3)!==0)&&(sc=!0)),l=h}Oe!==0&&Oe!==5||so(e),Ms!==0&&(Ms=0)}function qy(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-me(f),E=1<<g,C=h[g];C===-1?((E&s)===0||(E&l)!==0)&&(h[g]=Nh(E,n)):C<=n&&(e.expiredLanes|=E),f&=~E}if(n=ee,s=It,s=si(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&ls(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||qn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&ls(l),Mi(s)){case 2:case 8:s=ml;break;case 32:s=os;break;case 268435456:s=Ko;break;default:s=os}return l=Hy.bind(null,e),s=De(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&ls(l),e.callbackPriority=2,e.callbackNode=null,2}function Hy(e,n){if(Oe!==0&&Oe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(nc()&&e.callbackNode!==s)return null;var l=It;return l=si(e,e===ee?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Sy(e,l,n),qy(e,tn()),e.callbackNode!=null&&e.callbackNode===s?Hy.bind(null,e):null)}function Gy(e,n){if(nc())return null;Sy(e,n,!0)}function k1(){K1(function(){(Ht&6)!==0?De(dl,V1):By()})}function id(){if(Ms===0){var e=va;e===0&&(e=ni,ni<<=1,(ni&261888)===0&&(ni=256)),Ms=e}return Ms}function Fy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:sa(""+e)}function Qy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function U1(e,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var f=Fy((h[ke]||null).action),g=l.submitter;g&&(n=(n=g[ke]||null)?Fy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new gi("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ms!==0){var C=g?Qy(h,g):new FormData(h);Af(s,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=g?Qy(h,g):new FormData(h),Af(s,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var sd=0;sd<jh.length;sd++){var rd=jh[sd],L1=rd.toLowerCase(),P1=rd[0].toUpperCase()+rd.slice(1);Zn(L1,"on"+P1)}Zn(Ag,"onAnimationEnd"),Zn(Sg,"onAnimationIteration"),Zn(wg,"onAnimationStart"),Zn("dblclick","onDoubleClick"),Zn("focusin","onFocus"),Zn("focusout","onBlur"),Zn(t1,"onTransitionRun"),Zn(e1,"onTransitionStart"),Zn(n1,"onTransitionCancel"),Zn(Rg,"onTransitionEnd"),hi("onMouseEnter",["mouseout","mouseover"]),hi("onMouseLeave",["mouseout","mouseover"]),hi("onPointerEnter",["pointerout","pointerover"]),hi("onPointerLeave",["pointerout","pointerover"]),ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ro));function Ky(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var E=l[g],C=E.instance,j=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(G){vu(G)}h.currentTarget=null,f=C}else for(g=0;g<l.length;g++){if(E=l[g],C=E.instance,j=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(G){vu(G)}h.currentTarget=null,f=C}}}}function Ct(e,n){var s=n[Wr];s===void 0&&(s=n[Wr]=new Set);var l=e+"__bubble";s.has(l)||(Yy(n,e,2,!1),s.add(l))}function ad(e,n,s){var l=0;n&&(l|=4),Yy(s,e,l,n)}var rc="_reactListening"+Math.random().toString(36).slice(2);function ld(e){if(!e[rc]){e[rc]=!0,yl.forEach(function(s){s!=="selectionchange"&&(j1.has(s)||ad(s,!1,e),ad(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[rc]||(n[rc]=!0,ad("selectionchange",!1,n))}}function Yy(e,n,s,l){switch(A_(n)){case 2:var h=db;break;case 8:h=mb;break;default:h=bd}s=h.bind(null,n,s,e),h=void 0,!yr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function od(e,n,s,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var E=l.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=l.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=oi(E),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){l=f=g;continue t}E=E.parentNode}}l=l.return}ms(function(){var j=f,G=Cn(s),Y=[];t:{var z=Cg.get(e);if(z!==void 0){var q=gi,lt=e;switch(e){case"keypress":if(vr(s)===0)break t;case"keydown":case"keyup":q=pu;break;case"focusin":lt="focus",q=Tr;break;case"focusout":lt="blur",q=Tr;break;case"beforeblur":case"afterblur":q=Tr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Nl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=lu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case Ag:case Sg:case wg:q=uu;break;case Rg:q=T;break;case"scroll":case"scrollend":q=Il;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=cu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Ui;break;case"toggle":case"beforetoggle":q=At}var gt=(n&4)!==0,Wt=!gt&&(e==="scroll"||e==="scrollend"),U=gt?z!==null?z+"Capture":null:z;gt=[];for(var D=j,P;D!==null;){var Q=D;if(P=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||P===null||U===null||(Q=Qn(D,U),Q!=null&&gt.push(ao(D,Q,P))),Wt)break;D=D.return}0<gt.length&&(z=new q(z,lt,null,s,G),Y.push({event:z,listeners:gt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",z&&s!==Rl&&(lt=s.relatedTarget||s.fromElement)&&(oi(lt)||lt[ai]))break t;if((q||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,q?(lt=s.relatedTarget||s.toElement,q=j,lt=lt?oi(lt):null,lt!==null&&(Wt=c(lt),gt=lt.tag,lt!==Wt||gt!==5&&gt!==27&&gt!==6)&&(lt=null)):(q=null,lt=j),q!==lt)){if(gt=Nl,Q="onMouseLeave",U="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(gt=Ui,Q="onPointerLeave",U="onPointerEnter",D="pointer"),Wt=q==null?z:gn(q),P=lt==null?z:gn(lt),z=new gt(Q,D+"leave",q,s,G),z.target=Wt,z.relatedTarget=P,Q=null,oi(G)===j&&(gt=new gt(U,D+"enter",lt,s,G),gt.target=P,gt.relatedTarget=Wt,Q=gt),Wt=Q,q&&lt)e:{for(gt=z1,U=q,D=lt,P=0,Q=U;Q;Q=gt(Q))P++;Q=0;for(var ht=D;ht;ht=gt(ht))Q++;for(;0<P-Q;)U=gt(U),P--;for(;0<Q-P;)D=gt(D),Q--;for(;P--;){if(U===D||D!==null&&U===D.alternate){gt=U;break e}U=gt(U),D=gt(D)}gt=null}else gt=null;q!==null&&Xy(Y,z,q,gt,!1),lt!==null&&Wt!==null&&Xy(Y,Wt,lt,gt,!0)}}t:{if(z=j?gn(j):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var jt=fg;else if(cg(z))if(dg)jt=$T;else{jt=XT;var ot=YT}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&ia(j.elementType)&&(jt=fg):jt=ZT;if(jt&&(jt=jt(e,j))){hg(Y,jt,s,G);break t}ot&&ot(e,z,j),e==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&Al(z,"number",z.value)}switch(ot=j?gn(j):window,e){case"focusin":(cg(ot)||ot.contentEditable==="true")&&(ha=ot,Uh=j,kl=null);break;case"focusout":kl=Uh=ha=null;break;case"mousedown":Lh=!0;break;case"contextmenu":case"mouseup":case"dragend":Lh=!1,Tg(Y,s,G);break;case"selectionchange":if(WT)break;case"keydown":case"keyup":Tg(Y,s,G)}var wt;if(qt)t:{switch(e){case"compositionstart":var Nt="onCompositionStart";break t;case"compositionend":Nt="onCompositionEnd";break t;case"compositionupdate":Nt="onCompositionUpdate";break t}Nt=void 0}else ca?br(e,s)&&(Nt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Nt="onCompositionStart");Nt&&(_i&&s.locale!=="ko"&&(ca||Nt!=="onCompositionStart"?Nt==="onCompositionEnd"&&ca&&(wt=xl()):(mi=G,Cl="value"in mi?mi.value:mi.textContent,ca=!0)),ot=ac(j,Nt),0<ot.length&&(Nt=new yi(Nt,e,null,s,G),Y.push({event:Nt,listeners:ot}),wt?Nt.data=wt:(wt=ua(s),wt!==null&&(Nt.data=wt)))),(wt=In?GT(e,s):FT(e,s))&&(Nt=ac(j,"onBeforeInput"),0<Nt.length&&(ot=new yi("onBeforeInput","beforeinput",null,s,G),Y.push({event:ot,listeners:Nt}),ot.data=wt)),U1(Y,e,j,s,G)}Ky(Y,n)})}function ao(e,n,s){return{instance:e,listener:n,currentTarget:s}}function ac(e,n){for(var s=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Qn(e,s),h!=null&&l.unshift(ao(e,h,f)),h=Qn(e,n),h!=null&&l.push(ao(e,h,f))),e.tag===3)return l;e=e.return}return[]}function z1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Xy(e,n,s,l,h){for(var f=n._reactName,g=[];s!==null&&s!==l;){var E=s,C=E.alternate,j=E.stateNode;if(E=E.tag,C!==null&&C===l)break;E!==5&&E!==26&&E!==27||j===null||(C=j,h?(j=Qn(s,f),j!=null&&g.unshift(ao(s,j,C))):h||(j=Qn(s,f),j!=null&&g.push(ao(s,j,C)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var B1=/\r\n?/g,q1=/\u0000|\uFFFD/g;function Zy(e){return(typeof e=="string"?e:""+e).replace(B1,`
`).replace(q1,"")}function $y(e,n){return n=Zy(n),Zy(e)===n}function Jt(e,n,s,l,h,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||an(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&an(e,""+l);break;case"className":pn(e,"class",l);break;case"tabIndex":pn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":pn(e,s,l);break;case"style":wl(e,l,f);break;case"data":if(n!=="object"){pn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=sa(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Jt(e,n,"name",h.name,h,null),Jt(e,n,"formEncType",h.formEncType,h,null),Jt(e,n,"formMethod",h.formMethod,h,null),Jt(e,n,"formTarget",h.formTarget,h,null)):(Jt(e,n,"encType",h.encType,h,null),Jt(e,n,"method",h.method,h,null),Jt(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=sa(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=Fn);break;case"onScroll":l!=null&&Ct("scroll",e);break;case"onScrollEnd":l!=null&&Ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=sa(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Ct("beforetoggle",e),Ct("toggle",e),ea(e,"popover",l);break;case"xlinkActuate":Ae(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ae(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ae(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ae(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ae(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ae(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ea(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=au.get(s)||s,ea(e,s,l))}}function ud(e,n,s,l,h,f){switch(s){case"style":wl(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?an(e,l):(typeof l=="number"||typeof l=="bigint")&&an(e,""+l);break;case"onScroll":l!=null&&Ct("scroll",e);break;case"onScrollEnd":l!=null&&Ct("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_l.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[ke]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,h);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):ea(e,s,l)}}}function Ge(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",e),Ct("load",e);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Jt(e,n,f,g,s,null)}}h&&Jt(e,n,"srcSet",s.srcSet,s,null),l&&Jt(e,n,"src",s.src,s,null);return;case"input":Ct("invalid",e);var E=f=g=h=null,C=null,j=null;for(l in s)if(s.hasOwnProperty(l)){var G=s[l];if(G!=null)switch(l){case"name":h=G;break;case"type":g=G;break;case"checked":C=G;break;case"defaultChecked":j=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:Jt(e,n,l,G,s,null)}}iu(e,f,E,C,j,g,h,!1);return;case"select":Ct("invalid",e),l=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":l=E;default:Jt(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!l,n!=null?cs(e,!!l,n,!1):s!=null&&cs(e,!!l,s,!0);return;case"textarea":Ct("invalid",e),f=h=l=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":l=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Jt(e,n,g,E,s,null)}hs(e,l,h,f);return;case"option":for(C in s)s.hasOwnProperty(C)&&(l=s[C],l!=null)&&(C==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Jt(e,n,C,l,s,null));return;case"dialog":Ct("beforetoggle",e),Ct("toggle",e),Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":Ct("load",e);break;case"video":case"audio":for(l=0;l<ro.length;l++)Ct(ro[l],e);break;case"image":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"embed":case"source":case"link":Ct("error",e),Ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in s)if(s.hasOwnProperty(j)&&(l=s[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Jt(e,n,j,l,s,null)}return;default:if(ia(n)){for(G in s)s.hasOwnProperty(G)&&(l=s[G],l!==void 0&&ud(e,n,G,l,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(l=s[E],l!=null&&Jt(e,n,E,l,s,null))}function H1(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,C=null,j=null,G=null;for(q in s){var Y=s[q];if(s.hasOwnProperty(q)&&Y!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":C=Y;default:l.hasOwnProperty(q)||Jt(e,n,q,null,l,Y)}}for(var z in l){var q=l[z];if(Y=s[z],l.hasOwnProperty(z)&&(q!=null||Y!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":j=q;break;case"defaultChecked":G=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==Y&&Jt(e,n,z,q,l,Y)}}na(e,g,E,C,j,G,f,h);return;case"select":q=g=E=z=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":q=C;default:l.hasOwnProperty(f)||Jt(e,n,f,null,l,C)}for(h in l)if(f=l[h],C=s[h],l.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==C&&Jt(e,n,h,f,l,C)}n=E,s=g,l=q,z!=null?cs(e,!!s,z,!1):!!l!=!!s&&(n!=null?cs(e,!!s,n,!0):cs(e,!!s,s?[]:"",!1));return;case"textarea":q=z=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Jt(e,n,E,null,l,h)}for(g in l)if(h=l[g],f=s[g],l.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Jt(e,n,g,h,l,f)}su(e,z,q);return;case"option":for(var lt in s)z=s[lt],s.hasOwnProperty(lt)&&z!=null&&!l.hasOwnProperty(lt)&&(lt==="selected"?e.selected=!1:Jt(e,n,lt,null,l,z));for(C in l)z=l[C],q=s[C],l.hasOwnProperty(C)&&z!==q&&(z!=null||q!=null)&&(C==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":Jt(e,n,C,z,l,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in s)z=s[gt],s.hasOwnProperty(gt)&&z!=null&&!l.hasOwnProperty(gt)&&Jt(e,n,gt,null,l,z);for(j in l)if(z=l[j],q=s[j],l.hasOwnProperty(j)&&z!==q&&(z!=null||q!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:Jt(e,n,j,z,l,q)}return;default:if(ia(n)){for(var Wt in s)z=s[Wt],s.hasOwnProperty(Wt)&&z!==void 0&&!l.hasOwnProperty(Wt)&&ud(e,n,Wt,void 0,l,z);for(G in l)z=l[G],q=s[G],!l.hasOwnProperty(G)||z===q||z===void 0&&q===void 0||ud(e,n,G,z,l,q);return}}for(var U in s)z=s[U],s.hasOwnProperty(U)&&z!=null&&!l.hasOwnProperty(U)&&Jt(e,n,U,null,l,z);for(Y in l)z=l[Y],q=s[Y],!l.hasOwnProperty(Y)||z===q||z==null&&q==null||Jt(e,n,Y,z,l,q)}function Jy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function G1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&Jy(g)){for(g=0,E=h.responseEnd,l+=1;l<s.length;l++){var C=s[l],j=C.startTime;if(j>E)break;var G=C.transferSize,Y=C.initiatorType;G&&Jy(Y)&&(C=C.responseEnd,g+=G*(C<E?1:(E-j)/(C-j)))}if(--l,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var cd=null,hd=null;function lc(e){return e.nodeType===9?e:e.ownerDocument}function Wy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function t_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function fd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var dd=null;function F1(){var e=window.event;return e&&e.type==="popstate"?e===dd?!1:(dd=e,!0):(dd=null,!1)}var e_=typeof setTimeout=="function"?setTimeout:void 0,Q1=typeof clearTimeout=="function"?clearTimeout:void 0,n_=typeof Promise=="function"?Promise:void 0,K1=typeof queueMicrotask=="function"?queueMicrotask:typeof n_<"u"?function(e){return n_.resolve(null).then(e).catch(Y1)}:e_;function Y1(e){setTimeout(function(){throw e})}function Vs(e){return e==="head"}function i_(e,n){var s=n,l=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(h),Pa(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")lo(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,lo(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[li]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&lo(e.ownerDocument.body);s=h}while(s);Pa(n)}function s_(e,n){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function md(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":md(s),ta(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function X1(e,n,s,l){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[li])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Un(e.nextSibling),e===null)break}return null}function Z1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Un(e.nextSibling),e===null))return null;return e}function r_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Un(e.nextSibling),e===null))return null;return e}function gd(e){return e.data==="$?"||e.data==="$~"}function pd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function $1(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Un(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var yd=null;function a_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Un(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function l_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function o_(e,n,s){switch(n=lc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function lo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ta(e)}var Ln=new Map,u_=new Set;function oc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var $i=it.d;it.d={f:J1,r:W1,D:tb,C:eb,L:nb,m:ib,X:rb,S:sb,M:ab};function J1(){var e=$i.f(),n=Wu();return e||n}function W1(e){var n=Rn(e);n!==null&&n.tag===5&&n.type==="form"?Rp(n):$i.r(e)}var ka=typeof document>"u"?null:document;function c_(e,n,s){var l=ka;if(l&&typeof n=="string"&&n){var h=rn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),u_.has(h)||(u_.add(h),e={rel:e,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Ge(n,"link",e),be(n),l.head.appendChild(n)))}}function tb(e){$i.D(e),c_("dns-prefetch",e,null)}function eb(e,n){$i.C(e,n),c_("preconnect",e,n)}function nb(e,n,s){$i.L(e,n,s);var l=ka;if(l&&e&&n){var h='link[rel="preload"][as="'+rn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+rn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+rn(s.imageSizes)+'"]')):h+='[href="'+rn(e)+'"]';var f=h;switch(n){case"style":f=Ua(e);break;case"script":f=La(e)}Ln.has(f)||(e=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Ln.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(oo(f))||n==="script"&&l.querySelector(uo(f))||(n=l.createElement("link"),Ge(n,"link",e),be(n),l.head.appendChild(n)))}}function ib(e,n){$i.m(e,n);var s=ka;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+rn(l)+'"][href="'+rn(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=La(e)}if(!Ln.has(f)&&(e=S({rel:"modulepreload",href:e},n),Ln.set(f,e),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(uo(f)))return}l=s.createElement("link"),Ge(l,"link",e),be(l),s.head.appendChild(l)}}}function sb(e,n,s){$i.S(e,n,s);var l=ka;if(l&&e){var h=ui(l).hoistableStyles,f=Ua(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=l.querySelector(oo(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Ln.get(f))&&_d(e,s);var C=g=l.createElement("link");be(C),Ge(C,"link",e),C._p=new Promise(function(j,G){C.onload=j,C.onerror=G}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,uc(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function rb(e,n){$i.X(e,n);var s=ka;if(s&&e){var l=ui(s).hoistableScripts,h=La(e),f=l.get(h);f||(f=s.querySelector(uo(h)),f||(e=S({src:e,async:!0},n),(n=Ln.get(h))&&vd(e,n),f=s.createElement("script"),be(f),Ge(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function ab(e,n){$i.M(e,n);var s=ka;if(s&&e){var l=ui(s).hoistableScripts,h=La(e),f=l.get(h);f||(f=s.querySelector(uo(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Ln.get(h))&&vd(e,n),f=s.createElement("script"),be(f),Ge(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function h_(e,n,s,l){var h=(h=rt.current)?oc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Ua(s.href),s=ui(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Ua(s.href);var f=ui(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(oo(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Ln.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Ln.set(e,s),f||lb(h,e,s,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=La(s),s=ui(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ua(e){return'href="'+rn(e)+'"'}function oo(e){return'link[rel="stylesheet"]['+e+"]"}function f_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function lb(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ge(n,"link",s),be(n),e.head.appendChild(n))}function La(e){return'[src="'+rn(e)+'"]'}function uo(e){return"script[async]"+e}function d_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+rn(s.href)+'"]');if(l)return n.instance=l,be(l),l;var h=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),be(l),Ge(l,"style",h),uc(l,s.precedence,e),n.instance=l;case"stylesheet":h=Ua(s.href);var f=e.querySelector(oo(h));if(f)return n.state.loading|=4,n.instance=f,be(f),f;l=f_(s),(h=Ln.get(h))&&_d(l,h),f=(e.ownerDocument||e).createElement("link"),be(f);var g=f;return g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),Ge(f,"link",l),n.state.loading|=4,uc(f,s.precedence,e),n.instance=f;case"script":return f=La(s.src),(h=e.querySelector(uo(f)))?(n.instance=h,be(h),h):(l=s,(h=Ln.get(f))&&(l=S({},s),vd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),be(h),Ge(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,uc(l,s.precedence,e));return n.instance}function uc(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,g=0;g<l.length;g++){var E=l[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function _d(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function vd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var cc=null;function m_(e,n,s){if(cc===null){var l=new Map,h=cc=new Map;h.set(s,l)}else h=cc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[li]||f[Te]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=l.get(g);E?E.push(f):l.set(g,[f])}}return l}function g_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function ob(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function p_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function ub(e,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Ua(l.href),f=n.querySelector(oo(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=hc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,be(f);return}f=n.ownerDocument||n,l=f_(l),(h=Ln.get(h))&&_d(l,h),f=f.createElement("link"),be(f);var g=f;g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),Ge(f,"link",l),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=hc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Ed=0;function cb(e,n){return e.stylesheets&&e.count===0&&dc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&dc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Ed===0&&(Ed=62500*G1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&dc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Ed?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function hc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)dc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var fc=null;function dc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,fc=new Map,n.forEach(hb,e),fc=null,hc.call(e))}function hb(e,n){if(!(n.state.loading&4)){var s=fc.get(e);if(s)var l=s.get(null);else{s=new Map,fc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||l,f===l&&s.set(null,h),s.set(g,h),this.count++,l=hc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var co={$$typeof:pt,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function fb(e,n,s,l,h,f,g,E,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.hiddenUpdates=ri(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function y_(e,n,s,l,h,f,g,E,C,j,G,Y){return e=new fb(e,n,s,g,C,j,G,Y,E),n=1,f===!0&&(n|=24),f=_n(3,null,null,n),e.current=f,f.stateNode=e,n=Jh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},nf(f),e}function __(e){return e?(e=ma,e):ma}function v_(e,n,s,l,h,f){h=__(h),l.context===null?l.context=h:l.pendingContext=h,l=As(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Ss(e,l,n),s!==null&&(hn(s,e,n),ql(s,e,n))}function E_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Td(e,n){E_(e,n),(e=e.alternate)&&E_(e,n)}function T_(e){if(e.tag===13||e.tag===31){var n=wr(e,67108864);n!==null&&hn(n,e,67108864),Td(e,67108864)}}function b_(e){if(e.tag===13||e.tag===31){var n=An();n=dr(n);var s=wr(e,n);s!==null&&hn(s,e,n),Td(e,n)}}var mc=!0;function db(e,n,s,l){var h=H.T;H.T=null;var f=it.p;try{it.p=2,bd(e,n,s,l)}finally{it.p=f,H.T=h}}function mb(e,n,s,l){var h=H.T;H.T=null;var f=it.p;try{it.p=8,bd(e,n,s,l)}finally{it.p=f,H.T=h}}function bd(e,n,s,l){if(mc){var h=Ad(l);if(h===null)od(e,n,l,gc,s),S_(e,l);else if(pb(h,e,n,s,l))l.stopPropagation();else if(S_(e,l),n&4&&-1<gb.indexOf(e)){for(;h!==null;){var f=Rn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ii(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var C=1<<31-me(g);E.entanglements[1]|=C,g&=~C}bi(f),(Ht&6)===0&&($u=tn()+500,so(0))}}break;case 31:case 13:E=wr(f,2),E!==null&&hn(E,f,2),Wu(),Td(f,2)}if(f=Ad(l),f===null&&od(e,n,l,gc,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else od(e,n,l,null,s)}}function Ad(e){return e=Cn(e),Sd(e)}var gc=null;function Sd(e){if(gc=null,e=oi(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return gc=e,null}function A_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ur()){case dl:return 2;case ml:return 8;case os:case Ih:return 32;case Ko:return 268435456;default:return 32}default:return 32}}var wd=!1,ks=null,Us=null,Ls=null,ho=new Map,fo=new Map,Ps=[],gb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function S_(e,n){switch(e){case"focusin":case"focusout":ks=null;break;case"dragenter":case"dragleave":Us=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":ho.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":fo.delete(n.pointerId)}}function mo(e,n,s,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Rn(n),n!==null&&T_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function pb(e,n,s,l,h){switch(n){case"focusin":return ks=mo(ks,e,n,s,l,h),!0;case"dragenter":return Us=mo(Us,e,n,s,l,h),!0;case"mouseover":return Ls=mo(Ls,e,n,s,l,h),!0;case"pointerover":var f=h.pointerId;return ho.set(f,mo(ho.get(f)||null,e,n,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,fo.set(f,mo(fo.get(f)||null,e,n,s,l,h)),!0}return!1}function w_(e){var n=oi(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Hn(e.priority,function(){b_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,Hn(e.priority,function(){b_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Ad(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Rl=l,s.target.dispatchEvent(l),Rl=null}else return n=Rn(s),n!==null&&T_(n),e.blockedOn=s,!1;n.shift()}return!0}function R_(e,n,s){pc(e)&&s.delete(n)}function yb(){wd=!1,ks!==null&&pc(ks)&&(ks=null),Us!==null&&pc(Us)&&(Us=null),Ls!==null&&pc(Ls)&&(Ls=null),ho.forEach(R_),fo.forEach(R_)}function yc(e,n){e.blockedOn===n&&(e.blockedOn=null,wd||(wd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,yb)))}var _c=null;function C_(e){_c!==e&&(_c=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){_c===e&&(_c=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(Sd(l||s)===null)continue;break}var f=Rn(s);f!==null&&(e.splice(n,3),n-=3,Af(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function Pa(e){function n(C){return yc(C,e)}ks!==null&&yc(ks,e),Us!==null&&yc(Us,e),Ls!==null&&yc(Ls,e),ho.forEach(n),fo.forEach(n);for(var s=0;s<Ps.length;s++){var l=Ps[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ps.length&&(s=Ps[0],s.blockedOn===null);)w_(s),s.blockedOn===null&&Ps.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],g=h[ke]||null;if(typeof f=="function")g||C_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[ke]||null)E=g.formAction;else if(Sd(h)!==null)continue}else E=g.action;typeof E=="function"?s[l+1]=E:(s.splice(l,3),l-=3),C_(s)}}}function x_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Rd(e){this._internalRoot=e}vc.prototype.render=Rd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=An();v_(s,l,e,n,null,null)},vc.prototype.unmount=Rd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;v_(e.current,2,null,e,null,null),Wu(),n[ai]=null}};function vc(e){this._internalRoot=e}vc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Wo();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Ps.length&&n!==0&&n<Ps[s].priority;s++);Ps.splice(s,0,e),s===0&&w_(e)}};var I_=t.version;if(I_!=="19.2.3")throw Error(a(527,I_,"19.2.3"));it.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var _b={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ec.isDisabled&&Ec.supportsFiber)try{Bn=Ec.inject(_b),je=Ec}catch{}}return po.createRoot=function(e,n){if(!o(e))throw Error(a(299));var s=!1,l="",h=Up,f=Lp,g=Pp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=y_(e,1,!1,null,null,s,l,null,h,f,g,x_),e[ai]=n.current,ld(e),new Rd(n)},po.hydrateRoot=function(e,n,s){if(!o(e))throw Error(a(299));var l=!1,h="",f=Up,g=Lp,E=Pp,C=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=y_(e,1,!0,n,s??null,l,h,C,f,g,E,x_),n.context=__(null),s=n.current,l=An(),l=dr(l),h=As(l),h.callback=null,Ss(s,h,l),s=l,n.current.lanes=s,hr(n,s),bi(n),e[ai]=n.current,ld(e),new vc(n)},po.version="19.2.3",po}var j_;function Ib(){if(j_)return Id.exports;j_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Id.exports=xb(),Id.exports}var Nb=Ib();const Db=g0(Nb),Ob=()=>{};var z_={};const p0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},Mb=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];t[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],p=r[i++],_=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(_>>10)),t[a++]=String.fromCharCode(56320+(_&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return t.join("")},y0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,p=d?r[o+1]:0,_=o+2<r.length,y=_?r[o+2]:0,b=c>>2,S=(c&3)<<4|p>>4;let M=(p&15)<<2|y>>6,F=y&63;_||(F=64,d||(M=64)),a.push(i[b],i[S],i[M],i[F])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(p0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):Mb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],p=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const S=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||p==null||y==null||S==null)throw new Vb;const M=c<<2|p>>4;if(a.push(M),y!==64){const F=p<<4&240|y>>2;if(a.push(F),S!==64){const tt=y<<6&192|S;a.push(tt)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Vb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kb=function(r){const t=p0(r);return y0.encodeByteArray(t,!0)},Pc=function(r){return kb(r).replace(/\./g,"")},_0=function(r){try{return y0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Ub(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Lb=()=>Ub().__FIREBASE_DEFAULTS__,Pb=()=>{if(typeof process>"u"||typeof z_>"u")return;const r=z_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},jb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&_0(r[1]);return t&&JSON.parse(t)},sh=()=>{try{return Ob()||Lb()||Pb()||jb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},v0=r=>sh()?.emulatorHosts?.[r],zb=r=>{const t=v0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},E0=()=>sh()?.config,T0=r=>sh()?.[`_${r}`];class Bb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function il(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function b0(r){return(await fetch(r,{credentials:"include"})).ok}function qb(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Pc(JSON.stringify(i)),Pc(JSON.stringify(d)),""].join(".")}const bo={};function Hb(){const r={prod:[],emulator:[]};for(const t of Object.keys(bo))bo[t]?r.emulator.push(t):r.prod.push(t);return r}function Gb(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let B_=!1;function A0(r,t){if(typeof window>"u"||typeof document>"u"||!il(window.location.host)||bo[r]===t||bo[r]||B_)return;bo[r]=t;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=Hb().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function _(M,F){M.setAttribute("width","24"),M.setAttribute("id",F),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function y(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{B_=!0,d()},M}function b(M,F){M.setAttribute("id",F),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function S(){const M=Gb(a),F=i("text"),tt=document.getElementById(F)||document.createElement("span"),nt=i("learnmore"),J=document.getElementById(nt)||document.createElement("a"),ft=i("preprendIcon"),Et=document.getElementById(ft)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const pt=M.element;p(pt),b(J,nt);const xt=y();_(Et,ft),pt.append(Et,tt,J,xt),document.body.appendChild(pt)}c?(tt.innerText="Preview backend disconnected.",Et.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Et.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,tt.innerText="Preview backend running in this workspace."),tt.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function We(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Fb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function Qb(){const r=sh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Kb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Yb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Xb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Zb(){const r=We();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function $b(){return!Qb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Jb(){try{return typeof indexedDB=="object"}catch{return!1}}function Wb(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const tA="FirebaseError";class as extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=tA,Object.setPrototypeOf(this,as.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ko.prototype.create)}}class ko{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?eA(c,a):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new as(o,p,a)}}function eA(r,t){return r.replace(nA,(i,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const nA=/\{\$([^}]+)}/g;function iA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Js(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const o of i){if(!a.includes(o))return!1;const c=r[o],d=t[o];if(q_(c)&&q_(d)){if(!Js(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function q_(r){return r!==null&&typeof r=="object"}function Uo(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function sA(r,t){const i=new rA(r,t);return i.subscribe.bind(i)}class rA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let o;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");aA(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:a},o.next===void 0&&(o.next=Md),o.error===void 0&&(o.error=Md),o.complete===void 0&&(o.complete=Md);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aA(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Md(){}function sn(r){return r&&r._delegate?r._delegate:r}class qr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Pr="[DEFAULT]";class lA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new Bb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(uA(t))try{this.getOrInitializeService({instanceIdentifier:Pr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(t=Pr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Pr){return this.instances.has(t)}getOptions(t=Pr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(o)}return o}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(t),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&t(c,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:oA(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Pr){return this.component?this.component.multipleInstances?t:Pr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oA(r){return r===Pr?void 0:r}function uA(r){return r.instantiationMode==="EAGER"}class cA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new lA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Dt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Dt||(Dt={}));const hA={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},fA=Dt.INFO,dA={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},mA=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),o=dA[t];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Tm{constructor(t){this.name=t,this._logLevel=fA,this._logHandler=mA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?hA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...t),this._logHandler(this,Dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...t),this._logHandler(this,Dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...t),this._logHandler(this,Dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...t),this._logHandler(this,Dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...t),this._logHandler(this,Dt.ERROR,...t)}}const gA=(r,t)=>t.some(i=>r instanceof i);let H_,G_;function pA(){return H_||(H_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yA(){return G_||(G_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const S0=new WeakMap,Yd=new WeakMap,w0=new WeakMap,Vd=new WeakMap,bm=new WeakMap;function _A(r){const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Qs(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&S0.set(i,r)}).catch(()=>{}),bm.set(t,r),t}function vA(r){if(Yd.has(r))return;const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Yd.set(r,t)}let Xd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Yd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||w0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Qs(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function EA(r){Xd=r(Xd)}function TA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(kd(this),t,...i);return w0.set(a,t.sort?t.sort():[t]),Qs(a)}:yA().includes(r)?function(...t){return r.apply(kd(this),t),Qs(S0.get(this))}:function(...t){return Qs(r.apply(kd(this),t))}}function bA(r){return typeof r=="function"?TA(r):(r instanceof IDBTransaction&&vA(r),gA(r,pA())?new Proxy(r,Xd):r)}function Qs(r){if(r instanceof IDBRequest)return _A(r);if(Vd.has(r))return Vd.get(r);const t=bA(r);return t!==r&&(Vd.set(r,t),bm.set(t,r)),t}const kd=r=>bm.get(r);function AA(r,t,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(r,t),p=Qs(d);return a&&d.addEventListener("upgradeneeded",_=>{a(Qs(d.result),_.oldVersion,_.newVersion,Qs(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),o&&_.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const SA=["get","getKey","getAll","getAllKeys","count"],wA=["put","add","delete","clear"],Ud=new Map;function F_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Ud.get(t))return Ud.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,o=wA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||SA.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,o?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),o&&_.done]))[0]};return Ud.set(t,c),c}EA(r=>({...r,get:(t,i,a)=>F_(t,i)||r.get(t,i,a),has:(t,i)=>!!F_(t,i)||r.has(t,i)}));class RA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(CA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function CA(r){return r.getComponent()?.type==="VERSION"}const Zd="@firebase/app",Q_="0.14.6";const es=new Tm("@firebase/app"),xA="@firebase/app-compat",IA="@firebase/analytics-compat",NA="@firebase/analytics",DA="@firebase/app-check-compat",OA="@firebase/app-check",MA="@firebase/auth",VA="@firebase/auth-compat",kA="@firebase/database",UA="@firebase/data-connect",LA="@firebase/database-compat",PA="@firebase/functions",jA="@firebase/functions-compat",zA="@firebase/installations",BA="@firebase/installations-compat",qA="@firebase/messaging",HA="@firebase/messaging-compat",GA="@firebase/performance",FA="@firebase/performance-compat",QA="@firebase/remote-config",KA="@firebase/remote-config-compat",YA="@firebase/storage",XA="@firebase/storage-compat",ZA="@firebase/firestore",$A="@firebase/ai",JA="@firebase/firestore-compat",WA="firebase",tS="12.6.0";const $d="[DEFAULT]",eS={[Zd]:"fire-core",[xA]:"fire-core-compat",[NA]:"fire-analytics",[IA]:"fire-analytics-compat",[OA]:"fire-app-check",[DA]:"fire-app-check-compat",[MA]:"fire-auth",[VA]:"fire-auth-compat",[kA]:"fire-rtdb",[UA]:"fire-data-connect",[LA]:"fire-rtdb-compat",[PA]:"fire-fn",[jA]:"fire-fn-compat",[zA]:"fire-iid",[BA]:"fire-iid-compat",[qA]:"fire-fcm",[HA]:"fire-fcm-compat",[GA]:"fire-perf",[FA]:"fire-perf-compat",[QA]:"fire-rc",[KA]:"fire-rc-compat",[YA]:"fire-gcs",[XA]:"fire-gcs-compat",[ZA]:"fire-fst",[JA]:"fire-fst-compat",[$A]:"fire-vertex","fire-js":"fire-js",[WA]:"fire-js-all"};const jc=new Map,nS=new Map,Jd=new Map;function K_(r,t){try{r.container.addComponent(t)}catch(i){es.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Xa(r){const t=r.name;if(Jd.has(t))return es.debug(`There were multiple attempts to register component ${t}.`),!1;Jd.set(t,r);for(const i of jc.values())K_(i,r);for(const i of nS.values())K_(i,r);return!0}function Am(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Wn(r){return r==null?!1:r.settings!==void 0}const iS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ks=new ko("app","Firebase",iS);class sS{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new qr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ks.create("app-deleted",{appName:this._name})}}const sl=tS;function R0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:$d,automaticDataCollectionEnabled:!0,...t},o=a.name;if(typeof o!="string"||!o)throw Ks.create("bad-app-name",{appName:String(o)});if(i||(i=E0()),!i)throw Ks.create("no-options");const c=jc.get(o);if(c){if(Js(i,c.options)&&Js(a,c.config))return c;throw Ks.create("duplicate-app",{appName:o})}const d=new cA(o);for(const _ of Jd.values())d.addComponent(_);const p=new sS(i,a,d);return jc.set(o,p),p}function C0(r=$d){const t=jc.get(r);if(!t&&r===$d&&E0())return R0();if(!t)throw Ks.create("no-app",{appName:r});return t}function Ys(r,t,i){let a=eS[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${t}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),es.warn(d.join(" "));return}Xa(new qr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const rS="firebase-heartbeat-database",aS=1,xo="firebase-heartbeat-store";let Ld=null;function x0(){return Ld||(Ld=AA(rS,aS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(xo)}catch(i){console.warn(i)}}}}).catch(r=>{throw Ks.create("idb-open",{originalErrorMessage:r.message})})),Ld}async function lS(r){try{const i=(await x0()).transaction(xo),a=await i.objectStore(xo).get(I0(r));return await i.done,a}catch(t){if(t instanceof as)es.warn(t.message);else{const i=Ks.create("idb-get",{originalErrorMessage:t?.message});es.warn(i.message)}}}async function Y_(r,t){try{const a=(await x0()).transaction(xo,"readwrite");await a.objectStore(xo).put(t,I0(r)),await a.done}catch(i){if(i instanceof as)es.warn(i.message);else{const a=Ks.create("idb-set",{originalErrorMessage:i?.message});es.warn(a.message)}}}function I0(r){return`${r.name}!${r.options.appId}`}const oS=1024,uS=30;class cS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new fS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=X_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>uS){const o=dS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){es.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=X_(),{heartbeatsToSend:i,unsentEntries:a}=hS(this._heartbeatsCache.heartbeats),o=Pc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return es.warn(t),""}}}function X_(){return new Date().toISOString().substring(0,10)}function hS(r,t=oS){const i=[];let a=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),Z_(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Z_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class fS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Jb()?Wb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await lS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Y_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return Y_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function Z_(r){return Pc(JSON.stringify({version:2,heartbeats:r})).length}function dS(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function mS(r){Xa(new qr("platform-logger",t=>new RA(t),"PRIVATE")),Xa(new qr("heartbeat",t=>new cS(t),"PRIVATE")),Ys(Zd,Q_,r),Ys(Zd,Q_,"esm2020"),Ys("fire-js","")}mS("");var gS="firebase",pS="12.7.0";Ys(gS,pS,"app");var $_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Xs,N0;(function(){var r;function t(I,w){function x(){}x.prototype=w.prototype,I.F=w.prototype,I.prototype=new x,I.prototype.constructor=I,I.D=function(V,N,k){for(var R=Array(arguments.length-2),ne=2;ne<arguments.length;ne++)R[ne-2]=arguments[ne];return w.prototype[N].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,w,x){x||(x=0);const V=Array(16);if(typeof w=="string")for(var N=0;N<16;++N)V[N]=w.charCodeAt(x++)|w.charCodeAt(x++)<<8|w.charCodeAt(x++)<<16|w.charCodeAt(x++)<<24;else for(N=0;N<16;++N)V[N]=w[x++]|w[x++]<<8|w[x++]<<16|w[x++]<<24;w=I.g[0],x=I.g[1],N=I.g[2];let k=I.g[3],R;R=w+(k^x&(N^k))+V[0]+3614090360&4294967295,w=x+(R<<7&4294967295|R>>>25),R=k+(N^w&(x^N))+V[1]+3905402710&4294967295,k=w+(R<<12&4294967295|R>>>20),R=N+(x^k&(w^x))+V[2]+606105819&4294967295,N=k+(R<<17&4294967295|R>>>15),R=x+(w^N&(k^w))+V[3]+3250441966&4294967295,x=N+(R<<22&4294967295|R>>>10),R=w+(k^x&(N^k))+V[4]+4118548399&4294967295,w=x+(R<<7&4294967295|R>>>25),R=k+(N^w&(x^N))+V[5]+1200080426&4294967295,k=w+(R<<12&4294967295|R>>>20),R=N+(x^k&(w^x))+V[6]+2821735955&4294967295,N=k+(R<<17&4294967295|R>>>15),R=x+(w^N&(k^w))+V[7]+4249261313&4294967295,x=N+(R<<22&4294967295|R>>>10),R=w+(k^x&(N^k))+V[8]+1770035416&4294967295,w=x+(R<<7&4294967295|R>>>25),R=k+(N^w&(x^N))+V[9]+2336552879&4294967295,k=w+(R<<12&4294967295|R>>>20),R=N+(x^k&(w^x))+V[10]+4294925233&4294967295,N=k+(R<<17&4294967295|R>>>15),R=x+(w^N&(k^w))+V[11]+2304563134&4294967295,x=N+(R<<22&4294967295|R>>>10),R=w+(k^x&(N^k))+V[12]+1804603682&4294967295,w=x+(R<<7&4294967295|R>>>25),R=k+(N^w&(x^N))+V[13]+4254626195&4294967295,k=w+(R<<12&4294967295|R>>>20),R=N+(x^k&(w^x))+V[14]+2792965006&4294967295,N=k+(R<<17&4294967295|R>>>15),R=x+(w^N&(k^w))+V[15]+1236535329&4294967295,x=N+(R<<22&4294967295|R>>>10),R=w+(N^k&(x^N))+V[1]+4129170786&4294967295,w=x+(R<<5&4294967295|R>>>27),R=k+(x^N&(w^x))+V[6]+3225465664&4294967295,k=w+(R<<9&4294967295|R>>>23),R=N+(w^x&(k^w))+V[11]+643717713&4294967295,N=k+(R<<14&4294967295|R>>>18),R=x+(k^w&(N^k))+V[0]+3921069994&4294967295,x=N+(R<<20&4294967295|R>>>12),R=w+(N^k&(x^N))+V[5]+3593408605&4294967295,w=x+(R<<5&4294967295|R>>>27),R=k+(x^N&(w^x))+V[10]+38016083&4294967295,k=w+(R<<9&4294967295|R>>>23),R=N+(w^x&(k^w))+V[15]+3634488961&4294967295,N=k+(R<<14&4294967295|R>>>18),R=x+(k^w&(N^k))+V[4]+3889429448&4294967295,x=N+(R<<20&4294967295|R>>>12),R=w+(N^k&(x^N))+V[9]+568446438&4294967295,w=x+(R<<5&4294967295|R>>>27),R=k+(x^N&(w^x))+V[14]+3275163606&4294967295,k=w+(R<<9&4294967295|R>>>23),R=N+(w^x&(k^w))+V[3]+4107603335&4294967295,N=k+(R<<14&4294967295|R>>>18),R=x+(k^w&(N^k))+V[8]+1163531501&4294967295,x=N+(R<<20&4294967295|R>>>12),R=w+(N^k&(x^N))+V[13]+2850285829&4294967295,w=x+(R<<5&4294967295|R>>>27),R=k+(x^N&(w^x))+V[2]+4243563512&4294967295,k=w+(R<<9&4294967295|R>>>23),R=N+(w^x&(k^w))+V[7]+1735328473&4294967295,N=k+(R<<14&4294967295|R>>>18),R=x+(k^w&(N^k))+V[12]+2368359562&4294967295,x=N+(R<<20&4294967295|R>>>12),R=w+(x^N^k)+V[5]+4294588738&4294967295,w=x+(R<<4&4294967295|R>>>28),R=k+(w^x^N)+V[8]+2272392833&4294967295,k=w+(R<<11&4294967295|R>>>21),R=N+(k^w^x)+V[11]+1839030562&4294967295,N=k+(R<<16&4294967295|R>>>16),R=x+(N^k^w)+V[14]+4259657740&4294967295,x=N+(R<<23&4294967295|R>>>9),R=w+(x^N^k)+V[1]+2763975236&4294967295,w=x+(R<<4&4294967295|R>>>28),R=k+(w^x^N)+V[4]+1272893353&4294967295,k=w+(R<<11&4294967295|R>>>21),R=N+(k^w^x)+V[7]+4139469664&4294967295,N=k+(R<<16&4294967295|R>>>16),R=x+(N^k^w)+V[10]+3200236656&4294967295,x=N+(R<<23&4294967295|R>>>9),R=w+(x^N^k)+V[13]+681279174&4294967295,w=x+(R<<4&4294967295|R>>>28),R=k+(w^x^N)+V[0]+3936430074&4294967295,k=w+(R<<11&4294967295|R>>>21),R=N+(k^w^x)+V[3]+3572445317&4294967295,N=k+(R<<16&4294967295|R>>>16),R=x+(N^k^w)+V[6]+76029189&4294967295,x=N+(R<<23&4294967295|R>>>9),R=w+(x^N^k)+V[9]+3654602809&4294967295,w=x+(R<<4&4294967295|R>>>28),R=k+(w^x^N)+V[12]+3873151461&4294967295,k=w+(R<<11&4294967295|R>>>21),R=N+(k^w^x)+V[15]+530742520&4294967295,N=k+(R<<16&4294967295|R>>>16),R=x+(N^k^w)+V[2]+3299628645&4294967295,x=N+(R<<23&4294967295|R>>>9),R=w+(N^(x|~k))+V[0]+4096336452&4294967295,w=x+(R<<6&4294967295|R>>>26),R=k+(x^(w|~N))+V[7]+1126891415&4294967295,k=w+(R<<10&4294967295|R>>>22),R=N+(w^(k|~x))+V[14]+2878612391&4294967295,N=k+(R<<15&4294967295|R>>>17),R=x+(k^(N|~w))+V[5]+4237533241&4294967295,x=N+(R<<21&4294967295|R>>>11),R=w+(N^(x|~k))+V[12]+1700485571&4294967295,w=x+(R<<6&4294967295|R>>>26),R=k+(x^(w|~N))+V[3]+2399980690&4294967295,k=w+(R<<10&4294967295|R>>>22),R=N+(w^(k|~x))+V[10]+4293915773&4294967295,N=k+(R<<15&4294967295|R>>>17),R=x+(k^(N|~w))+V[1]+2240044497&4294967295,x=N+(R<<21&4294967295|R>>>11),R=w+(N^(x|~k))+V[8]+1873313359&4294967295,w=x+(R<<6&4294967295|R>>>26),R=k+(x^(w|~N))+V[15]+4264355552&4294967295,k=w+(R<<10&4294967295|R>>>22),R=N+(w^(k|~x))+V[6]+2734768916&4294967295,N=k+(R<<15&4294967295|R>>>17),R=x+(k^(N|~w))+V[13]+1309151649&4294967295,x=N+(R<<21&4294967295|R>>>11),R=w+(N^(x|~k))+V[4]+4149444226&4294967295,w=x+(R<<6&4294967295|R>>>26),R=k+(x^(w|~N))+V[11]+3174756917&4294967295,k=w+(R<<10&4294967295|R>>>22),R=N+(w^(k|~x))+V[2]+718787259&4294967295,N=k+(R<<15&4294967295|R>>>17),R=x+(k^(N|~w))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+k&4294967295}a.prototype.v=function(I,w){w===void 0&&(w=I.length);const x=w-this.blockSize,V=this.C;let N=this.h,k=0;for(;k<w;){if(N==0)for(;k<=x;)o(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<w;)if(V[N++]=I.charCodeAt(k++),N==this.blockSize){o(this,V),N=0;break}}else for(;k<w;)if(V[N++]=I[k++],N==this.blockSize){o(this,V),N=0;break}}this.h=N,this.o+=w},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;w=this.o*8;for(var x=I.length-8;x<I.length;++x)I[x]=w&255,w/=256;for(this.v(I),I=Array(16),w=0,x=0;x<4;++x)for(let V=0;V<32;V+=8)I[w++]=this.g[x]>>>V&255;return I};function c(I,w){var x=p;return Object.prototype.hasOwnProperty.call(x,I)?x[I]:x[I]=w(I)}function d(I,w){this.h=w;const x=[];let V=!0;for(let N=I.length-1;N>=0;N--){const k=I[N]|0;V&&k==w||(x[N]=k,V=!1)}this.g=x}var p={};function _(I){return-128<=I&&I<128?c(I,function(w){return new d([w|0],w<0?-1:0)}):new d([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return J(y(-I));const w=[];let x=1;for(let V=0;I>=x;V++)w[V]=I/x|0,x*=4294967296;return new d(w,0)}function b(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return J(b(I.substring(1),w));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=y(Math.pow(w,8));let V=S;for(let k=0;k<I.length;k+=8){var N=Math.min(8,I.length-k);const R=parseInt(I.substring(k,k+N),w);N<8?(N=y(Math.pow(w,N)),V=V.j(N).add(y(R))):(V=V.j(x),V=V.add(y(R)))}return V}var S=_(0),M=_(1),F=_(16777216);r=d.prototype,r.m=function(){if(nt(this))return-J(this).m();let I=0,w=1;for(let x=0;x<this.g.length;x++){const V=this.i(x);I+=(V>=0?V:4294967296+V)*w,w*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(tt(this))return"0";if(nt(this))return"-"+J(this).toString(I);const w=y(Math.pow(I,6));var x=this;let V="";for(;;){const N=xt(x,w).g;x=ft(x,N.j(w));let k=((x.g.length>0?x.g[0]:x.h)>>>0).toString(I);if(x=N,tt(x))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function tt(I){if(I.h!=0)return!1;for(let w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function nt(I){return I.h==-1}r.l=function(I){return I=ft(this,I),nt(I)?-1:tt(I)?0:1};function J(I){const w=I.g.length,x=[];for(let V=0;V<w;V++)x[V]=~I.g[V];return new d(x,~I.h).add(M)}r.abs=function(){return nt(this)?J(this):this},r.add=function(I){const w=Math.max(this.g.length,I.g.length),x=[];let V=0;for(let N=0;N<=w;N++){let k=V+(this.i(N)&65535)+(I.i(N)&65535),R=(k>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);V=R>>>16,k&=65535,R&=65535,x[N]=R<<16|k}return new d(x,x[x.length-1]&-2147483648?-1:0)};function ft(I,w){return I.add(J(w))}r.j=function(I){if(tt(this)||tt(I))return S;if(nt(this))return nt(I)?J(this).j(J(I)):J(J(this).j(I));if(nt(I))return J(this.j(J(I)));if(this.l(F)<0&&I.l(F)<0)return y(this.m()*I.m());const w=this.g.length+I.g.length,x=[];for(var V=0;V<2*w;V++)x[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<I.g.length;N++){const k=this.i(V)>>>16,R=this.i(V)&65535,ne=I.i(N)>>>16,de=I.i(N)&65535;x[2*V+2*N]+=R*de,Et(x,2*V+2*N),x[2*V+2*N+1]+=k*de,Et(x,2*V+2*N+1),x[2*V+2*N+1]+=R*ne,Et(x,2*V+2*N+1),x[2*V+2*N+2]+=k*ne,Et(x,2*V+2*N+2)}for(I=0;I<w;I++)x[I]=x[2*I+1]<<16|x[2*I];for(I=w;I<2*w;I++)x[I]=0;return new d(x,0)};function Et(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function pt(I,w){this.g=I,this.h=w}function xt(I,w){if(tt(w))throw Error("division by zero");if(tt(I))return new pt(S,S);if(nt(I))return w=xt(J(I),w),new pt(J(w.g),J(w.h));if(nt(w))return w=xt(I,J(w)),new pt(J(w.g),w.h);if(I.g.length>30){if(nt(I)||nt(w))throw Error("slowDivide_ only works with positive integers.");for(var x=M,V=w;V.l(I)<=0;)x=te(x),V=te(V);var N=Vt(x,1),k=Vt(V,1);for(V=Vt(V,2),x=Vt(x,2);!tt(V);){var R=k.add(V);R.l(I)<=0&&(N=N.add(x),k=R),V=Vt(V,1),x=Vt(x,1)}return w=ft(I,N.j(w)),new pt(N,w)}for(N=S;I.l(w)>=0;){for(x=Math.max(1,Math.floor(I.m()/w.m())),V=Math.ceil(Math.log(x)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=y(x),R=k.j(w);nt(R)||R.l(I)>0;)x-=V,k=y(x),R=k.j(w);tt(k)&&(k=M),N=N.add(k),I=ft(I,R)}return new pt(N,I)}r.B=function(I){return xt(this,I).h},r.and=function(I){const w=Math.max(this.g.length,I.g.length),x=[];for(let V=0;V<w;V++)x[V]=this.i(V)&I.i(V);return new d(x,this.h&I.h)},r.or=function(I){const w=Math.max(this.g.length,I.g.length),x=[];for(let V=0;V<w;V++)x[V]=this.i(V)|I.i(V);return new d(x,this.h|I.h)},r.xor=function(I){const w=Math.max(this.g.length,I.g.length),x=[];for(let V=0;V<w;V++)x[V]=this.i(V)^I.i(V);return new d(x,this.h^I.h)};function te(I){const w=I.g.length+1,x=[];for(let V=0;V<w;V++)x[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(x,I.h)}function Vt(I,w){const x=w>>5;w%=32;const V=I.g.length-x,N=[];for(let k=0;k<V;k++)N[k]=w>0?I.i(k+x)>>>w|I.i(k+x+1)<<32-w:I.i(k+x);return new d(N,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,N0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=b,Xs=d}).apply(typeof $_<"u"?$_:typeof self<"u"?self:typeof window<"u"?window:{});var Tc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var D0,_o,O0,xc,Wd,M0,V0,k0;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tc=="object"&&Tc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in v))break t;v=v[L]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,L,B){for(var et=Array(arguments.length-2),At=2;At<arguments.length;At++)et[At-2]=arguments[At];return m.prototype[L].apply(T,et)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function tt(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const B=L.length||0;u.length=v+B;for(let et=0;et<B;et++)u[v+et]=L[et]}else u.push(L)}}class nt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function ft(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Et{constructor(){this.h=this.g=null}add(m,v){const T=pt.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var pt=new nt(()=>new xt,u=>u.reset());class xt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let te,Vt=!1,I=new Et,w=()=>{const u=Promise.resolve(void 0);te=()=>{u.then(x)}};function x(){for(var u;u=ft();){try{u.h.call(u.g)}catch(v){J(v)}var m=pt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Vt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function ne(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(ne,N),ne.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ne.Z.h.call(this)},ne.prototype.h=function(){ne.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var de="closure_listenable_"+(Math.random()*1e6|0),H=0;function it(u,m,v,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++H,this.da=this.fa=!1}function ct(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function kt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Pt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(u,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)u[v]=T[v];for(let B=0;B<K.length;B++)v=K[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function Z(u){this.src=u,this.g={},this.h=0}Z.prototype.add=function(u,m,v,T,L){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const et=rt(u,m,T,L);return et>-1?(m=u[et],v||(m.fa=!1)):(m=new it(m,this.src,B,!!T,L),m.fa=v,u.push(m)),m};function W(u,m){const v=m.type;if(v in u.g){var T=u.g[v],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=L>=0)&&Array.prototype.splice.call(T,L,1),B&&(ct(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function rt(u,m,v,T){for(let L=0;L<u.length;++L){const B=u[L];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return L}return-1}var dt="closure_lm_"+(Math.random()*1e6|0),Bt={};function Ft(u,m,v,T,L){if(Array.isArray(m)){for(let B=0;B<m.length;B++)Ft(u,m[B],v,T,L);return null}return v=fl(v),u&&u[de]?u.J(m,v,p(T)?!!T.capture:!1,L):zn(u,m,v,!1,T,L)}function zn(u,m,v,T,L,B){if(!m)throw Error("Invalid event type");const et=p(L)?!!L.capture:!!L;let At=or(u);if(At||(u[dt]=At=new Z(u)),v=At.add(m,v,T,et,B),v.proxy)return v;if(T=Xr(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)k||(L=et),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(ei(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Xr(){function u(v){return m.call(u.src,u.listener,v)}const m=cl;return u}function Zr(u,m,v,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Zr(u,m[B],v,T,L);else T=p(T)?!!T.capture:!!T,v=fl(v),u&&u[de]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=rt(m,v,T,L),v>-1&&(ct(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=or(u))&&(m=u.g[m.toString()],u=-1,m&&(u=rt(m,v,T,L)),(v=u>-1?m[u]:null)&&$r(v))}function $r(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[de])W(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(ei(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=or(m))?(W(v,u),v.h==0&&(v.src=null,m[dt]=null)):ct(u)}}}function ei(u){return u in Bt?Bt[u]:Bt[u]="on"+u}function cl(u,m){if(u.da)u=!0;else{m=new ne(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&$r(u),u=v.call(T,m)}return u}function or(u){return u=u[dt],u instanceof Z?u:null}var hl="__closure_events_fn_"+(Math.random()*1e9>>>0);function fl(u){return typeof u=="function"?u:(u[hl]||(u[hl]=function(m){return u.handleEvent(m)}),u[hl])}function ve(){V.call(this),this.i=new Z(this),this.M=this,this.G=null}S(ve,V),ve.prototype[de]=!0,ve.prototype.removeEventListener=function(u,m,v,T){Zr(this,u,m,v,T)};function De(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var L=m;m=new N(T,u),st(m,L)}L=!0;let B,et;if(v)for(et=v.length-1;et>=0;et--)B=m.g=v[et],L=ls(B,T,!0,m)&&L;if(B=m.g=u,L=ls(B,T,!0,m)&&L,L=ls(B,T,!1,m)&&L,v)for(et=0;et<v.length;et++)B=m.g=v[et],L=ls(B,T,!1,m)&&L}ve.prototype.N=function(){if(ve.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ct(v[T]);delete u.g[m],u.h--}}this.G=null},ve.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},ve.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function ls(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let B=0;B<m.length;++B){const et=m[B];if(et&&!et.da&&et.capture==v){const At=et.listener,ge=et.ha||et.src;et.fa&&W(u.i,et),L=At.call(ge,T)!==!1&&L}}return L&&!T.defaultPrevented}function xh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Qo(u){u.g=xh(()=>{u.g=null,u.i&&(u.i=!1,Qo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class tn extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Qo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ur(u){V.call(this),this.h=u,this.g={}}S(ur,V);var dl=[];function ml(u){kt(u.g,function(m,v){this.g.hasOwnProperty(v)&&$r(m)},u),u.g={}}ur.prototype.N=function(){ur.Z.N.call(this),ml(this)},ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var os=d.JSON.stringify,Ih=d.JSON.parse,Ko=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Yo(){}function Xo(){}var Bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function je(){N.call(this,"d")}S(je,N);function wn(){N.call(this,"c")}S(wn,N);var me={},Zo=null;function Jr(){return Zo=Zo||new ve}me.Ia="serverreachability";function $o(u){N.call(this,me.Ia,u)}S($o,N);function ni(u){const m=Jr();De(m,new $o(m))}me.STAT_EVENT="statevent";function cr(u,m){N.call(this,me.STAT_EVENT,u),this.stat=m}S(cr,N);function Ee(u){const m=Jr();De(m,new cr(m,u))}me.Ja="timingevent";function ii(u,m){N.call(this,me.Ja,u),this.size=m}S(ii,N);function si(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function qn(){this.g=!0}qn.prototype.ua=function(){this.g=!1};function Nh(u,m,v,T,L,B){u.info(function(){if(u.g)if(B){var et="",At=B.split("&");for(let qt=0;qt<At.length;qt++){var ge=At[qt].split("=");if(ge.length>1){const le=ge[0];ge=ge[1];const In=le.split("_");et=In.length>=2&&In[1]=="type"?et+(le+"="+ge+"&"):et+(le+"=redacted&")}}}else et=null;else et=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+et})}function Jo(u,m,v,T,L,B,et){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+B+" "+et})}function ri(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Dh(u,v)+(T?" "+T:"")})}function hr(u,m){u.info(function(){return"TIMEOUT: "+m})}qn.prototype.info=function(){};function Dh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let et=1;et<T.length;et++)T[et]=""}}}}return os(B)}catch{return m}}var fr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},gl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},pl;function dr(){}S(dr,Yo),dr.prototype.g=function(){return new XMLHttpRequest},pl=new dr;function Mi(u){return encodeURIComponent(String(u))}function Wo(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Hn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new ur(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var Te={},ke={};function ai(u,m,v){u.M=1,u.A=mr(Ae(m)),u.u=v,u.R=!0,Wr(u,null)}function Wr(u,m){u.F=Date.now(),li(u),u.B=Ae(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ia(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Gn,u.g=mu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new tn(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(dl[0]=L.toString()),L=dl);for(let B=0;B<L.length;B++){const et=Ft(v,L[B],T||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ni(),Nh(u.i,u.v,u.B,u.l,u.S,u.u)}Hn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Kn(u)==3?m.j():this.Y(u)},Hn.prototype.Y=function(u){try{if(u==this.g)t:{const At=Kn(this.g),ge=this.g.ya(),qt=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||ze(this.g)))){this.K||At!=4||ge==7||(ge==8||qt<=0?ni(3):ni(2)),oi(this);var m=this.g.ca();this.X=m;var v=Oh(this);if(this.o=m==200,Jo(this.i,this.v,this.B,this.l,this.S,At,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var B=T;break e}}B=null}if(u=B)ri(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ui(this,u);else{this.o=!1,this.m=3,Ee(12),gn(this),Rn(this);break t}}if(this.R){u=!0;let le;for(;!this.K&&this.C<v.length;)if(le=eu(this,v),le==ke){At==4&&(this.m=4,Ee(14),u=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(le==Te){this.m=4,Ee(15),ri(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ri(this.i,this.l,le,null),ui(this,le);if(tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||v.length!=0||this.h.h||(this.m=1,Ee(16),u=!1),this.o=this.o&&u,!u)ri(this.i,this.l,v,"[Invalid Chunked Response]"),gn(this),Rn(this);else if(v.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Dl(et),et.P=!0,Ee(11))}}else ri(this.i,this.l,v,null),ui(this,v);At==4&&gn(this),this.o&&!this.K&&(At==4?cu(this.j,this):(this.o=!1,li(this)))}else ki(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ee(12)):(this.m=0,Ee(13)),gn(this),Rn(this)}}}catch{}};function Oh(u){if(!tu(u))return u.g.la();const m=ze(u.g);if(m==="")return"";let v="";const T=m.length,L=Kn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return gn(u),Rn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(L&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function tu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function eu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?ke:(v=Number(m.substring(v,T)),isNaN(v)?Te:(T+=1,T+v>m.length?ke:(m=m.slice(T,T+v),u.C=T+v,m)))}Hn.prototype.cancel=function(){this.K=!0,gn(this)};function li(u){u.T=Date.now()+u.H,ta(u,u.H)}function ta(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=si(y(u.aa,u),m)}function oi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Hn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(hr(this.i,this.B),this.M!=2&&(ni(),Ee(17)),gn(this),this.m=2,Rn(this)):ta(this,this.T-u)};function Rn(u){u.j.I==0||u.K||cu(u.j,u)}function gn(u){oi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,ml(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ui(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||hi(v.h,u))){if(!u.L&&hi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)oa(v),ps(v);else break t;Tr(v),Ee(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=si(y(v.Va,v),6e3));ci(v.h)<=1&&v.ta&&(v.ta=void 0)}else yi(v,11)}else if((u.L||v.g==u)&&oa(v),!R(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let qt=L[m];const le=qt[0];if(!(le<=v.K))if(v.K=le,qt=qt[1],v.I==2)if(qt[0]=="c"){v.M=qt[1],v.ba=qt[2];const In=qt[3];In!=null&&(v.ka=In,v.j.info("VER="+v.ka));const _i=qt[4];_i!=null&&(v.za=_i,v.j.info("SVER="+v.za));const Yn=qt[5];Yn!=null&&typeof Yn=="number"&&Yn>0&&(T=1.5*Yn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Xn=u.g;if(Xn){const br=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(br){var B=T.h;B.g||br.indexOf("spdy")==-1&&br.indexOf("quic")==-1&&br.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(vl(B,B.h),B.h=null))}if(T.G){const ua=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;ua&&(T.wa=ua,Qt(T.J,T.G,ua))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var et=u;if(T.na=du(T,T.L?T.ba:null,T.W),et.L){El(T.h,et);var At=et,ge=T.O;ge&&(At.H=ge),At.D&&(oi(At),li(At)),T.g=et}else ou(T);v.i.length>0&&pi(v)}else qt[0]!="stop"&&qt[0]!="close"||yi(v,7);else v.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?yi(v,7):Il(v):qt[0]!="noop"&&v.l&&v.l.qa(qt),v.A=0)}}ni(4)}catch{}}var be=class{constructor(u,m){this.g=u,this.map=m}};function yl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function _l(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ci(u){return u.h?1:u.g?u.g.size:0}function hi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function vl(u,m){u.g?u.g.add(m):u.h=m}function El(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}yl.prototype.cancel=function(){if(this.i=Tl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Tl(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return F(u.i)}var nu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ea(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let L,B=null;T>=0?(L=u[v].substring(0,T),B=u[v].substring(T+1)):L=u[v],m(L,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function pn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof pn?(this.l=u.l,Ue(this,u.j),this.o=u.o,this.g=u.g,us(this,u.u),this.h=u.h,bl(this,au(u.i)),this.m=u.m):u&&(m=String(u).match(nu))?(this.l=!1,Ue(this,m[1]||"",!0),this.o=fi(m[2]||""),this.g=fi(m[3]||"",!0),us(this,m[4]),this.h=fi(m[5]||"",!0),bl(this,m[6]||"",!0),this.m=fi(m[7]||"")):(this.l=!1,this.i=new hs(null,this.l))}pn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(gr(m,na,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(gr(m,na,!0),"@"),u.push(Mi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(gr(v,v.charAt(0)=="/"?Al:iu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",gr(v,su)),u.join("")},pn.prototype.resolve=function(u){const m=Ae(this);let v=!!u.j;v?Ue(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)us(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const B=[];for(let et=0;et<L.length;){const At=L[et++];At=="."?T&&et==L.length&&B.push(""):At==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&et==L.length&&B.push("")):(B.push(At),T=!0)}T=B.join("/")}else T=L}return v?m.h=T:v=u.i.toString()!=="",v?bl(m,au(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ae(u){return new pn(u)}function Ue(u,m,v){u.j=v?fi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function us(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function bl(u,m,v){m instanceof hs?(u.i=m,sa(u.i,u.l)):(v||(m=gr(m,cs)),u.i=new hs(m,u.l))}function Qt(u,m,v){u.i.set(m,v)}function mr(u){return Qt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function fi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function gr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,rn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function rn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var na=/[#\/\?@]/g,iu=/[#\?:]/g,Al=/[#\?]/g,cs=/[#\?@]/g,su=/#/g;function hs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function an(u){u.g||(u.g=new Map,u.h=0,u.i&&ea(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=hs.prototype,r.add=function(u,m){an(this),this.i=null,u=fs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function ru(u,m){an(u),m=fs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Sl(u,m){return an(u),m=fs(u,m),u.g.has(m)}r.forEach=function(u,m){an(this),this.g.forEach(function(v,T){v.forEach(function(L){u.call(m,L,T,this)},this)},this)};function wl(u,m){an(u);let v=[];if(typeof m=="string")Sl(u,m)&&(v=v.concat(u.g.get(fs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return an(this),this.i=null,u=fs(this,u),Sl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=wl(this,u),u.length>0?String(u[0]):m):m};function ia(u,m,v){ru(u,m),v.length>0&&(u.i=null,u.g.set(fs(u,m),F(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=Mi(v);v=wl(this,v);for(let B=0;B<v.length;B++){let et=L;v[B]!==""&&(et+="="+Mi(v[B])),u.push(et)}}return this.i=u.join("&")};function au(u){const m=new hs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function fs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function sa(u,m){m&&!u.j&&(an(u),u.i=null,u.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(ru(this,T),ia(this,L,v))},u)),u.j=m}function Fn(u,m){const v=new qn;if(d.Image){const T=new Image;T.onload=b(Cn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=b(Cn,v,"TestLoadImage: error",!1,m,T),T.onabort=b(Cn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(Cn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Rl(u,m){const v=new qn,T=new AbortController,L=setTimeout(()=>{T.abort(),Cn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?Cn(v,"TestPingServer: ok",!0,m):Cn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Cn(v,"TestPingServer: error",!1,m)})}function Cn(u,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function ds(){this.g=new Ko}function di(u){this.i=u.Sb||null,this.h=u.ab||!1}S(di,Yo),di.prototype.g=function(){return new pr(this.i,this.h)};function pr(u,m){ve.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(pr,ve),r=pr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Qn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ms(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ra(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ra(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ms(this):Qn(this),this.readyState==3&&ra(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,ms(this))},r.Na=function(u){this.g&&(this.response=u,ms(this))},r.ga=function(){this.g&&ms(this)};function ms(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Qn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(pr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function xn(u){let m="";return kt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function yr(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=xn(v),typeof u=="string"?v!=null&&Mi(v):Qt(u,m,v))}function Zt(u){ve.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Zt,ve);var mi=/^https?$/i,Cl=["POST","PUT"];r=Zt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():pl.g(),this.g.onreadystatechange=M(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){_r(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Cl,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,et]of v)this.g.setRequestHeader(B,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){_r(this,B)}};function _r(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,xl(u),Vi(u)}function xl(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),Vi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vi(this,!0)),Zt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?vr(this):this.Xa())},r.Xa=function(){vr(this)};function vr(u){if(u.h&&typeof c<"u"){if(u.v&&Kn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),Kn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let et=String(u.D).match(nu)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),T=!mi.test(et?et.toLowerCase():"")}v=T}if(v)De(u,"complete"),De(u,"success");else{u.o=6;try{var L=Kn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",xl(u)}}finally{Vi(u)}}}}function Vi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||De(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Kn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Kn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ih(m)}};function ze(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ki(u){const m={};u=(u.g&&Kn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var v=Wo(u[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[L]||[];m[L]=B,B.push(v)}Pt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function gi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function gs(u){this.za=0,this.i=[],this.j=new qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=gi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=gi("baseRetryDelayMs",5e3,u),this.Za=gi("retryDelaySeedMs",1e4,u),this.Ta=gi("forwardChannelMaxRetries",2,u),this.va=gi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new yl(u&&u.concurrentRequestLimit),this.Ba=new ds,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=gs.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){Ee(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=du(this,null,this.W),pi(this)};function Il(u){if(aa(u),u.I==3){var m=u.V++,v=Ae(u.J);if(Qt(v,"SID",u.M),Qt(v,"RID",m),Qt(v,"TYPE","terminate"),Er(u,v),m=new Hn(u,u.j,m),m.M=2,m.A=mr(Ae(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=mu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),li(m)}fu(u)}function ps(u){u.g&&(Dl(u),u.g.cancel(),u.g=null)}function aa(u){ps(u),u.v&&(d.clearTimeout(u.v),u.v=null),oa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function pi(u){if(!_l(u.h)&&!u.m){u.m=!0;var m=u.Ea;te||w(),Vt||(te(),Vt=!0),I.add(m,u),u.D=0}}function la(u,m){return ci(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=si(y(u.Ea,u,m),hu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Hn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),st(B,this.U)):B=this.U),this.u!==null||this.R||(L.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=lu(this,L,m),v=Ae(this.J),Qt(v,"RID",u),Qt(v,"CVER",22),this.G&&Qt(v,"X-HTTP-Session-Id",this.G),Er(this,v),B&&(this.R?m="headers="+Mi(xn(B))+"&"+m:this.u&&yr(v,this.u,B)),vl(this.h,L),this.Ra&&Qt(v,"TYPE","init"),this.S?(Qt(v,"$req",m),Qt(v,"SID","null"),L.U=!0,ai(L,v,null)):ai(L,v,m),this.I=2}}else this.I==3&&(u?Nl(this,u):this.i.length==0||_l(this.h)||Nl(this))};function Nl(u,m){var v;m?v=m.l:v=u.V++;const T=Ae(u.J);Qt(T,"SID",u.M),Qt(T,"RID",v),Qt(T,"AID",u.K),Er(u,T),u.u&&u.o&&yr(T,u.u,u.o),v=new Hn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=lu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),vl(u.h,v),ai(v,T,m)}function Er(u,m){u.H&&kt(u.H,function(v,T){Qt(m,T,v)}),u.l&&kt({},function(v,T){Qt(m,T,v)})}function lu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var L=u.i;let At=-1;for(;;){const ge=["count="+v];At==-1?v>0?(At=L[0].g,ge.push("ofs="+At)):At=0:ge.push("ofs="+At);let qt=!0;for(let le=0;le<v;le++){var B=L[le].g;const In=L[le].map;if(B-=At,B<0)At=Math.max(0,L[le].g-100),qt=!1;else try{B="req"+B+"_"||"";try{var et=In instanceof Map?In:Object.entries(In);for(const[_i,Yn]of et){let Xn=Yn;p(Yn)&&(Xn=os(Yn)),ge.push(B+_i+"="+encodeURIComponent(Xn))}}catch(_i){throw ge.push(B+"type="+encodeURIComponent("_badmap")),_i}}catch{T&&T(In)}}if(qt){et=ge.join("&");break t}}et=void 0}return u=u.i.splice(0,v),m.G=u,et}function ou(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;te||w(),Vt||(te(),Vt=!0),I.add(m,u),u.A=0}}function Tr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=si(y(u.Da,u),hu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,uu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=si(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ee(10),ps(this),uu(this))};function Dl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function uu(u){u.g=new Hn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ae(u.na);Qt(m,"RID","rpc"),Qt(m,"SID",u.M),Qt(m,"AID",u.K),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qt(m,"TO",u.ia),Qt(m,"TYPE","xmlhttp"),Er(u,m),u.u&&u.o&&yr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=mr(Ae(m)),v.u=null,v.R=!0,Wr(v,u)}r.Va=function(){this.C!=null&&(this.C=null,ps(this),Tr(this),Ee(19))};function oa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function cu(u,m){var v=null;if(u.g==m){oa(u),Dl(u),u.g=null;var T=2}else if(hi(u.h,m))v=m.G,El(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=Jr(),De(T,new ii(T,v)),pi(u)}else ou(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&la(u,m)||T==2&&Tr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:yi(u,5);break;case 4:yi(u,10);break;case 3:yi(u,6);break;default:yi(u,2)}}}function hu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function yi(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const L=!T;T=new pn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ue(T,"https"),mr(T),L?Fn(T.toString(),v):Rl(T.toString(),v)}else Ee(2);u.I=0,u.l&&u.l.pa(m),fu(u),aa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))};function fu(u){if(u.I=0,u.ja=[],u.l){const m=Tl(u.h);(m.length!=0||u.i.length!=0)&&(tt(u.ja,m),tt(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function du(u,m,v){var T=v instanceof pn?Ae(v):new pn(v);if(T.g!="")m&&(T.g=m+"."+T.g),us(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const B=new pn(null);T&&Ue(B,T),m&&(B.g=m),L&&us(B,L),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Qt(T,v,m),Qt(T,"VER",u.ka),Er(u,T),T}function mu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Zt(new di({ab:v})):new Zt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function gu(){}r=gu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ys(){}ys.prototype.g=function(u,m){return new en(u,m)};function en(u,m){ve.call(this),this.g=new gs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ui(this)}S(en,ve),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Il(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=os(u),u=v);m.i.push(new be(m.Ya++,u)),m.I==3&&pi(m)},en.prototype.N=function(){this.g.l=null,delete this.j,Il(this.g),delete this.g,en.Z.N.call(this)};function pu(u){je.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(pu,je);function yu(){wn.call(this),this.status=1}S(yu,wn);function Ui(u){this.g=u}S(Ui,gu),Ui.prototype.ra=function(){De(this.g,"a")},Ui.prototype.qa=function(u){De(this.g,new pu(u))},Ui.prototype.pa=function(u){De(this.g,new yu)},Ui.prototype.oa=function(){De(this.g,"b")},ys.prototype.createWebChannel=ys.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,k0=function(){return new ys},V0=function(){return Jr()},M0=me,Wd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},fr.NO_ERROR=0,fr.TIMEOUT=8,fr.HTTP_ERROR=6,xc=fr,gl.COMPLETE="complete",O0=gl,Xo.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",ve.prototype.listen=ve.prototype.J,_o=Xo,Zt.prototype.listenOnce=Zt.prototype.K,Zt.prototype.getLastError=Zt.prototype.Ha,Zt.prototype.getLastErrorCode=Zt.prototype.ya,Zt.prototype.getStatus=Zt.prototype.ca,Zt.prototype.getResponseJson=Zt.prototype.La,Zt.prototype.getResponseText=Zt.prototype.la,Zt.prototype.send=Zt.prototype.ea,Zt.prototype.setWithCredentials=Zt.prototype.Fa,D0=Zt}).apply(typeof Tc<"u"?Tc:typeof self<"u"?self:typeof window<"u"?window:{});const J_="@firebase/firestore",W_="4.9.3";class $e{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}$e.UNAUTHENTICATED=new $e(null),$e.GOOGLE_CREDENTIALS=new $e("google-credentials-uid"),$e.FIRST_PARTY=new $e("first-party-uid"),$e.MOCK_USER=new $e("mock-user");let rl="12.7.0";const Hr=new Tm("@firebase/firestore");function ja(){return Hr.logLevel}function at(r,...t){if(Hr.logLevel<=Dt.DEBUG){const i=t.map(Sm);Hr.debug(`Firestore (${rl}): ${r}`,...i)}}function ns(r,...t){if(Hr.logLevel<=Dt.ERROR){const i=t.map(Sm);Hr.error(`Firestore (${rl}): ${r}`,...i)}}function Za(r,...t){if(Hr.logLevel<=Dt.WARN){const i=t.map(Sm);Hr.warn(`Firestore (${rl}): ${r}`,...i)}}function Sm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function yt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,U0(r,a,i)}function U0(r,t,i){let a=`FIRESTORE (${rl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ns(a),new Error(a)}function Gt(r,t,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||U0(t,o,a)}function bt(r,t){return r}const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends as{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class zr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class L0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class yS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i($e.UNAUTHENTICATED)))}shutdown(){}}class _S{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class vS{constructor(t){this.t=t,this.currentUser=$e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Gt(this.o===void 0,42304);let a=this.i;const o=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new zr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new zr,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await o(this.currentUser)}))},p=_=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new zr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Gt(typeof a.accessToken=="string",31837,{l:a}),new L0(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string",2055,{h:t}),new $e(t)}}class ES{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=$e.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class TS{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new ES(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i($e.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class tv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class bS{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Gt(this.o===void 0,3512);const a=c=>{c.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const o=c=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new tv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Gt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new tv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function AS(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class wm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=AS(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=t.charAt(o[c]%62))}return a}}function Ot(r,t){return r<t?-1:r>t?1:0}function tm(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const o=r.charAt(a),c=t.charAt(a);if(o!==c)return Pd(o)===Pd(c)?Ot(o,c):Pd(o)?1:-1}return Ot(r.length,t.length)}const SS=55296,wS=57343;function Pd(r){const t=r.charCodeAt(0);return t>=SS&&t<=wS}function $a(r,t,i){return r.length===t.length&&r.every(((a,o)=>i(a,t[o])))}const ev="__name__";class Ai{constructor(t,i,a){i===void 0?i=0:i>t.length&&yt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&yt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ai.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ai?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let o=0;o<a;o++){const c=Ai.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return Ot(t.length,i.length)}static compareSegments(t,i){const a=Ai.isNumericId(t),o=Ai.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Ai.extractNumericId(t).compare(Ai.extractNumericId(i)):tm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Xs.fromString(t.substring(4,t.length-2))}}class re extends Ai{construct(t,i,a){return new re(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ut($.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new re(i)}static emptyPath(){return new re([])}}const RS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ke extends Ai{construct(t,i,a){return new Ke(t,i,a)}static isValidIdentifier(t){return RS.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ke.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ev}static keyField(){return new Ke([ev])}static fromServerFormat(t){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new ut($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new ut($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ut($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(a+=p,o++):(c(),o++)}if(c(),d)throw new ut($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ke(i)}static emptyPath(){return new Ke([])}}class mt{constructor(t){this.path=t}static fromPath(t){return new mt(re.fromString(t))}static fromName(t){return new mt(re.fromString(t).popFirst(5))}static empty(){return new mt(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&re.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return re.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new re(t.slice()))}}function P0(r,t,i){if(!i)throw new ut($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function CS(r,t,i,a){if(t===!0&&a===!0)throw new ut($.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function nv(r){if(!mt.isDocumentKey(r))throw new ut($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function iv(r){if(mt.isDocumentKey(r))throw new ut($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function j0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Rm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":yt(12329,{type:typeof r})}function Si(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ut($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Rm(r);throw new ut($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ie(r,t){const i={typeString:r};return t&&(i.value=t),i}function Lo(r,t){if(!j0(r))throw new ut($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const o=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ut($.INVALID_ARGUMENT,i);return!0}const sv=-62135596800,rv=1e6;class ae{static now(){return ae.fromMillis(Date.now())}static fromDate(t){return ae.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*rv);return new ae(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ut($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<sv)throw new ut($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/rv}_compareTo(t){return this.seconds===t.seconds?Ot(this.nanoseconds,t.nanoseconds):Ot(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Lo(t,ae._jsonSchema))return new ae(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-sv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ae._jsonSchemaVersion="firestore/timestamp/1.0",ae._jsonSchema={type:Ie("string",ae._jsonSchemaVersion),seconds:Ie("number"),nanoseconds:Ie("number")};class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new ae(0,0))}static max(){return new vt(new ae(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Io=-1;function xS(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=vt.fromTimestamp(a===1e9?new ae(i+1,0):new ae(i,a));return new Ws(o,mt.empty(),t)}function IS(r){return new Ws(r.readTime,r.key,Io)}class Ws{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Ws(vt.min(),mt.empty(),Io)}static max(){return new Ws(vt.max(),mt.empty(),Io)}}function NS(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=mt.comparator(r.documentKey,t.documentKey),i!==0?i:Ot(r.largestBatchId,t.largestBatchId))}const DS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function al(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==DS)throw r;at("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let o=0,c=0,d=!1;t.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&i()}),(_=>a(_)))})),d=!0,c===o&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((o=>o?X.resolve(o):a()));return i}static forEach(t,i){const a=[];return t.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,o)=>{const c=t.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((b=>{d[y]=b,++p,p===c&&a(d)}),(b=>o(b)))}}))}static doWhile(t,i){return new X(((a,o)=>{const c=()=>{t()===!0?i().next((()=>{c()}),o):a()};c()}))}}function MS(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ll(r){return r.name==="IndexedDbTransactionError"}class rh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}rh.ce=-1;const Cm=-1;function ah(r){return r==null}function zc(r){return r===0&&1/r==-1/0}function VS(r){return typeof r=="number"&&Number.isInteger(r)&&!zc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const z0="";function kS(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=av(t)),t=US(r.get(i),t);return av(t)}function US(r,t){let i=t;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case z0:i+="";break;default:i+=c}}return i}function av(r){return r+z0+""}function lv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function ar(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function B0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ue{constructor(t,i){this.comparator=t,this.root=i||Qe.EMPTY}insert(t,i){return new ue(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new bc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new bc(this.root,t,this.comparator,!1)}getReverseIterator(){return new bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new bc(this.root,t,this.comparator,!0)}}class bc{constructor(t,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qe{constructor(t,i,a,o,c){this.key=t,this.value=i,this.color=a??Qe.RED,this.left=o??Qe.EMPTY,this.right=c??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,o,c){return new Qe(t??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const c=a(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return Qe.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,i,a,o,c){return this}insert(t,i,a){return new Qe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new ov(this.data.getIterator())}getIteratorFrom(t){return new ov(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ve(this.comparator);return i.data=t,i}}class ov{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Sn{constructor(t){this.fields=t,t.sort(Ke.comparator)}static empty(){return new Sn([])}unionWith(t){let i=new Ve(Ke.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Sn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return $a(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class q0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ye{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new q0("Invalid base64 string: "+c):c}})(t);return new Ye(i)}static fromUint8Array(t){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(t);return new Ye(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ot(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ye.EMPTY_BYTE_STRING=new Ye("");const LS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tr(r){if(Gt(!!r,39018),typeof r=="string"){let t=0;const i=LS.exec(r);if(Gt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:_e(r.seconds),nanos:_e(r.nanos)}}function _e(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function er(r){return typeof r=="string"?Ye.fromBase64String(r):Ye.fromUint8Array(r)}const H0="server_timestamp",G0="__type__",F0="__previous_value__",Q0="__local_write_time__";function xm(r){return(r?.mapValue?.fields||{})[G0]?.stringValue===H0}function lh(r){const t=r.mapValue.fields[F0];return xm(t)?lh(t):t}function No(r){const t=tr(r.mapValue.fields[Q0].timestampValue);return new ae(t.seconds,t.nanos)}class PS{constructor(t,i,a,o,c,d,p,_,y,b){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=b}}const Bc="(default)";class Do{constructor(t,i){this.projectId=t,this.database=i||Bc}static empty(){return new Do("","")}get isDefaultDatabase(){return this.database===Bc}isEqual(t){return t instanceof Do&&t.projectId===this.projectId&&t.database===this.database}}const K0="__type__",jS="__max__",Ac={mapValue:{}},Y0="__vector__",qc="value";function nr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?xm(r)?4:BS(r)?9007199254740991:zS(r)?10:11:yt(28295,{value:r})}function Di(r,t){if(r===t)return!0;const i=nr(r);if(i!==nr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return No(r).isEqual(No(t));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=tr(o.timestampValue),p=tr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,c){return er(o.bytesValue).isEqual(er(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,c){return _e(o.geoPointValue.latitude)===_e(c.geoPointValue.latitude)&&_e(o.geoPointValue.longitude)===_e(c.geoPointValue.longitude)})(r,t);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return _e(o.integerValue)===_e(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=_e(o.doubleValue),p=_e(c.doubleValue);return d===p?zc(d)===zc(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return $a(r.arrayValue.values||[],t.arrayValue.values||[],Di);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(lv(d)!==lv(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Di(d[_],p[_])))return!1;return!0})(r,t);default:return yt(52216,{left:r})}}function Oo(r,t){return(r.values||[]).find((i=>Di(i,t)))!==void 0}function Ja(r,t){if(r===t)return 0;const i=nr(r),a=nr(t);if(i!==a)return Ot(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ot(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=_e(c.integerValue||c.doubleValue),_=_e(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(r,t);case 3:return uv(r.timestampValue,t.timestampValue);case 4:return uv(No(r),No(t));case 5:return tm(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=er(c),_=er(d);return p.compareTo(_)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const b=Ot(p[y],_[y]);if(b!==0)return b}return Ot(p.length,_.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Ot(_e(c.latitude),_e(d.latitude));return p!==0?p:Ot(_e(c.longitude),_e(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return cv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[qc]?.arrayValue,b=_[qc]?.arrayValue,S=Ot(y?.values?.length||0,b?.values?.length||0);return S!==0?S:cv(y,b)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Ac.mapValue&&d===Ac.mapValue)return 0;if(c===Ac.mapValue)return 1;if(d===Ac.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},b=Object.keys(y);_.sort(),b.sort();for(let S=0;S<_.length&&S<b.length;++S){const M=tm(_[S],b[S]);if(M!==0)return M;const F=Ja(p[_[S]],y[b[S]]);if(F!==0)return F}return Ot(_.length,b.length)})(r.mapValue,t.mapValue);default:throw yt(23264,{he:i})}}function uv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ot(r,t);const i=tr(r),a=tr(t),o=Ot(i.seconds,a.seconds);return o!==0?o:Ot(i.nanos,a.nanos)}function cv(r,t){const i=r.values||[],a=t.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=Ja(i[o],a[o]);if(c)return c}return Ot(i.length,a.length)}function Wa(r){return em(r)}function em(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=tr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return er(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return mt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=em(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${em(i.fields[d])}`;return o+"}"})(r.mapValue):yt(61005,{value:r})}function Ic(r){switch(nr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=lh(r);return t?16+Ic(t):16;case 5:return 2*r.stringValue.length;case 6:return er(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Ic(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return ar(a.fields,((c,d)=>{o+=c.length+Ic(d)})),o})(r.mapValue);default:throw yt(13486,{value:r})}}function nm(r){return!!r&&"integerValue"in r}function Im(r){return!!r&&"arrayValue"in r}function hv(r){return!!r&&"nullValue"in r}function fv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Nc(r){return!!r&&"mapValue"in r}function zS(r){return(r?.mapValue?.fields||{})[K0]?.stringValue===Y0}function Ao(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return ar(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Ao(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Ao(r.arrayValue.values[i]);return t}return{...r}}function BS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===jS}class mn{constructor(t){this.value=t}static empty(){return new mn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Nc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ao(i)}setAll(t){let i=Ke.emptyPath(),a={},o=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,o),a={},o=[],i=p.popLast()}d?a[p.lastSegment()]=Ao(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(t){const i=this.field(t.popLast());Nc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Di(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=i.mapValue.fields[t.get(a)];Nc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,a){ar(i,((o,c)=>t[o]=c));for(const o of a)delete t[o]}clone(){return new mn(Ao(this.value))}}function X0(r){const t=[];return ar(r.fields,((i,a)=>{const o=new Ke([i]);if(Nc(a)){const c=X0(a.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)})),new Sn(t)}class Je{constructor(t,i,a,o,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Je(t,0,vt.min(),vt.min(),vt.min(),mn.empty(),0)}static newFoundDocument(t,i,a,o){return new Je(t,1,i,vt.min(),a,o,0)}static newNoDocument(t,i){return new Je(t,2,i,vt.min(),vt.min(),mn.empty(),0)}static newUnknownDocument(t,i){return new Je(t,3,i,vt.min(),vt.min(),mn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Hc{constructor(t,i){this.position=t,this.inclusive=i}}function dv(r,t,i){let a=0;for(let o=0;o<r.position.length;o++){const c=t[o],d=r.position[o];if(c.field.isKeyField()?a=mt.comparator(mt.fromName(d.referenceValue),i.key):a=Ja(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function mv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Di(r.position[i],t.position[i]))return!1;return!0}class Gc{constructor(t,i="asc"){this.field=t,this.dir=i}}function qS(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class Z0{}class Me extends Z0{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new GS(t,i,a):i==="array-contains"?new KS(t,a):i==="in"?new YS(t,a):i==="not-in"?new XS(t,a):i==="array-contains-any"?new ZS(t,a):new Me(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new FS(t,a):new QS(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Ja(i,this.value)):i!==null&&nr(this.value)===nr(i)&&this.matchesComparison(Ja(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Oi extends Z0{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Oi(t,i)}matches(t){return $0(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function $0(r){return r.op==="and"}function J0(r){return HS(r)&&$0(r)}function HS(r){for(const t of r.filters)if(t instanceof Oi)return!1;return!0}function im(r){if(r instanceof Me)return r.field.canonicalString()+r.op.toString()+Wa(r.value);if(J0(r))return r.filters.map((t=>im(t))).join(",");{const t=r.filters.map((i=>im(i))).join(",");return`${r.op}(${t})`}}function W0(r,t){return r instanceof Me?(function(a,o){return o instanceof Me&&a.op===o.op&&a.field.isEqual(o.field)&&Di(a.value,o.value)})(r,t):r instanceof Oi?(function(a,o){return o instanceof Oi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,p)=>c&&W0(d,o.filters[p])),!0):!1})(r,t):void yt(19439)}function tE(r){return r instanceof Me?(function(i){return`${i.field.canonicalString()} ${i.op} ${Wa(i.value)}`})(r):r instanceof Oi?(function(i){return i.op.toString()+" {"+i.getFilters().map(tE).join(" ,")+"}"})(r):"Filter"}class GS extends Me{constructor(t,i,a){super(t,i,a),this.key=mt.fromName(a.referenceValue)}matches(t){const i=mt.comparator(t.key,this.key);return this.matchesComparison(i)}}class FS extends Me{constructor(t,i){super(t,"in",i),this.keys=eE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class QS extends Me{constructor(t,i){super(t,"not-in",i),this.keys=eE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function eE(r,t){return(t.arrayValue?.values||[]).map((i=>mt.fromName(i.referenceValue)))}class KS extends Me{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Im(i)&&Oo(i.arrayValue,this.value)}}class YS extends Me{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Oo(this.value.arrayValue,i)}}class XS extends Me{constructor(t,i){super(t,"not-in",i)}matches(t){if(Oo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Oo(this.value.arrayValue,i)}}class ZS extends Me{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Im(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Oo(this.value.arrayValue,a)))}}class $S{constructor(t,i=null,a=[],o=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function gv(r,t=null,i=[],a=[],o=null,c=null,d=null){return new $S(r,t,i,a,o,c,d)}function Nm(r){const t=bt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>im(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),ah(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>Wa(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>Wa(a))).join(",")),t.Te=i}return t.Te}function Dm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!qS(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!W0(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!mv(r.startAt,t.startAt)&&mv(r.endAt,t.endAt)}function sm(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class oh{constructor(t,i=null,a=[],o=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function JS(r,t,i,a,o,c,d,p){return new oh(r,t,i,a,o,c,d,p)}function Om(r){return new oh(r)}function pv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function WS(r){return r.collectionGroup!==null}function So(r){const t=bt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Ve(Ke.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Gc(c,a))})),i.has(Ke.keyField().canonicalString())||t.Ie.push(new Gc(Ke.keyField(),a))}return t.Ie}function wi(r){const t=bt(r);return t.Ee||(t.Ee=t2(t,So(r))),t.Ee}function t2(r,t){if(r.limitType==="F")return gv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new Gc(o.field,c)}));const i=r.endAt?new Hc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Hc(r.startAt.position,r.startAt.inclusive):null;return gv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function rm(r,t,i){return new oh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function uh(r,t){return Dm(wi(r),wi(t))&&r.limitType===t.limitType}function nE(r){return`${Nm(wi(r))}|lt:${r.limitType}`}function za(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>tE(o))).join(", ")}]`),ah(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>Wa(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>Wa(o))).join(",")),`Target(${a})`})(wi(r))}; limitType=${r.limitType})`}function ch(r,t){return t.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):mt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,o){for(const c of So(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(r,t)&&(function(a,o){return!(a.startAt&&!(function(d,p,_){const y=dv(d,p,_);return d.inclusive?y<=0:y<0})(a.startAt,So(a),o)||a.endAt&&!(function(d,p,_){const y=dv(d,p,_);return d.inclusive?y>=0:y>0})(a.endAt,So(a),o))})(r,t)}function e2(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function iE(r){return(t,i)=>{let a=!1;for(const o of So(r)){const c=n2(o,t,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function n2(r,t,i){const a=r.field.isKeyField()?mt.comparator(t.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?Ja(_,y):yt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return yt(19790,{direction:r.dir})}}class Kr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){ar(this.inner,((i,a)=>{for(const[o,c]of a)t(o,c)}))}isEmpty(){return B0(this.inner)}size(){return this.innerSize}}const i2=new ue(mt.comparator);function is(){return i2}const sE=new ue(mt.comparator);function vo(...r){let t=sE;for(const i of r)t=t.insert(i.key,i);return t}function rE(r){let t=sE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function jr(){return wo()}function aE(){return wo()}function wo(){return new Kr((r=>r.toString()),((r,t)=>r.isEqual(t)))}const s2=new ue(mt.comparator),r2=new Ve(mt.comparator);function Mt(...r){let t=r2;for(const i of r)t=t.add(i);return t}const a2=new Ve(Ot);function l2(){return a2}function Mm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zc(t)?"-0":t}}function lE(r){return{integerValue:""+r}}function o2(r,t){return VS(t)?lE(t):Mm(r,t)}class hh{constructor(){this._=void 0}}function u2(r,t,i){return r instanceof Fc?(function(o,c){const d={fields:{[G0]:{stringValue:H0},[Q0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&xm(c)&&(c=lh(c)),c&&(d.fields[F0]=c),{mapValue:d}})(i,t):r instanceof tl?uE(r,t):r instanceof Mo?cE(r,t):(function(o,c){const d=oE(o,c),p=yv(d)+yv(o.Ae);return nm(d)&&nm(o.Ae)?lE(p):Mm(o.serializer,p)})(r,t)}function c2(r,t,i){return r instanceof tl?uE(r,t):r instanceof Mo?cE(r,t):i}function oE(r,t){return r instanceof Qc?(function(a){return nm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Fc extends hh{}class tl extends hh{constructor(t){super(),this.elements=t}}function uE(r,t){const i=hE(t);for(const a of r.elements)i.some((o=>Di(o,a)))||i.push(a);return{arrayValue:{values:i}}}class Mo extends hh{constructor(t){super(),this.elements=t}}function cE(r,t){let i=hE(t);for(const a of r.elements)i=i.filter((o=>!Di(o,a)));return{arrayValue:{values:i}}}class Qc extends hh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function yv(r){return _e(r.integerValue||r.doubleValue)}function hE(r){return Im(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class h2{constructor(t,i){this.field=t,this.transform=i}}function f2(r,t){return r.field.isEqual(t.field)&&(function(a,o){return a instanceof tl&&o instanceof tl||a instanceof Mo&&o instanceof Mo?$a(a.elements,o.elements,Di):a instanceof Qc&&o instanceof Qc?Di(a.Ae,o.Ae):a instanceof Fc&&o instanceof Fc})(r.transform,t.transform)}class d2{constructor(t,i){this.version=t,this.transformResults=i}}class jn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new jn}static exists(t){return new jn(void 0,t)}static updateTime(t){return new jn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Dc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class fh{}function fE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Vm(r.key,jn.none()):new Po(r.key,r.data,jn.none());{const i=r.data,a=mn.empty();let o=new Ve(Ke.comparator);for(let c of t.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new lr(r.key,a,new Sn(o.toArray()),jn.none())}}function m2(r,t,i){r instanceof Po?(function(o,c,d){const p=o.value.clone(),_=vv(o.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof lr?(function(o,c,d){if(!Dc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=vv(o.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(dE(o)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,t,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Ro(r,t,i,a){return r instanceof Po?(function(c,d,p,_){if(!Dc(c.precondition,d))return p;const y=c.value.clone(),b=Ev(c.fieldTransforms,_,d);return y.setAll(b),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,a):r instanceof lr?(function(c,d,p,_){if(!Dc(c.precondition,d))return p;const y=Ev(c.fieldTransforms,_,d),b=d.data;return b.setAll(dE(c)),b.setAll(y),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,t,i,a):(function(c,d,p){return Dc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function g2(r,t){let i=null;for(const a of r.fieldTransforms){const o=t.data.field(a.field),c=oE(a.transform,o||null);c!=null&&(i===null&&(i=mn.empty()),i.set(a.field,c))}return i||null}function _v(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&$a(a,o,((c,d)=>f2(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Po extends fh{constructor(t,i,a,o=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class lr extends fh{constructor(t,i,a,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function dE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function vv(r,t,i){const a=new Map;Gt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,p=t.data.field(c.field);a.set(c.field,c2(d,p,i[o]))}return a}function Ev(r,t,i){const a=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);a.set(o.field,u2(c,d,t))}return a}class Vm extends fh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class p2 extends fh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class y2{constructor(t,i,a,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&m2(c,t,a[o])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Ro(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Ro(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=aE();return this.mutations.forEach((o=>{const c=t.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(o.key)?null:p;const _=fE(d,p);_!==null&&a.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(vt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Mt())}isEqual(t){return this.batchId===t.batchId&&$a(this.mutations,t.mutations,((i,a)=>_v(i,a)))&&$a(this.baseMutations,t.baseMutations,((i,a)=>_v(i,a)))}}class km{constructor(t,i,a,o){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(t,i,a){Gt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let o=(function(){return s2})();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new km(t,i,a,o)}}class _2{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class v2{constructor(t,i){this.count=t,this.unchangedNames=i}}var xe,Lt;function E2(r){switch(r){case $.OK:return yt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return yt(15467,{code:r})}}function mE(r){if(r===void 0)return ns("GRPC error has no .code"),$.UNKNOWN;switch(r){case xe.OK:return $.OK;case xe.CANCELLED:return $.CANCELLED;case xe.UNKNOWN:return $.UNKNOWN;case xe.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case xe.INTERNAL:return $.INTERNAL;case xe.UNAVAILABLE:return $.UNAVAILABLE;case xe.UNAUTHENTICATED:return $.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case xe.NOT_FOUND:return $.NOT_FOUND;case xe.ALREADY_EXISTS:return $.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return $.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case xe.ABORTED:return $.ABORTED;case xe.OUT_OF_RANGE:return $.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return $.UNIMPLEMENTED;case xe.DATA_LOSS:return $.DATA_LOSS;default:return yt(39323,{code:r})}}(Lt=xe||(xe={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";function T2(){return new TextEncoder}const b2=new Xs([4294967295,4294967295],0);function Tv(r){const t=T2().encode(r),i=new N0;return i.update(t),new Uint8Array(i.digest())}function bv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Xs([i,a],0),new Xs([o,c],0)]}class Um{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Eo(`Invalid padding: ${i}`);if(a<0)throw new Eo(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Eo(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Eo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Xs.fromNumber(this.ge)}ye(t,i,a){let o=t.add(i.multiply(Xs.fromNumber(a)));return o.compare(b2)===1&&(o=new Xs([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Tv(t),[a,o]=bv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Um(c,o,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Tv(t),[a,o]=bv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Eo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class dh{constructor(t,i,a,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const o=new Map;return o.set(t,jo.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new dh(vt.min(),o,new ue(Ot),is(),Mt())}}class jo{constructor(t,i,a,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new jo(a,i,Mt(),Mt(),Mt())}}class Oc{constructor(t,i,a,o){this.be=t,this.removedTargetIds=i,this.key=a,this.De=o}}class gE{constructor(t,i){this.targetId=t,this.Ce=i}}class pE{constructor(t,i,a=Ye.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=o}}class Av{constructor(){this.ve=0,this.Fe=Sv(),this.Me=Ye.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Mt(),i=Mt(),a=Mt();return this.Fe.forEach(((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:yt(38017,{changeType:c})}})),new jo(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=Sv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Gt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class A2{constructor(t){this.Ge=t,this.ze=new Map,this.je=is(),this.Je=Sc(),this.He=Sc(),this.Ye=new ue(Ot)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,a=t.Ce.count,o=this.ot(i);if(o){const c=o.target;if(sm(c))if(a===0){const d=new mt(c.path);this.et(i,d,Je.newNoDocument(d,vt.min()))}else Gt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,p;try{d=er(a).toUint8Array()}catch(_){if(_ instanceof q0)return Za("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Um(d,o,c)}catch(_){return Za(_ instanceof Eo?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&sm(p.target)){const _=new mt(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Je.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Mt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const o=new dh(t,i,this.Ye,this.je,a);return this.je=is(),this.Je=Sc(),this.He=Sc(),this.Ye=new ue(Ot),o}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Av,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Ve(Ot),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Ve(Ot),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||at("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Av),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Sc(){return new ue(mt.comparator)}function Sv(){return new ue(mt.comparator)}const S2={asc:"ASCENDING",desc:"DESCENDING"},w2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},R2={and:"AND",or:"OR"};class C2{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function am(r,t){return r.useProto3Json||ah(t)?t:{value:t}}function Kc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function yE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function x2(r,t){return Kc(r,t.toTimestamp())}function Ri(r){return Gt(!!r,49232),vt.fromTimestamp((function(i){const a=tr(i);return new ae(a.seconds,a.nanos)})(r))}function Lm(r,t){return lm(r,t).canonicalString()}function lm(r,t){const i=(function(o){return new re(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?i:i.child(t)}function _E(r){const t=re.fromString(r);return Gt(AE(t),10190,{key:t.toString()}),t}function om(r,t){return Lm(r.databaseId,t.path)}function jd(r,t){const i=_E(t);if(i.get(1)!==r.databaseId.projectId)throw new ut($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ut($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new mt(EE(i))}function vE(r,t){return Lm(r.databaseId,t)}function I2(r){const t=_E(r);return t.length===4?re.emptyPath():EE(t)}function um(r){return new re(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function EE(r){return Gt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function wv(r,t,i){return{name:om(r,t),fields:i.value.mapValue.fields}}function N2(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:yt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=(function(y,b){return y.useProto3Json?(Gt(b===void 0||typeof b=="string",58123),Ye.fromBase64String(b||"")):(Gt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Ye.fromUint8Array(b||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const b=y.code===void 0?$.UNKNOWN:mE(y.code);return new ut(b,y.message||"")})(d);i=new pE(a,o,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=jd(r,a.document.name),c=Ri(a.document.updateTime),d=a.document.createTime?Ri(a.document.createTime):vt.min(),p=new mn({mapValue:{fields:a.document.fields}}),_=Je.newFoundDocument(o,c,d,p),y=a.targetIds||[],b=a.removedTargetIds||[];i=new Oc(y,b,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=jd(r,a.document),c=a.readTime?Ri(a.readTime):vt.min(),d=Je.newNoDocument(o,c),p=a.removedTargetIds||[];i=new Oc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=jd(r,a.document),c=a.removedTargetIds||[];i=new Oc([],c,o,null)}else{if(!("filter"in t))return yt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new v2(o,c),p=a.targetId;i=new gE(p,d)}}return i}function D2(r,t){let i;if(t instanceof Po)i={update:wv(r,t.key,t.value)};else if(t instanceof Vm)i={delete:om(r,t.key)};else if(t instanceof lr)i={update:wv(r,t.key,t.data),updateMask:z2(t.fieldMask)};else{if(!(t instanceof p2))return yt(16599,{Vt:t.type});i={verify:om(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof Fc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof tl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Mo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Qc)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw yt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:x2(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:yt(27497)})(r,t.precondition)),i}function O2(r,t){return r&&r.length>0?(Gt(t!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?Ri(o.updateTime):Ri(c);return d.isEqual(vt.min())&&(d=Ri(c)),new d2(d,o.transformResults||[])})(i,t)))):[]}function M2(r,t){return{documents:[vE(r,t.path)]}}function V2(r,t){const i={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=vE(r,o);const c=(function(y){if(y.length!==0)return bE(Oi.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((b=>(function(M){return{field:Ba(M.field),direction:L2(M.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=am(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:o}}function k2(r){let t=I2(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Gt(a===1,65062);const b=i.from[0];b.allDescendants?o=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(S){const M=TE(S);return M instanceof Oi&&J0(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((M=>(function(tt){return new Gc(qa(tt.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(tt.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let M;return M=typeof S=="object"?S.value:S,ah(M)?null:M})(i.limit));let _=null;i.startAt&&(_=(function(S){const M=!!S.before,F=S.values||[];return new Hc(F,M)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const M=!S.before,F=S.values||[];return new Hc(F,M)})(i.endAt)),JS(t,o,d,c,p,"F",_,y)}function U2(r,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function TE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=qa(i.unaryFilter.field);return Me.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=qa(i.unaryFilter.field);return Me.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=qa(i.unaryFilter.field);return Me.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=qa(i.unaryFilter.field);return Me.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Me.create(qa(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Oi.create(i.compositeFilter.filters.map((a=>TE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(i.compositeFilter.op))})(r):yt(30097,{filter:r})}function L2(r){return S2[r]}function P2(r){return w2[r]}function j2(r){return R2[r]}function Ba(r){return{fieldPath:r.canonicalString()}}function qa(r){return Ke.fromServerFormat(r.fieldPath)}function bE(r){return r instanceof Me?(function(i){if(i.op==="=="){if(fv(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NAN"}};if(hv(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(fv(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NOT_NAN"}};if(hv(i.value))return{unaryFilter:{field:Ba(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ba(i.field),op:P2(i.op),value:i.value}}})(r):r instanceof Oi?(function(i){const a=i.getFilters().map((o=>bE(o)));return a.length===1?a[0]:{compositeFilter:{op:j2(i.op),filters:a}}})(r):yt(54877,{filter:r})}function z2(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function AE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Fs{constructor(t,i,a,o,c=vt.min(),d=vt.min(),p=Ye.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new Fs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Fs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class B2{constructor(t){this.yt=t}}function q2(r){const t=k2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?rm(t,t.limit,"L"):t}class H2{constructor(){this.Cn=new G2}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(Ws.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(Ws.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class G2{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i]||new Ve(re.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(t){return(this.index[t]||new Ve(re.comparator)).toArray()}}const Rv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},SE=41943040;class dn{static withCacheSize(t){return new dn(t,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(SE,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);class el{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new el(0)}static cr(){return new el(-1)}}const Cv="LruGarbageCollector",F2=1048576;function xv([r,t],[i,a]){const o=Ot(r,i);return o===0?Ot(t,a):o}class Q2{constructor(t){this.Ir=t,this.buffer=new Ve(xv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();xv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class K2{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){at(Cv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ll(i)?at(Cv,"Ignoring IndexedDB error during garbage collection: ",i):await al(i)}await this.Vr(3e5)}))}}class Y2{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(rh.ce);const a=new Q2(i);return this.mr.forEachTarget(t,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Rv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Rv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,o,c,d,p,_,y;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(t,o)))).next((S=>(a=S,p=Date.now(),this.removeTargets(t,a,i)))).next((S=>(c=S,_=Date.now(),this.removeOrphanedDocuments(t,a)))).next((S=>(y=Date.now(),ja()<=Dt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${S} documents in `+(y-_)+`ms
Total Duration: ${y-b}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S}))))}}function X2(r,t){return new Y2(r,t)}class Z2{constructor(){this.changes=new Kr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class $2{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class J2{constructor(t,i,a,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(a!==null&&Ro(a.mutation,o,Sn.empty(),ae.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Mt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Mt()){const o=jr();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,a).next((c=>{let d=vo();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=jr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Mt())))}populateOverlays(t,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(t,o).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,o){let c=is();const d=wo(),p=(function(){return wo()})();return i.forEach(((_,y)=>{const b=a.get(y.key);o.has(y.key)&&(b===void 0||b.mutation instanceof lr)?c=c.insert(y.key,y):b!==void 0?(d.set(y.key,b.mutation.getFieldMask()),Ro(b.mutation,y,b.mutation.getFieldMask(),ae.now())):d.set(y.key,Sn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,b)=>d.set(y,b))),i.forEach(((y,b)=>p.set(y,new $2(b,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=wo();let o=new ue(((d,p)=>d-p)),c=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let b=a.get(_)||Sn.empty();b=p.applyToLocalView(y,b),a.set(_,b);const S=(o.get(p.batchId)||Mt()).add(_);o=o.insert(p.batchId,S)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,b=_.value,S=aE();b.forEach((M=>{if(!c.has(M)){const F=fE(i.get(M),a.get(M));F!==null&&S.set(M,F),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,S))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,o){return(function(d){return mt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):WS(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,o):this.getDocumentsMatchingCollectionQuery(t,i,a,o)}getNextDocuments(t,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,o-c.size):X.resolve(jr());let p=Io,_=c;return d.next((y=>X.forEach(y,((b,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(b)?X.resolve():this.remoteDocumentCache.getEntry(t,b).next((M=>{_=_.insert(b,M)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,Mt()))).next((b=>({batchId:p,changes:rE(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new mt(i)).next((a=>{let o=vo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,o){const c=i.collectionGroup;let d=vo();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(_=>{const y=(function(S,M){return new oh(M,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,o).next((b=>{b.forEach(((S,M)=>{d=d.insert(S,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,o)))).next((d=>{c.forEach(((_,y)=>{const b=y.getKey();d.get(b)===null&&(d=d.insert(b,Je.newInvalidDocument(b)))}));let p=vo();return d.forEach(((_,y)=>{const b=c.get(_);b!==void 0&&Ro(b.mutation,y,Sn.empty(),ae.now()),ch(i,y)&&(p=p.insert(_,y))})),p}))}}class W2{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Ri(o.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:q2(o.bundledQuery),readTime:Ri(o.readTime)}})(i)),X.resolve()}}class tw{constructor(){this.overlays=new ue(mt.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=jr();return X.forEach(i,(o=>this.getOverlay(t,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((o,c)=>{this.St(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const o=jr(),c=i.length+1,d=new mt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&o.set(_.getKey(),_)}return X.resolve(o)}getOverlaysForCollectionGroup(t,i,a,o){let c=new ue(((y,b)=>y-b));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let b=c.get(y.largestBatchId);b===null&&(b=jr(),c=c.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const p=jr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,b)=>p.set(y,b))),!(p.size()>=o)););return X.resolve(p)}St(t,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new _2(i,a));let c=this.qr.get(i);c===void 0&&(c=Mt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class ew{constructor(){this.sessionToken=Ye.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Pm{constructor(){this.Qr=new Ve(Pe.$r),this.Ur=new Ve(Pe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Pe(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Pe(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new mt(new re([])),a=new Pe(i,t),o=new Pe(i,t+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new mt(new re([])),a=new Pe(i,t),o=new Pe(i,t+1);let c=Mt();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Pe(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Pe{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return mt.comparator(t.key,i.key)||Ot(t.Yr,i.Yr)}static Kr(t,i){return Ot(t.Yr,i.Yr)||mt.comparator(t.key,i.key)}}class nw{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ve(Pe.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new y2(c,i,a,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new Pe(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Cm:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Pe(i,0),o=new Pe(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const p=this.Xr(d.Yr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ve(Ot);return i.forEach((o=>{const c=new Pe(o,0),d=new Pe(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,o=a.length+1;let c=a;mt.isDocumentKey(c)||(c=c.child(""));const d=new Pe(new mt(c),0);let p=new Ve(Ot);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===o&&(p=p.add(_.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){Gt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(o=>{const c=new Pe(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Pe(i,0),o=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class iw{constructor(t){this.ri=t,this.docs=(function(){return new ue(mt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(t,i){let a=is();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():Je.newInvalidDocument(o))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,o){let c=is();const d=i.path,p=new mt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:b}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||NS(IS(b),a)<=0||(o.has(b.key)||ch(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,o){yt(9500)}ii(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new sw(this)}getSize(t){return X.resolve(this.size)}}class sw extends Z2{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class rw{constructor(t){this.persistence=t,this.si=new Kr((i=>Nm(i)),Dm),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.oi=0,this._i=new Pm,this.targetCount=0,this.ai=el.ur()}forEachTarget(t,i){return this.si.forEach(((a,o)=>i(o))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new el(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let o=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)})),X.waitFor(c).next((()=>o))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}class wE{constructor(t,i){this.ui={},this.overlays={},this.ci=new rh(0),this.li=!1,this.li=!0,this.hi=new ew,this.referenceDelegate=t(this),this.Pi=new rw(this),this.indexManager=new H2,this.remoteDocumentCache=(function(o){return new iw(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new B2(i),this.Ii=new W2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new tw,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new nw(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){at("MemoryPersistence","Starting transaction:",t);const o=new aw(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(t,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class aw extends OS{constructor(t){super(),this.currentSequenceNumber=t}}class jm{constructor(t){this.persistence=t,this.Ri=new Pm,this.Vi=null}static mi(t){return new jm(t)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const o=mt.fromPath(a);return this.gi(t,o).next((c=>{c||i.removeEntry(o,vt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Yc{constructor(t,i){this.persistence=t,this.pi=new Kr((a=>kS(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=X2(this,i)}static mi(t,i){return new Yc(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((o=>a+o))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((a,o)=>this.br(t,a,o).next((c=>c?X.resolve():i(o)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,vt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Ic(t.data.value)),i}br(t,i,a){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return X.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class zm{constructor(t,i,a,o){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=o}static As(t,i){let a=Mt(),o=Mt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new zm(t,i.fromCache,a,o)}}class lw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class ow{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return $b()?8:MS(We())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,o){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new lw;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,o){return a.documentReadCount<this.fs?(ja()<=Dt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",za(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(ja()<=Dt.DEBUG&&at("QueryEngine","Query:",za(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(ja()<=Dt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",za(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,wi(i))):X.resolve())}ys(t,i){if(pv(i))return X.resolve(null);let a=wi(i);return this.indexManager.getIndexType(t,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=rm(i,null,"F"),a=wi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Mt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((_=>{const y=this.Ds(i,p);return this.Cs(i,y,d,_.readTime)?this.ys(t,rm(i,null,"F")):this.vs(t,y,i,_)}))))})))))}ws(t,i,a,o){return pv(i)||o.isEqual(vt.min())?X.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?X.resolve(null):(ja()<=Dt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),za(i)),this.vs(t,d,i,xS(o,Io)).next((p=>p)))}))}Ds(t,i){let a=new Ve(iE(t));return i.forEach(((o,c)=>{ch(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,o){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(t,i,a){return ja()<=Dt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",za(i)),this.ps.getDocumentsMatchingQuery(t,i,Ws.min(),a)}vs(t,i,a,o){return this.ps.getDocumentsMatchingQuery(t,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Bm="LocalStore",uw=3e8;class cw{constructor(t,i,a,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new ue(Ot),this.xs=new Kr((c=>Nm(c)),Dm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new J2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function hw(r,t,i,a){return new cw(r,t,i,a)}async function RE(r,t){const i=bt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let _=Mt();for(const y of o){d.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}for(const y of c){p.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function fw(r,t){const i=bt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,b){const S=y.batch,M=S.keys();let F=X.resolve();return M.forEach((tt=>{F=F.next((()=>b.getEntry(_,tt))).next((nt=>{const J=y.docVersions.get(tt);Gt(J!==null,48541),nt.version.compareTo(J)<0&&(S.applyToRemoteDocument(nt,y),nt.isValidDocument()&&(nt.setReadTime(y.commitVersion),b.addEntry(nt)))}))})),F.next((()=>p.mutationQueue.removeMutationBatch(_,S)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let _=Mt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function CE(r){const t=bt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function dw(r,t){const i=bt(r),a=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];t.targetChanges.forEach(((b,S)=>{const M=o.get(S);if(!M)return;p.push(i.Pi.removeMatchingKeys(c,b.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,b.addedDocuments,S))));let F=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?F=F.withResumeToken(Ye.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):b.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(b.resumeToken,a)),o=o.insert(S,F),(function(nt,J,ft){return nt.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=uw?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0})(M,F,b)&&p.push(i.Pi.updateTargetData(c,F))}));let _=is(),y=Mt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),p.push(mw(c,d,t.documentUpdates).next((b=>{_=b.ks,y=b.qs}))),!a.isEqual(vt.min())){const b=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(b)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=o,c)))}function mw(r,t,i){let a=Mt(),o=Mt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=is();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),_.isNoDocument()&&_.version.isEqual(vt.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):at(Bm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:o}}))}function gw(r,t){const i=bt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Cm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function pw(r,t){const i=bt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,t).next((c=>c?(o=c,X.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new Fs(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function cm(r,t,i){const a=bt(r),o=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!ll(d))throw d;at(Bm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(o.target)}function Iv(r,t,i){const a=bt(r);let o=vt.min(),c=Mt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,b){const S=bt(_),M=S.xs.get(b);return M!==void 0?X.resolve(S.Ms.get(M)):S.Pi.getTargetData(y,b)})(a,d,wi(t)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?o:vt.min(),i?c:Mt()))).next((p=>(yw(a,e2(t),p),{documents:p,Qs:c})))))}function yw(r,t,i){let a=r.Os.get(t)||vt.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class Nv{constructor(){this.activeTargetIds=l2()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class _w{constructor(){this.Mo=new Nv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Nv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class vw{Oo(t){}shutdown(){}}const Dv="ConnectivityMonitor";class Ov{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(Dv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){at(Dv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let wc=null;function hm(){return wc===null?wc=(function(){return 268435456+Math.round(2147483648*Math.random())})():wc++,"0x"+wc.toString(16)}const zd="RestConnection",Ew={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Tw{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===Bc?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(t,i,a,o,c){const d=hm(),p=this.zo(t,i.toUriEncodedString());at(zd,`Sending RPC '${t}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,o,c);const{host:y}=new URL(p),b=il(y);return this.Jo(t,p,_,a,b).then((S=>(at(zd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw Za(zd,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",a),S}))}Ho(t,i,a,o,c,d){return this.Go(t,i,a,o,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+rl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>t[c]=o)),a&&a.headers.forEach(((o,c)=>t[c]=o))}zo(t,i){const a=Ew[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class bw{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Ze="WebChannelConnection";class Aw extends Tw{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,o,c){const d=hm();return new Promise(((p,_)=>{const y=new D0;y.setWithCredentials(!0),y.listenOnce(O0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case xc.NO_ERROR:const S=y.getResponseJson();at(Ze,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case xc.TIMEOUT:at(Ze,`RPC '${t}' ${d} timed out`),_(new ut($.DEADLINE_EXCEEDED,"Request time out"));break;case xc.HTTP_ERROR:const M=y.getStatus();if(at(Ze,`RPC '${t}' ${d} failed with status:`,M,"response text:",y.getResponseText()),M>0){let F=y.getResponseJson();Array.isArray(F)&&(F=F[0]);const tt=F?.error;if(tt&&tt.status&&tt.message){const nt=(function(ft){const Et=ft.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(Et)>=0?Et:$.UNKNOWN})(tt.status);_(new ut(nt,tt.message))}else _(new ut($.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ut($.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{at(Ze,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(o);at(Ze,`RPC '${t}' ${d} sending request:`,o),y.send(i,"POST",b,a,15)}))}T_(t,i,a){const o=hm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=k0(),p=V0(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const b=c.join("");at(Ze,`Creating RPC '${t}' stream ${o}: ${b}`,_);const S=d.createWebChannel(b,_);this.I_(S);let M=!1,F=!1;const tt=new bw({Yo:J=>{F?at(Ze,`Not sending because RPC '${t}' stream ${o} is closed:`,J):(M||(at(Ze,`Opening RPC '${t}' stream ${o} transport.`),S.open(),M=!0),at(Ze,`RPC '${t}' stream ${o} sending:`,J),S.send(J))},Zo:()=>S.close()}),nt=(J,ft,Et)=>{J.listen(ft,(pt=>{try{Et(pt)}catch(xt){setTimeout((()=>{throw xt}),0)}}))};return nt(S,_o.EventType.OPEN,(()=>{F||(at(Ze,`RPC '${t}' stream ${o} transport opened.`),tt.o_())})),nt(S,_o.EventType.CLOSE,(()=>{F||(F=!0,at(Ze,`RPC '${t}' stream ${o} transport closed`),tt.a_(),this.E_(S))})),nt(S,_o.EventType.ERROR,(J=>{F||(F=!0,Za(Ze,`RPC '${t}' stream ${o} transport errored. Name:`,J.name,"Message:",J.message),tt.a_(new ut($.UNAVAILABLE,"The operation could not be completed")))})),nt(S,_o.EventType.MESSAGE,(J=>{if(!F){const ft=J.data[0];Gt(!!ft,16349);const Et=ft,pt=Et?.error||Et[0]?.error;if(pt){at(Ze,`RPC '${t}' stream ${o} received error:`,pt);const xt=pt.status;let te=(function(w){const x=xe[w];if(x!==void 0)return mE(x)})(xt),Vt=pt.message;te===void 0&&(te=$.INTERNAL,Vt="Unknown error status: "+xt+" with message "+pt.message),F=!0,tt.a_(new ut(te,Vt)),S.close()}else at(Ze,`RPC '${t}' stream ${o} received:`,ft),tt.u_(ft)}})),nt(p,M0.STAT_EVENT,(J=>{J.stat===Wd.PROXY?at(Ze,`RPC '${t}' stream ${o} detected buffering proxy`):J.stat===Wd.NOPROXY&&at(Ze,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{tt.__()}),0),tt}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Bd(){return typeof document<"u"?document:null}function mh(r){return new C2(r,!0)}class xE{constructor(t,i,a=1e3,o=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&at("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Mv="PersistentStream";class IE{constructor(t,i,a,o,c,d,p,_){this.Mi=t,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new xE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(ns(i.toString()),ns("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{t((()=>{const o=new ut($.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(Mv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(at(Mv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Sw extends IE{constructor(t,i,a,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=N2(this.serializer,t),a=(function(c){if(!("targetChange"in c))return vt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?Ri(d.readTime):vt.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=um(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=sm(_)?{documents:M2(c,_)}:{query:V2(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=yE(c,d.resumeToken);const y=am(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(vt.min())>0){p.readTime=Kc(c,d.snapshotVersion.toTimestamp());const y=am(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const a=U2(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=um(this.serializer),i.removeTarget=t,this.q_(i)}}class ww extends IE{constructor(t,i,a,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Gt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Gt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=O2(t.writeResults,t.commitTime),a=Ri(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=um(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>D2(this.serializer,a)))};this.q_(i)}}class Rw{}class Cw extends Rw{constructor(t,i,a,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ut($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,lm(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ut($.UNKNOWN,c.toString())}))}Ho(t,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,lm(i,a),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class xw{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ns(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Gr="RemoteStore";class Iw{constructor(t,i,a,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Yr(this)&&(at(Gr,"Restarting streams for network reachability change."),await(async function(_){const y=bt(_);y.Ea.add(4),await zo(y),y.Ra.set("Unknown"),y.Ea.delete(4),await gh(y)})(this))}))})),this.Ra=new xw(a,o)}}async function gh(r){if(Yr(r))for(const t of r.da)await t(!0)}async function zo(r){for(const t of r.da)await t(!1)}function NE(r,t){const i=bt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Fm(i)?Gm(i):ol(i).O_()&&Hm(i,t))}function qm(r,t){const i=bt(r),a=ol(i);i.Ia.delete(t),a.O_()&&DE(i,t),i.Ia.size===0&&(a.O_()?a.L_():Yr(i)&&i.Ra.set("Unknown"))}function Hm(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}ol(r).Y_(t)}function DE(r,t){r.Va.Ue(t),ol(r).Z_(t)}function Gm(r){r.Va=new A2({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),ol(r).start(),r.Ra.ua()}function Fm(r){return Yr(r)&&!ol(r).x_()&&r.Ia.size>0}function Yr(r){return bt(r).Ea.size===0}function OE(r){r.Va=void 0}async function Nw(r){r.Ra.set("Online")}async function Dw(r){r.Ia.forEach(((t,i)=>{Hm(r,t)}))}async function Ow(r,t){OE(r),Fm(r)?(r.Ra.ha(t),Gm(r)):r.Ra.set("Unknown")}async function Mw(r,t,i){if(r.Ra.set("Online"),t instanceof pE&&t.state===2&&t.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(r,t)}catch(a){at(Gr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Xc(r,a)}else if(t instanceof Oc?r.Va.Ze(t):t instanceof gE?r.Va.st(t):r.Va.tt(t),!i.isEqual(vt.min()))try{const a=await CE(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const b=c.Ia.get(y);b&&c.Ia.set(y,b.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const b=c.Ia.get(_);if(!b)return;c.Ia.set(_,b.withResumeToken(Ye.EMPTY_BYTE_STRING,b.snapshotVersion)),DE(c,_);const S=new Fs(b.target,_,y,b.sequenceNumber);Hm(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){at(Gr,"Failed to raise snapshot:",a),await Xc(r,a)}}async function Xc(r,t,i){if(!ll(t))throw t;r.Ea.add(1),await zo(r),r.Ra.set("Offline"),i||(i=()=>CE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{at(Gr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await gh(r)}))}function ME(r,t){return t().catch((i=>Xc(r,i,t)))}async function ph(r){const t=bt(r),i=ir(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Cm;for(;Vw(t);)try{const o=await gw(t.localStore,a);if(o===null){t.Ta.length===0&&i.L_();break}a=o.batchId,kw(t,o)}catch(o){await Xc(t,o)}VE(t)&&kE(t)}function Vw(r){return Yr(r)&&r.Ta.length<10}function kw(r,t){r.Ta.push(t);const i=ir(r);i.O_()&&i.X_&&i.ea(t.mutations)}function VE(r){return Yr(r)&&!ir(r).x_()&&r.Ta.length>0}function kE(r){ir(r).start()}async function Uw(r){ir(r).ra()}async function Lw(r){const t=ir(r);for(const i of r.Ta)t.ea(i.mutations)}async function Pw(r,t,i){const a=r.Ta.shift(),o=km.from(a,t,i);await ME(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await ph(r)}async function jw(r,t){t&&ir(r).X_&&await(async function(a,o){if((function(d){return E2(d)&&d!==$.ABORTED})(o.code)){const c=a.Ta.shift();ir(a).B_(),await ME(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await ph(a)}})(r,t),VE(r)&&kE(r)}async function Vv(r,t){const i=bt(r);i.asyncQueue.verifyOperationInProgress(),at(Gr,"RemoteStore received new credentials");const a=Yr(i);i.Ea.add(3),await zo(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await gh(i)}async function zw(r,t){const i=bt(r);t?(i.Ea.delete(2),await gh(i)):t||(i.Ea.add(2),await zo(i),i.Ra.set("Unknown"))}function ol(r){return r.ma||(r.ma=(function(i,a,o){const c=bt(i);return c.sa(),new Sw(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:Nw.bind(null,r),t_:Dw.bind(null,r),r_:Ow.bind(null,r),H_:Mw.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Fm(r)?Gm(r):r.Ra.set("Unknown")):(await r.ma.stop(),OE(r))}))),r.ma}function ir(r){return r.fa||(r.fa=(function(i,a,o){const c=bt(i);return c.sa(),new ww(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:Uw.bind(null,r),r_:jw.bind(null,r),ta:Lw.bind(null,r),na:Pw.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await ph(r)):(await r.fa.stop(),r.Ta.length>0&&(at(Gr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Qm{constructor(t,i,a,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,o,c){const d=Date.now()+a,p=new Qm(t,i,d,o,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Km(r,t){if(ns("AsyncQueue",`${t}: ${r}`),ll(r))return new ut($.UNAVAILABLE,`${t}: ${r}`);throw r}class Ga{static emptySet(t){return new Ga(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||mt.comparator(i.key,a.key):(i,a)=>mt.comparator(i.key,a.key),this.keyedMap=vo(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ga)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ga;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class kv{constructor(){this.ga=new ue(mt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):yt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class nl{constructor(t,i,a,o,c,d,p,_,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,o,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new nl(t,i,Ga.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&uh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class Bw{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class qw{constructor(){this.queries=Uv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=bt(i),c=o.queries;o.queries=Uv(),c.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(a)}))})(this,new ut($.ABORTED,"Firestore shutting down"))}}function Uv(){return new Kr((r=>nE(r)),uh)}async function Hw(r,t){const i=bt(r);let a=3;const o=t.query;let c=i.queries.get(o);c?!c.ba()&&t.Da()&&(a=2):(c=new Bw,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=Km(d,`Initialization of query '${za(t.query)}' failed`);return void t.onError(p)}i.queries.set(o,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Ym(i)}async function Gw(r,t){const i=bt(r),a=t.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=t.Da()?0:1:!c.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function Fw(r,t){const i=bt(r);let a=!1;for(const o of t){const c=o.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(o)&&(a=!0);d.wa=o}}a&&Ym(i)}function Qw(r,t,i){const a=bt(r),o=a.queries.get(t);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(t)}function Ym(r){r.Ca.forEach((t=>{t.next()}))}var fm,Lv;(Lv=fm||(fm={})).Ma="default",Lv.Cache="cache";class Kw{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new nl(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=nl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==fm.Cache}}class UE{constructor(t){this.key=t}}class LE{constructor(t){this.key=t}}class Yw{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Mt(),this.mutatedKeys=Mt(),this.eu=iE(t),this.tu=new Ga(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new kv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((b,S)=>{const M=o.get(b),F=ch(this.query,S)?S:null,tt=!!M&&this.mutatedKeys.has(M.key),nt=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let J=!1;M&&F?M.data.isEqual(F.data)?tt!==nt&&(a.track({type:3,doc:F}),J=!0):this.su(M,F)||(a.track({type:2,doc:F}),J=!0,(_&&this.eu(F,_)>0||y&&this.eu(F,y)<0)&&(p=!0)):!M&&F?(a.track({type:0,doc:F}),J=!0):M&&!F&&(a.track({type:1,doc:M}),J=!0,(_||y)&&(p=!0)),J&&(F?(d=d.add(F),c=nt?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,o){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,S)=>(function(F,tt){const nt=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:J})}};return nt(F)-nt(tt)})(b.type,S.type)||this.eu(b.doc,S.doc))),this.ou(a),o=o??!1;const p=i&&!o?this._u():[],_=this.Xa.size===0&&this.current&&!o?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new nl(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new kv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Mt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new LE(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new UE(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Mt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return nl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Xm="SyncEngine";class Xw{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class Zw{constructor(t){this.key=t,this.hu=!1}}class $w{constructor(t,i,a,o,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Kr((p=>nE(p)),uh),this.Iu=new Map,this.Eu=new Set,this.du=new ue(mt.comparator),this.Au=new Map,this.Ru=new Pm,this.Vu={},this.mu=new Map,this.fu=el.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Jw(r,t,i=!0){const a=HE(r);let o;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await PE(a,t,i,!0),o}async function Ww(r,t){const i=HE(r);await PE(i,t,!0,!1)}async function PE(r,t,i,a){const o=await pw(r.localStore,wi(t)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await tR(r,t,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&NE(r.remoteStore,o),p}async function tR(r,t,i,a,o){r.pu=(S,M,F)=>(async function(nt,J,ft,Et){let pt=J.view.ru(ft);pt.Cs&&(pt=await Iv(nt.localStore,J.query,!1).then((({documents:I})=>J.view.ru(I,pt))));const xt=Et&&Et.targetChanges.get(J.targetId),te=Et&&Et.targetMismatches.get(J.targetId)!=null,Vt=J.view.applyChanges(pt,nt.isPrimaryClient,xt,te);return jv(nt,J.targetId,Vt.au),Vt.snapshot})(r,S,M,F);const c=await Iv(r.localStore,t,!0),d=new Yw(t,c.Qs),p=d.ru(c.documents),_=jo.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),y=d.applyChanges(p,r.isPrimaryClient,_);jv(r,i,y.au);const b=new Xw(t,i,d);return r.Tu.set(t,b),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function eR(r,t,i){const a=bt(r),o=a.Tu.get(t),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!uh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await cm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&qm(a.remoteStore,o.targetId),dm(a,o.targetId)})).catch(al)):(dm(a,o.targetId),await cm(a.localStore,o.targetId,!0))}async function nR(r,t){const i=bt(r),a=i.Tu.get(t),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),qm(i.remoteStore,a.targetId))}async function iR(r,t,i){const a=cR(r);try{const o=await(function(d,p){const _=bt(d),y=ae.now(),b=p.reduce(((F,tt)=>F.add(tt.key)),Mt());let S,M;return _.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let tt=is(),nt=Mt();return _.Ns.getEntries(F,b).next((J=>{tt=J,tt.forEach(((ft,Et)=>{Et.isValidDocument()||(nt=nt.add(ft))}))})).next((()=>_.localDocuments.getOverlayedDocuments(F,tt))).next((J=>{S=J;const ft=[];for(const Et of p){const pt=g2(Et,S.get(Et.key).overlayedDocument);pt!=null&&ft.push(new lr(Et.key,pt,X0(pt.value.mapValue),jn.exists(!0)))}return _.mutationQueue.addMutationBatch(F,y,ft,p)})).next((J=>{M=J;const ft=J.applyToLocalDocumentSet(S,nt);return _.documentOverlayCache.saveOverlays(F,J.batchId,ft)}))})).then((()=>({batchId:M.batchId,changes:rE(S)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),(function(d,p,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new ue(Ot)),y=y.insert(p,_),d.Vu[d.currentUser.toKey()]=y})(a,o.batchId,i),await Bo(a,o.changes),await ph(a.remoteStore)}catch(o){const c=Km(o,"Failed to persist write");i.reject(c)}}async function jE(r,t){const i=bt(r);try{const a=await dw(i.localStore,t);t.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Gt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Gt(d.hu,14607):o.removedDocuments.size>0&&(Gt(d.hu,42227),d.hu=!1))})),await Bo(i,a,t)}catch(a){await al(a)}}function Pv(r,t,i){const a=bt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const _=bt(d);_.onlineState=p;let y=!1;_.queries.forEach(((b,S)=>{for(const M of S.Sa)M.va(p)&&(y=!0)})),y&&Ym(_)})(a.eventManager,t),o.length&&a.Pu.H_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function sR(r,t,i){const a=bt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const o=a.Au.get(t),c=o&&o.key;if(c){let d=new ue(mt.comparator);d=d.insert(c,Je.newNoDocument(c,vt.min()));const p=Mt().add(c),_=new dh(vt.min(),new Map,new ue(Ot),d,p);await jE(a,_),a.du=a.du.remove(c),a.Au.delete(t),Zm(a)}else await cm(a.localStore,t,!1).then((()=>dm(a,t,i))).catch(al)}async function rR(r,t){const i=bt(r),a=t.batch.batchId;try{const o=await fw(i.localStore,t);BE(i,a,null),zE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Bo(i,o)}catch(o){await al(o)}}async function aR(r,t,i){const a=bt(r);try{const o=await(function(d,p){const _=bt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return _.mutationQueue.lookupMutationBatch(y,p).next((S=>(Gt(S!==null,37113),b=S.keys(),_.mutationQueue.removeMutationBatch(y,S)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,b,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>_.localDocuments.getDocuments(y,b)))}))})(a.localStore,t);BE(a,t,i),zE(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Bo(a,o)}catch(o){await al(o)}}function zE(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function BE(r,t,i){const a=bt(r);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),a.Vu[a.currentUser.toKey()]=o}}function dm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||qE(r,a)}))}function qE(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(qm(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),Zm(r))}function jv(r,t,i){for(const a of i)a instanceof UE?(r.Ru.addReference(a.key,t),lR(r,a)):a instanceof LE?(at(Xm,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||qE(r,a.key)):yt(19791,{wu:a})}function lR(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(at(Xm,"New document in limbo: "+i),r.Eu.add(a),Zm(r))}function Zm(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new mt(re.fromString(t)),a=r.fu.next();r.Au.set(a,new Zw(i)),r.du=r.du.insert(i,a),NE(r.remoteStore,new Fs(wi(Om(i.path)),a,"TargetPurposeLimboResolution",rh.ce))}}async function Bo(r,t,i){const a=bt(r),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,_)=>{d.push(a.pu(_,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const b=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,b?"current":"not-current")}if(y){o.push(y);const b=zm.As(_.targetId,y);c.push(b)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(_,y){const b=bt(_);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>X.forEach(y,(M=>X.forEach(M.Es,(F=>b.persistence.referenceDelegate.addReference(S,M.targetId,F))).next((()=>X.forEach(M.ds,(F=>b.persistence.referenceDelegate.removeReference(S,M.targetId,F)))))))))}catch(S){if(!ll(S))throw S;at(Bm,"Failed to update sequence numbers: "+S)}for(const S of y){const M=S.targetId;if(!S.fromCache){const F=b.Ms.get(M),tt=F.snapshotVersion,nt=F.withLastLimboFreeSnapshotVersion(tt);b.Ms=b.Ms.insert(M,nt)}}})(a.localStore,c))}async function oR(r,t){const i=bt(r);if(!i.currentUser.isEqual(t)){at(Xm,"User change. New user:",t.toKey());const a=await RE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new ut($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Bo(i,a.Ls)}}function uR(r,t){const i=bt(r),a=i.Au.get(t);if(a&&a.hu)return Mt().add(a.key);{let o=Mt();const c=i.Iu.get(t);if(!c)return o;for(const d of c){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function HE(r){const t=bt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=jE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=uR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=sR.bind(null,t),t.Pu.H_=Fw.bind(null,t.eventManager),t.Pu.yu=Qw.bind(null,t.eventManager),t}function cR(r){const t=bt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=rR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=aR.bind(null,t),t}class Zc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=mh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return hw(this.persistence,new ow,t.initialUser,this.serializer)}Cu(t){return new wE(jm.mi,this.serializer)}Du(t){return new _w}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zc.provider={build:()=>new Zc};class hR extends Zc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Gt(this.persistence.referenceDelegate instanceof Yc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new K2(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new wE((a=>Yc.mi(a,i)),this.serializer)}}class mm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Pv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=oR.bind(null,this.syncEngine),await zw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new qw})()}createDatastore(t){const i=mh(t.databaseInfo.databaseId),a=(function(c){return new Aw(c)})(t.databaseInfo);return(function(c,d,p,_){return new Cw(c,d,p,_)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,o,c,d,p){return new Iw(a,o,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Pv(this.syncEngine,i,0)),(function(){return Ov.v()?new Ov:new vw})())}createSyncEngine(t,i){return(function(o,c,d,p,_,y,b){const S=new $w(o,c,d,p,_,y);return b&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=bt(i);at(Gr,"RemoteStore shutting down."),a.Ea.add(5),await zo(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}mm.provider={build:()=>new mm};class fR{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ns("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const sr="FirestoreClient";class dR{constructor(t,i,a,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=$e.UNAUTHENTICATED,this.clientId=wm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{at(sr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(at(sr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Km(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function qd(r,t){r.asyncQueue.verifyOperationInProgress(),at(sr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await RE(t.localStore,o),a=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function zv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await mR(r);at(sr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Vv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>Vv(t.remoteStore,o))),r._onlineComponents=t}async function mR(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){at(sr,"Using user provided OfflineComponentProvider");try{await qd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===$.FAILED_PRECONDITION||o.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;Za("Error using user provided cache. Falling back to memory cache: "+i),await qd(r,new Zc)}}else at(sr,"Using default OfflineComponentProvider"),await qd(r,new hR(void 0));return r._offlineComponents}async function GE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(at(sr,"Using user provided OnlineComponentProvider"),await zv(r,r._uninitializedComponentsProvider._online)):(at(sr,"Using default OnlineComponentProvider"),await zv(r,new mm))),r._onlineComponents}function gR(r){return GE(r).then((t=>t.syncEngine))}async function Bv(r){const t=await GE(r),i=t.eventManager;return i.onListen=Jw.bind(null,t.syncEngine),i.onUnlisten=eR.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=Ww.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=nR.bind(null,t.syncEngine),i}function FE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const qv=new Map;const QE="firestore.googleapis.com",Hv=!0;class Gv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ut($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=QE,this.ssl=Hv}else this.host=t.host,this.ssl=t.ssl??Hv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=SE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<F2)throw new ut($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}CS("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FE(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ut($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ut($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ut($.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class yh{constructor(t,i,a,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new yS;switch(a.type){case"firstParty":return new TS(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ut($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=qv.get(i);a&&(at("ComponentProvider","Removing Datastore"),qv.delete(i),a.terminate())})(this),Promise.resolve()}}function pR(r,t,i,a={}){r=Si(r,yh);const o=il(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;o&&(b0(`https://${p}`),A0("Firestore",!0)),c.host!==QE&&c.host!==p&&Za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:o,emulatorOptions:a};if(!Js(_,d)&&(r._setSettings(_),a.mockUserToken)){let y,b;if(typeof a.mockUserToken=="string")y=a.mockUserToken,b=$e.MOCK_USER;else{y=qb(a.mockUserToken,r._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new ut($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new $e(S)}r._authCredentials=new _S(new L0(y,b))}}class _h{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new _h(this.firestore,t,this._query)}}class Ne{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ne(this.firestore,t,this._key)}toJSON(){return{type:Ne._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Lo(i,Ne._jsonSchema))return new Ne(t,a||null,new mt(re.fromString(i.referencePath)))}}Ne._jsonSchemaVersion="firestore/documentReference/1.0",Ne._jsonSchema={type:Ie("string",Ne._jsonSchemaVersion),referencePath:Ie("string")};class Zs extends _h{constructor(t,i,a){super(t,i,Om(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ne(this.firestore,null,new mt(t))}withConverter(t){return new Zs(this.firestore,t,this._path)}}function yo(r,t,...i){if(r=sn(r),P0("collection","path",t),r instanceof yh){const a=re.fromString(t,...i);return iv(a),new Zs(r,null,a)}{if(!(r instanceof Ne||r instanceof Zs))throw new ut($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(re.fromString(t,...i));return iv(a),new Zs(r.firestore,null,a)}}function Ji(r,t,...i){if(r=sn(r),arguments.length===1&&(t=wm.newId()),P0("doc","path",t),r instanceof yh){const a=re.fromString(t,...i);return nv(a),new Ne(r,null,new mt(a))}{if(!(r instanceof Ne||r instanceof Zs))throw new ut($.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(re.fromString(t,...i));return nv(a),new Ne(r.firestore,r instanceof Zs?r.converter:null,new mt(a))}}const Fv="AsyncQueue";class Qv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new xE(this,"async_queue_retry"),this._c=()=>{const a=Bd();a&&at(Fv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Bd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Bd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new zr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ll(t))throw t;at(Fv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,ns("INTERNAL UNHANDLED ERROR: ",Kv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=Qm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&yt(47125,{Pc:Kv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Kv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function Yv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Fr extends yh{constructor(t,i,a,o){super(t,i,a,o),this.type="firestore",this._queue=new Qv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Qv(t),this._firestoreClient=void 0,await t}}}function yR(r,t){const i=typeof r=="object"?r:C0(),a=typeof r=="string"?r:Bc,o=Am(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=zb("firestore");c&&pR(o,...c)}return o}function KE(r){if(r._terminated)throw new ut($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||_R(r),r._firestoreClient}function _R(r){const t=r._freezeSettings(),i=(function(o,c,d,p){return new PS(o,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,FE(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new dR(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class Pn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Pn(Ye.fromBase64String(t))}catch(i){throw new ut($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Pn(Ye.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Lo(t,Pn._jsonSchema))return Pn.fromBase64String(t.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:Ie("string",Pn._jsonSchemaVersion),bytes:Ie("string")};class vh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ut($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ke(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Eh{constructor(t){this._methodName=t}}class Ci{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ut($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ut($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ot(this._lat,t._lat)||Ot(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ci._jsonSchemaVersion}}static fromJSON(t){if(Lo(t,Ci._jsonSchema))return new Ci(t.latitude,t.longitude)}}Ci._jsonSchemaVersion="firestore/geoPoint/1.0",Ci._jsonSchema={type:Ie("string",Ci._jsonSchemaVersion),latitude:Ie("number"),longitude:Ie("number")};class xi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:xi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Lo(t,xi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new xi(t.vectorValues);throw new ut($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xi._jsonSchemaVersion="firestore/vectorValue/1.0",xi._jsonSchema={type:Ie("string",xi._jsonSchemaVersion),vectorValues:Ie("object")};const vR=/^__.*__$/;class ER{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new lr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Po(t,this.data,i,this.fieldTransforms)}}class YE{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new lr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function XE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:r})}}class Th{constructor(t,i,a,o,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Th({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return $c(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(XE(this.Ac)&&vR.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class TR{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||mh(t)}Cc(t,i,a,o=!1){return new Th({Ac:t,methodName:i,Dc:a,path:Ke.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function $m(r){const t=r._freezeSettings(),i=mh(r._databaseId);return new TR(r._databaseId,!!t.ignoreUndefinedProperties,i)}function ZE(r,t,i,a,o,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,o);Wm("Data must be an object, but it was:",d,a);const p=$E(a,d);let _,y;if(c.merge)_=new Sn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const S of c.mergeFields){const M=gm(t,S,i);if(!d.contains(M))throw new ut($.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);WE(b,M)||b.push(M)}_=new Sn(b),y=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,y=d.fieldTransforms;return new ER(new mn(p),_,y)}class bh extends Eh{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof bh}}function bR(r,t,i){return new Th({Ac:3,Dc:t.settings.Dc,methodName:r._methodName,fc:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Jm extends Eh{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=bR(this,t,!0),a=this.vc.map((c=>qo(c,i))),o=new tl(a);return new h2(t.path,o)}isEqual(t){return t instanceof Jm&&Js(this.vc,t.vc)}}function AR(r,t,i,a){const o=r.Cc(1,t,i);Wm("Data must be an object, but it was:",o,a);const c=[],d=mn.empty();ar(a,((_,y)=>{const b=tg(t,_,i);y=sn(y);const S=o.yc(b);if(y instanceof bh)c.push(b);else{const M=qo(y,S);M!=null&&(c.push(b),d.set(b,M))}}));const p=new Sn(c);return new YE(d,p,o.fieldTransforms)}function SR(r,t,i,a,o,c){const d=r.Cc(1,t,i),p=[gm(t,a,i)],_=[o];if(c.length%2!=0)throw new ut($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)p.push(gm(t,c[M])),_.push(c[M+1]);const y=[],b=mn.empty();for(let M=p.length-1;M>=0;--M)if(!WE(y,p[M])){const F=p[M];let tt=_[M];tt=sn(tt);const nt=d.yc(F);if(tt instanceof bh)y.push(F);else{const J=qo(tt,nt);J!=null&&(y.push(F),b.set(F,J))}}const S=new Sn(y);return new YE(b,S,d.fieldTransforms)}function qo(r,t){if(JE(r=sn(r)))return Wm("Unsupported field value:",t,r),$E(r,t);if(r instanceof Eh)return(function(a,o){if(!XE(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const p of a){let _=qo(p,o.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,o){if((a=sn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return o2(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ae.fromDate(a);return{timestampValue:Kc(o.serializer,c)}}if(a instanceof ae){const c=new ae(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Kc(o.serializer,c)}}if(a instanceof Ci)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Pn)return{bytesValue:yE(o.serializer,a._byteString)};if(a instanceof Ne){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Lm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof xi)return(function(d,p){return{mapValue:{fields:{[K0]:{stringValue:Y0},[qc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Mm(p.serializer,y)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Rm(a)}`)})(r,t)}function $E(r,t){const i={};return B0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ar(r,((a,o)=>{const c=qo(o,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function JE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ae||r instanceof Ci||r instanceof Pn||r instanceof Ne||r instanceof Eh||r instanceof xi)}function Wm(r,t,i){if(!JE(i)||!j0(i)){const a=Rm(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function gm(r,t,i){if((t=sn(t))instanceof vh)return t._internalPath;if(typeof t=="string")return tg(r,t);throw $c("Field path arguments must be of type string or ",r,!1,void 0,i)}const wR=new RegExp("[~\\*/\\[\\]]");function tg(r,t,i){if(t.search(wR)>=0)throw $c(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new vh(...t.split("."))._internalPath}catch{throw $c(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function $c(r,t,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${o}`),_+=")"),new ut($.INVALID_ARGUMENT,p+r+_)}function WE(r,t){return r.some((i=>i.isEqual(t)))}class tT{constructor(t,i,a,o,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ne(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new RR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(eT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class RR extends tT{data(){return super.data()}}function eT(r,t){return typeof t=="string"?tg(r,t):t instanceof vh?t._internalPath:t._delegate._internalPath}function CR(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ut($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xR{convertValue(t,i="none"){switch(nr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return _e(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(er(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return ar(t,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[qc].arrayValue?.values?.map((a=>_e(a.doubleValue)));return new xi(i)}convertGeoPoint(t){return new Ci(_e(t.latitude),_e(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=lh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(No(t));default:return null}}convertTimestamp(t){const i=tr(t);return new ae(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=re.fromString(t);Gt(AE(a),9688,{name:t});const o=new Do(a.get(1),a.get(3)),c=new mt(a.popFirst(5));return o.isEqual(i)||ns(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function nT(r,t,i){let a;return a=r?r.toFirestore(t):t,a}class To{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Br extends tT{constructor(t,i,a,o,c,d){super(t,i,a,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Mc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(eT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Br._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Br._jsonSchemaVersion="firestore/documentSnapshot/1.0",Br._jsonSchema={type:Ie("string",Br._jsonSchemaVersion),bundleSource:Ie("string","DocumentSnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class Mc extends Br{data(t={}){return super.data(t)}}class Fa{constructor(t,i,a,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new To(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Mc(this._firestore,this._userDataWriter,a.key,a,new To(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const _=new Mc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new To(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new Mc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new To(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,b=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:IR(p.type),doc:_,oldIndex:y,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Fa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=wm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function IR(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:r})}}Fa._jsonSchemaVersion="firestore/querySnapshot/1.0",Fa._jsonSchema={type:Ie("string",Fa._jsonSchemaVersion),bundleSource:Ie("string","QuerySnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class iT extends xR{constructor(t){super(),this.firestore=t}convertBytes(t){return new Pn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ne(this.firestore,null,i)}}function Xv(r,t,i){r=Si(r,Ne);const a=Si(r.firestore,Fr),o=nT(r.converter,t);return Ah(a,[ZE($m(a),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,jn.none())])}function Rc(r,t,i,...a){r=Si(r,Ne);const o=Si(r.firestore,Fr),c=$m(o);let d;return d=typeof(t=sn(t))=="string"||t instanceof vh?SR(c,"updateDoc",r._key,t,i,a):AR(c,"updateDoc",r._key,t),Ah(o,[d.toMutation(r._key,jn.exists(!0))])}function Hd(r){return Ah(Si(r.firestore,Fr),[new Vm(r._key,jn.none())])}function Zv(r,t){const i=Si(r.firestore,Fr),a=Ji(r),o=nT(r.converter,t);return Ah(i,[ZE($m(r.firestore),"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,jn.exists(!1))]).then((()=>a))}function Gd(r,...t){r=sn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||Yv(t[a])||(i=t[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Yv(t[a])){const _=t[a];t[a]=_.next?.bind(_),t[a+1]=_.error?.bind(_),t[a+2]=_.complete?.bind(_)}let c,d,p;if(r instanceof Ne)d=Si(r.firestore,Fr),p=Om(r._key.path),c={next:_=>{t[a]&&t[a](NR(d,r,_))},error:t[a+1],complete:t[a+2]};else{const _=Si(r,_h);d=Si(_.firestore,Fr),p=_._query;const y=new iT(d);c={next:b=>{t[a]&&t[a](new Fa(d,y,_,b))},error:t[a+1],complete:t[a+2]},CR(r._query)}return(function(y,b,S,M){const F=new fR(M),tt=new Kw(b,F,S);return y.asyncQueue.enqueueAndForget((async()=>Hw(await Bv(y),tt))),()=>{F.Nu(),y.asyncQueue.enqueueAndForget((async()=>Gw(await Bv(y),tt)))}})(KE(d),p,o,c)}function Ah(r,t){return(function(a,o){const c=new zr;return a.asyncQueue.enqueueAndForget((async()=>iR(await gR(a),o,c))),c.promise})(KE(r),t)}function NR(r,t,i){const a=i.docs.get(t._key),o=new iT(r);return new Br(r,o,t._key,a,new To(i.hasPendingWrites,i.fromCache),t.converter)}function DR(...r){return new Jm("arrayUnion",r)}(function(t,i=!0){(function(o){rl=o})(sl),Xa(new qr("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new Fr(new vS(a.getProvider("auth-internal")),new bS(d,a.getProvider("app-check-internal")),(function(y,b){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ut($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Do(y.options.projectId,b)})(d,o),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Ys(J_,W_,t),Ys(J_,W_,"esm2020")})();function sT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const OR=sT,rT=new ko("auth","Firebase",sT());const Jc=new Tm("@firebase/auth");function MR(r,...t){Jc.logLevel<=Dt.WARN&&Jc.warn(`Auth (${sl}): ${r}`,...t)}function Vc(r,...t){Jc.logLevel<=Dt.ERROR&&Jc.error(`Auth (${sl}): ${r}`,...t)}function ss(r,...t){throw eg(r,...t)}function Ii(r,...t){return eg(r,...t)}function aT(r,t,i){const a={...OR(),[t]:i};return new ko("auth","Firebase",a).create(t,{appName:r.name})}function $s(r){return aT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function eg(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return rT.create(r,...t)}function _t(r,t,...i){if(!r)throw eg(t,...i)}function Wi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Vc(t),new Error(t)}function rs(r,t){r||Wi(t)}function pm(){return typeof self<"u"&&self.location?.href||""}function VR(){return $v()==="http:"||$v()==="https:"}function $v(){return typeof self<"u"&&self.location?.protocol||null}function kR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VR()||Yb()||"connection"in navigator)?navigator.onLine:!0}function UR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Ho{constructor(t,i){this.shortDelay=t,this.longDelay=i,rs(i>t,"Short delay should be less than long delay!"),this.isMobile=Fb()||Xb()}get(){return kR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ng(r,t){rs(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class lT{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const LR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const PR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jR=new Ho(3e4,6e4);function Sh(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function ul(r,t,i,a,o={}){return oT(r,o,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Uo({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:_,...c};return Kb()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&il(r.emulatorConfig.host)&&(y.credentials="include"),lT.fetch()(await cT(r,r.config.apiHost,i,p),y)})}async function oT(r,t,i){r._canInitEmulator=!1;const a={...LR,...t};try{const o=new zR(r),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Cc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Cc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw Cc(r,"user-disabled",d);const b=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw aT(r,b,y);ss(r,b)}}catch(o){if(o instanceof as)throw o;ss(r,"network-request-failed",{message:String(o)})}}async function uT(r,t,i,a,o={}){const c=await ul(r,t,i,a,o);return"mfaPendingCredential"in c&&ss(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function cT(r,t,i,a){const o=`${t}${i}?${a}`,c=r,d=c.config.emulator?ng(r.config,o):`${r.config.apiScheme}://${o}`;return PR.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class zR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ii(this.auth,"network-request-failed")),jR.get())})}}function Cc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Ii(r,t,a);return o.customData._tokenResponse=i,o}async function BR(r,t){return ul(r,"POST","/v1/accounts:delete",t)}async function Wc(r,t){return ul(r,"POST","/v1/accounts:lookup",t)}function Co(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function qR(r,t=!1){const i=sn(r),a=await i.getIdToken(t),o=ig(a);_t(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:Co(Fd(o.auth_time)),issuedAtTime:Co(Fd(o.iat)),expirationTime:Co(Fd(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Fd(r){return Number(r)*1e3}function ig(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Vc("JWT malformed, contained fewer than 3 sections"),null;try{const o=_0(i);return o?JSON.parse(o):(Vc("Failed to decode base64 JWT payload"),null)}catch(o){return Vc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function Jv(r){const t=ig(r);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Vo(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof as&&HR(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function HR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class GR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ym{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Co(this.lastLoginAt),this.creationTime=Co(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function th(r){const t=r.auth,i=await r.getIdToken(),a=await Vo(r,Wc(t,{idToken:i}));_t(a?.users.length,t,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?hT(o.providerUserInfo):[],d=QR(r.providerData,c),p=r.isAnonymous,_=!(r.email&&o.passwordHash)&&!d?.length,y=p?_:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new ym(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,b)}async function FR(r){const t=sn(r);await th(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function QR(r,t){return[...r.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function hT(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function KR(r,t){const i=await oT(r,{},async()=>{const a=Uo({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,d=await cT(r,o,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:a};return r.emulatorConfig&&il(r.emulatorConfig.host)&&(_.credentials="include"),lT.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function YR(r,t){return ul(r,"POST","/v2/accounts:revokeToken",Sh(r,t))}class Qa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Jv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const i=Jv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await KR(t,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new Qa;return a&&(_t(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),o&&(_t(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),c&&(_t(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Qa,this.toJSON())}_performRefresh(){return Wi("not implemented")}}function zs(r,t){_t(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class ti{constructor({uid:t,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new GR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new ym(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await Vo(this,this.stsTokenManager.getToken(this.auth,t));return _t(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return qR(this,t)}reload(){return FR(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ti({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await th(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wn(this.auth.app))return Promise.reject($s(this.auth));const t=await this.getIdToken();return await Vo(this,BR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:S,emailVerified:M,isAnonymous:F,providerData:tt,stsTokenManager:nt}=i;_t(S&&nt,t,"internal-error");const J=Qa.fromJSON(this.name,nt);_t(typeof S=="string",t,"internal-error"),zs(a,t.name),zs(o,t.name),_t(typeof M=="boolean",t,"internal-error"),_t(typeof F=="boolean",t,"internal-error"),zs(c,t.name),zs(d,t.name),zs(p,t.name),zs(_,t.name),zs(y,t.name),zs(b,t.name);const ft=new ti({uid:S,auth:t,email:o,emailVerified:M,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:J,createdAt:y,lastLoginAt:b});return tt&&Array.isArray(tt)&&(ft.providerData=tt.map(Et=>({...Et}))),_&&(ft._redirectEventId=_),ft}static async _fromIdTokenResponse(t,i,a=!1){const o=new Qa;o.updateFromServerResponse(i);const c=new ti({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await th(c),c}static async _fromGetAccountInfoResponse(t,i,a){const o=i.users[0];_t(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?hT(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,p=new Qa;p.updateFromIdToken(a);const _=new ti({uid:o.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new ym(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const Wv=new Map;function ts(r){rs(r instanceof Function,"Expected a class definition");let t=Wv.get(r);return t?(rs(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,Wv.set(r,t),t)}class fT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}fT.type="NONE";const t0=fT;function kc(r,t,i){return`firebase:${r}:${t}:${i}`}class Ka{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=kc(this.userKey,o.apiKey,c),this.fullPersistenceKey=kc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Wc(this.auth,{idToken:t}).catch(()=>{});return i?ti._fromGetAccountInfoResponse(this.auth,i,t):null}return ti._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Ka(ts(t0),t,a);const o=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||ts(t0);const d=kc(a,t.config.apiKey,t.name);let p=null;for(const y of i)try{const b=await y._get(d);if(b){let S;if(typeof b=="string"){const M=await Wc(t,{idToken:b}).catch(()=>{});if(!M)break;S=await ti._fromGetAccountInfoResponse(t,M,b)}else S=ti._fromJSON(t,b);y!==c&&(p=S),c=y;break}}catch{}const _=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Ka(c,t,a):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Ka(c,t,a))}}function e0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(pT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(dT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(_T(t))return"Blackberry";if(vT(t))return"Webos";if(mT(t))return"Safari";if((t.includes("chrome/")||gT(t))&&!t.includes("edge/"))return"Chrome";if(yT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function dT(r=We()){return/firefox\//i.test(r)}function mT(r=We()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function gT(r=We()){return/crios\//i.test(r)}function pT(r=We()){return/iemobile/i.test(r)}function yT(r=We()){return/android/i.test(r)}function _T(r=We()){return/blackberry/i.test(r)}function vT(r=We()){return/webos/i.test(r)}function sg(r=We()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function XR(r=We()){return sg(r)&&!!window.navigator?.standalone}function ZR(){return Zb()&&document.documentMode===10}function ET(r=We()){return sg(r)||yT(r)||vT(r)||_T(r)||/windows phone/i.test(r)||pT(r)}function TT(r,t=[]){let i;switch(r){case"Browser":i=e0(We());break;case"Worker":i=`${e0(We())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${sl}/${a}`}class $R{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const _=t(c);d(_)}catch(_){p(_)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function JR(r,t={}){return ul(r,"GET","/v2/passwordPolicy",Sh(r,t))}const WR=6;class tC{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??WR,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class eC{constructor(t,i,a,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new n0(this),this.idTokenSubscription=new n0(this),this.beforeStateQueue=new $R(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ts(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ka.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Wc(this,{idToken:t}),a=await ti._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Wn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await th(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=UR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Wn(this.app))return Promise.reject($s(this));const i=t?sn(t):null;return i&&_t(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Wn(this.app)?Promise.reject($s(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Wn(this.app)?Promise.reject($s(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ts(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await JR(this),i=new tC(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ko("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await YR(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ts(t)||this._popupRedirectResolver;_t(i,this,"argument-error"),this.redirectPersistenceManager=await Ka.create(this,[ts(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,o);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=TT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&MR(`Error while retrieving App Check token: ${t.error}`),t?.token}}function wh(r){return sn(r)}class n0{constructor(t){this.auth=t,this.observer=null,this.addObserver=sA(i=>this.observer=i)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let rg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nC(r){rg=r}function iC(r){return rg.loadJS(r)}function sC(){return rg.gapiScript}function rC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function aC(r,t){const i=Am(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(Js(c,t??{}))return o;ss(o,"already-initialized")}return i.initialize({options:t})}function lC(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ts);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function oC(r,t,i){const a=wh(r);_t(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,c=bT(t),{host:d,port:p}=uC(t),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},b=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){_t(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),_t(Js(y,a.config.emulator)&&Js(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,il(d)?(b0(`${c}//${d}${_}`),A0("Auth",!0)):cC()}function bT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function uC(r){const t=bT(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:i0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:i0(d)}}}function i0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function cC(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class AT{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Wi("not implemented")}_getIdTokenResponse(t){return Wi("not implemented")}_linkToIdToken(t,i){return Wi("not implemented")}_getReauthenticationResolver(t){return Wi("not implemented")}}async function Ya(r,t){return uT(r,"POST","/v1/accounts:signInWithIdp",Sh(r,t))}const hC="http://localhost";class Qr extends AT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Qr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ss("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new Qr(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ya(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ya(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ya(t,i)}buildRequest(){const t={requestUri:hC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Uo(i)}return t}}class ST{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Go extends ST{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Bs extends Go{constructor(){super("facebook.com")}static credential(t){return Qr._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Bs.credentialFromTaggedObject(t)}static credentialFromError(t){return Bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Bs.credential(t.oauthAccessToken)}catch{return null}}}Bs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bs.PROVIDER_ID="facebook.com";class qs extends Go{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Qr._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return qs.credentialFromTaggedObject(t)}static credentialFromError(t){return qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return qs.credential(i,a)}catch{return null}}}qs.GOOGLE_SIGN_IN_METHOD="google.com";qs.PROVIDER_ID="google.com";class Hs extends Go{constructor(){super("github.com")}static credential(t){return Qr._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hs.credentialFromTaggedObject(t)}static credentialFromError(t){return Hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Hs.credential(t.oauthAccessToken)}catch{return null}}}Hs.GITHUB_SIGN_IN_METHOD="github.com";Hs.PROVIDER_ID="github.com";class Gs extends Go{constructor(){super("twitter.com")}static credential(t,i){return Qr._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Gs.credentialFromTaggedObject(t)}static credentialFromError(t){return Gs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Gs.credential(i,a)}catch{return null}}}Gs.TWITTER_SIGN_IN_METHOD="twitter.com";Gs.PROVIDER_ID="twitter.com";async function fC(r,t){return uT(r,"POST","/v1/accounts:signUp",Sh(r,t))}class rr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,o=!1){const c=await ti._fromIdTokenResponse(t,a,o),d=s0(a);return new rr({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const o=s0(a);return new rr({user:t,providerId:o,_tokenResponse:a,operationType:i})}}function s0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function dC(r){if(Wn(r.app))return Promise.reject($s(r));const t=wh(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new rr({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await fC(t,{returnSecureToken:!0}),a=await rr._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class eh extends as{constructor(t,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,eh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,o){return new eh(t,i,a,o)}}function wT(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?eh._fromErrorAndOperation(r,c,t,a):c})}async function mC(r,t,i=!1){const a=await Vo(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return rr._forOperation(r,"link",a)}async function gC(r,t,i=!1){const{auth:a}=r;if(Wn(a.app))return Promise.reject($s(a));const o="reauthenticate";try{const c=await Vo(r,wT(a,o,t,r),i);_t(c.idToken,a,"internal-error");const d=ig(c.idToken);_t(d,a,"internal-error");const{sub:p}=d;return _t(r.uid===p,a,"user-mismatch"),rr._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&ss(a,"user-mismatch"),c}}async function pC(r,t,i=!1){if(Wn(r.app))return Promise.reject($s(r));const a="signIn",o=await wT(r,a,t),c=await rr._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(c.user),c}function yC(r,t,i,a){return sn(r).onIdTokenChanged(t,i,a)}function _C(r,t,i){return sn(r).beforeAuthStateChanged(t,i)}const nh="__sak";class RT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(nh,"1"),this.storage.removeItem(nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const vC=1e3,EC=10;class CT extends RT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ET(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&t(i,o,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);ZR()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,EC):o()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},vC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}CT.type="LOCAL";const TC=CT;class xT extends RT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}xT.type="SESSION";const IT=xT;function bC(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Rh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const a=new Rh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await bC(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rh.receivers=[];function ag(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class AC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=ag("",20);o.port1.start();const b=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(S){const M=S;if(M.data.eventId===y)switch(M.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(M.data.response);break;default:clearTimeout(b),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ni(){return window}function SC(r){Ni().location.href=r}function NT(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function wC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function RC(){return navigator?.serviceWorker?.controller||null}function CC(){return NT()?self:null}const DT="firebaseLocalStorageDb",xC=1,ih="firebaseLocalStorage",OT="fbase_key";class Fo{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Ch(r,t){return r.transaction([ih],t?"readwrite":"readonly").objectStore(ih)}function IC(){const r=indexedDB.deleteDatabase(DT);return new Fo(r).toPromise()}function _m(){const r=indexedDB.open(DT,xC);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(ih,{keyPath:OT})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(ih)?t(a):(a.close(),await IC(),t(await _m()))})})}async function r0(r,t,i){const a=Ch(r,!0).put({[OT]:t,value:i});return new Fo(a).toPromise()}async function NC(r,t){const i=Ch(r,!1).get(t),a=await new Fo(i).toPromise();return a===void 0?null:a.value}function a0(r,t){const i=Ch(r,!0).delete(t);return new Fo(i).toPromise()}const DC=800,OC=3;class MT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _m(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>OC)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return NT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rh._getInstance(CC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await wC(),!this.activeServiceWorker)return;this.sender=new AC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||RC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await _m();return await r0(t,nh,"1"),await a0(t,nh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>r0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>NC(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>a0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=Ch(o,!1).getAll();return new Fo(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}MT.type="LOCAL";const MC=MT;new Ho(3e4,6e4);function VC(r,t){return t?ts(t):(_t(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class lg extends AT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ya(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ya(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ya(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function kC(r){return pC(r.auth,new lg(r),r.bypassAuthState)}function UC(r){const{auth:t,user:i}=r;return _t(i,t,"internal-error"),gC(i,new lg(r),r.bypassAuthState)}async function LC(r){const{auth:t,user:i}=r;return _t(i,t,"internal-error"),mC(i,new lg(r),r.bypassAuthState)}class VT{constructor(t,i,a,o,c=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return kC;case"linkViaPopup":case"linkViaRedirect":return LC;case"reauthViaPopup":case"reauthViaRedirect":return UC;default:ss(this.auth,"internal-error")}}resolve(t){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const PC=new Ho(2e3,1e4);class Ha extends VT{constructor(t,i,a,o,c){super(t,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,Ha.currentPopupAction&&Ha.currentPopupAction.cancel(),Ha.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){rs(this.filter.length===1,"Popup operations only handle one event");const t=ag();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ha.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,PC.get())};t()}}Ha.currentPopupAction=null;const jC="pendingRedirect",Uc=new Map;class zC extends VT{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Uc.get(this.auth._key());if(!t){try{const a=await BC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Uc.set(this.auth._key(),t)}return this.bypassAuthState||Uc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BC(r,t){const i=GC(t),a=HC(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function qC(r,t){Uc.set(r._key(),t)}function HC(r){return ts(r._redirectPersistence)}function GC(r){return kc(jC,r.config.apiKey,r.name)}async function FC(r,t,i=!1){if(Wn(r.app))return Promise.reject($s(r));const a=wh(r),o=VC(a,t),d=await new zC(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const QC=600*1e3;class KC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!YC(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!kT(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ii(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=QC&&this.cachedEventUids.clear(),this.cachedEventUids.has(l0(t))}saveEventToCache(t){this.cachedEventUids.add(l0(t)),this.lastProcessedEventTime=Date.now()}}function l0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function kT({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function YC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kT(r);default:return!1}}async function XC(r,t={}){return ul(r,"GET","/v1/projects",t)}const ZC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$C=/^https?/;async function JC(r){if(r.config.emulator)return;const{authorizedDomains:t}=await XC(r);for(const i of t)try{if(WC(i))return}catch{}ss(r,"unauthorized-domain")}function WC(r){const t=pm(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!$C.test(i))return!1;if(ZC.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const tx=new Ho(3e4,6e4);function o0(){const r=Ni().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function ex(r){return new Promise((t,i)=>{function a(){o0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{o0(),i(Ii(r,"network-request-failed"))},timeout:tx.get()})}if(Ni().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ni().gapi?.load)a();else{const o=rC("iframefcb");return Ni()[o]=()=>{gapi.load?a():i(Ii(r,"network-request-failed"))},iC(`${sC()}?onload=${o}`).catch(c=>i(c))}}).catch(t=>{throw Lc=null,t})}let Lc=null;function nx(r){return Lc=Lc||ex(r),Lc}const ix=new Ho(5e3,15e3),sx="__/auth/iframe",rx="emulator/auth/iframe",ax={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ox(r){const t=r.config;_t(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?ng(t,rx):`https://${r.config.authDomain}/${sx}`,a={apiKey:t.apiKey,appName:r.name,v:sl},o=lx.get(r.config.apiHost);o&&(a.eid=o);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Uo(a).slice(1)}`}async function ux(r){const t=await nx(r),i=Ni().gapi;return _t(i,r,"internal-error"),t.open({where:document.body,url:ox(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ax,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ii(r,"network-request-failed"),p=Ni().setTimeout(()=>{c(d)},ix.get());function _(){Ni().clearTimeout(p),o(a)}a.ping(_).then(_,()=>{c(d)})}))}const cx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hx=500,fx=600,dx="_blank",mx="http://localhost";class u0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function gx(r,t,i,a=hx,o=fx){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const _={...cx,width:a.toString(),height:o.toString(),top:c,left:d},y=We().toLowerCase();i&&(p=gT(y)?dx:i),dT(y)&&(t=t||mx,_.scrollbars="yes");const b=Object.entries(_).reduce((M,[F,tt])=>`${M}${F}=${tt},`,"");if(XR(y)&&p!=="_self")return px(t||"",p),new u0(null);const S=window.open(t||"",p,b);_t(S,r,"popup-blocked");try{S.focus()}catch{}return new u0(S)}function px(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const yx="__/auth/handler",_x="emulator/auth/handler",vx=encodeURIComponent("fac");async function c0(r,t,i,a,o,c){_t(r.config.authDomain,r,"auth-domain-config-required"),_t(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:sl,eventId:o};if(t instanceof ST){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",iA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,S]of Object.entries({}))d[b]=S}if(t instanceof Go){const b=t.getScopes().filter(S=>S!=="");b.length>0&&(d.scopes=b.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const _=await r._getAppCheckToken(),y=_?`#${vx}=${encodeURIComponent(_)}`:"";return`${Ex(r)}?${Uo(p).slice(1)}${y}`}function Ex({config:r}){return r.emulator?ng(r,_x):`https://${r.authDomain}/${yx}`}const Qd="webStorageSupport";class Tx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IT,this._completeRedirectFn=FC,this._overrideRedirectResult=qC}async _openPopup(t,i,a,o){rs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await c0(t,i,a,pm(),o);return gx(t,c,ag())}async _openRedirect(t,i,a,o){await this._originValidation(t);const c=await c0(t,i,a,pm(),o);return SC(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(rs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await ux(t),a=new KC(t);return i.register("authEvent",o=>(_t(o?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Qd,{type:Qd},o=>{const c=o?.[0]?.[Qd];c!==void 0&&i(!!c),ss(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=JC(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return ET()||mT()||sg()}}const bx=Tx;var h0="@firebase/auth",f0="1.12.0";class Ax{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Sx(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function wx(r){Xa(new qr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;_t(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:TT(r)},y=new eC(a,o,c,_);return lC(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Xa(new qr("auth-internal",t=>{const i=wh(t.getProvider("auth").getImmediate());return(a=>new Ax(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ys(h0,f0,Sx(r)),Ys(h0,f0,"esm2020")}const Rx=300,Cx=T0("authIdTokenMaxAge")||Rx;let d0=null;const xx=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>Cx)return;const o=i?.token;d0!==o&&(d0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Ix(r=C0()){const t=Am(r,"auth");if(t.isInitialized())return t.getImmediate();const i=aC(r,{popupRedirectResolver:bx,persistence:[MC,TC,IT]}),a=T0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=xx(c.toString());_C(i,d,()=>d(i.currentUser)),yC(i,p=>d(p))}}const o=v0("auth");return o&&oC(i,`http://${o}`),i}function Nx(){return document.getElementsByTagName("head")?.[0]??document}nC({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=o=>{const c=Ii("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",Nx().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});wx("Browser");const Dx=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ox=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),m0=r=>{const t=Ox(r);return t.charAt(0).toUpperCase()+t.slice(1)},UT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),Mx=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var Vx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const kx=Xt.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...p},_)=>Xt.createElement("svg",{ref:_,...Vx,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:UT("lucide",o),...!c&&!Mx(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,b])=>Xt.createElement(y,b)),...Array.isArray(c)?c:[c]]));const fe=(r,t)=>{const i=Xt.forwardRef(({className:a,...o},c)=>Xt.createElement(kx,{ref:c,iconNode:t,className:UT(`lucide-${Dx(m0(r))}`,`lucide-${r}`,a),...o}));return i.displayName=m0(r),i};const Ux=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Lx=fe("arrow-right",Ux);const Px=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],jx=fe("bell",Px);const zx=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],Bx=fe("bookmark",zx);const qx=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],LT=fe("chevron-right",qx);const Hx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Gx=fe("circle-alert",Hx);const Fx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Qx=fe("circle-check",Fx);const Kx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],PT=fe("circle-x",Kx);const Yx=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Xx=fe("clock",Yx);const Zx=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],jT=fe("heart",Zx);const $x=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Jx=fe("layout-dashboard",$x);const Wx=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],tI=fe("list",Wx);const eI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],nI=fe("log-out",eI);const iI=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],zT=fe("map-pin",iI);const sI=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],rI=fe("message-square",sI);const aI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],lI=fe("plus",aI);const oI=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],uI=fe("search",oI);const cI=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],hI=fe("settings",cI);const fI=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],dI=fe("shield-alert",fI);const mI=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],gI=fe("square-pen",mI);const pI=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],BT=fe("star",pI);const yI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],og=fe("trash-2",yI);const _I=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],vI=fe("upload",_I),vm={apiKey:"AIzaSyCe1kKepWLp8yzGf7A0hTiik3ww2dOl3U8",authDomain:"labor-emotional-apps-d4016.firebaseapp.com",projectId:"labor-emotional-apps-d4016",storageBucket:"labor-emotional-apps-d4016.firebasestorage.app",messagingSenderId:"466148209394",appId:"1:466148209394:web:2fbac969e9fa186c7f966b",measurementId:"G-KYHTYD41B8"},qT=vm.apiKey&&vm.apiKey!=="";let Kd,Fe,HT;if(qT)try{Kd=R0(vm),Fe=yR(Kd),HT=Ix(Kd)}catch(r){console.error("Firebase initialization failed:",r)}const fn="labor-emotional-registry",EI=({className:r="w-24 h-24"})=>A.jsx("div",{className:`${r} bg-white rounded-lg flex items-center justify-center p-2 shadow-sm border border-slate-100`,children:A.jsx("img",{src:"120_labor.png",alt:"",className:"max-w-full max-h-full object-contain",onError:t=>{t.target.src="https://www.gov.il/BlobFolder/office/labor/he/labor_logo.png"}})}),ug=({setView:r,user:t,notifications:i=[]})=>{const[a,o]=Xt.useState(!1);return A.jsx("header",{className:"bg-blue-900 text-white shadow-lg sticky top-0 z-30",children:A.jsxs("div",{className:"container mx-auto px-6 py-3 flex justify-between items-center",children:[A.jsxs("div",{className:"flex items-center gap-4 cursor-pointer",onClick:()=>r("dashboard"),children:[A.jsx("div",{className:"bg-white p-1 rounded-md h-10 flex items-center",children:A.jsx("img",{src:"120_labor.png",alt:"",className:"h-8",onError:c=>c.target.src="https://www.gov.il/BlobFolder/office/labor/he/labor_logo.png"})}),A.jsx("h1",{className:"text-lg font-bold hidden sm:block",children:"  "})]}),A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsxs("div",{className:"relative",children:[A.jsxs("button",{onClick:()=>o(!a),className:"p-2 hover:bg-blue-800 rounded-full transition-colors relative",children:[A.jsx(jx,{size:20}),i.length>0&&A.jsx("span",{className:"absolute top-0 right-0 bg-red-500 text-white text-[10px] w-4 h-4 flex items-center justify-center rounded-full border-2 border-blue-900 font-bold",children:i.length})]}),a&&A.jsxs("div",{className:"absolute left-0 mt-2 w-72 bg-white rounded-2xl shadow-2xl border border-slate-200 overflow-hidden z-50 text-slate-800",children:[A.jsx("div",{className:"p-3 border-b bg-slate-50 font-bold text-sm",children:" "}),A.jsx("div",{className:"max-h-64 overflow-y-auto text-right",children:i.length>0?i.map((c,d)=>A.jsxs("div",{className:"p-3 text-xs border-b hover:bg-slate-50 transition-colors",children:[A.jsx("div",{className:"font-bold text-blue-800 mb-1 text-right",children:c.title}),A.jsx("p",{className:"text-slate-600 text-right",children:c.text})]},d)):A.jsx("div",{className:"p-10 text-center text-slate-400 italic text-xs",children:"  "})})]})]}),A.jsxs("div",{className:"hidden md:flex flex-col items-end ml-4 text-[10px] opacity-80 text-right",children:[A.jsxs("span",{className:"font-bold text-blue-200",children:[", ",t?.name]}),A.jsx("span",{children:t?.isAdmin?" ":t?.isProvider?" ":` : ${t?.id}`})]}),t?.isAdmin&&A.jsx("button",{onClick:()=>r("admin-settings"),className:"p-2 bg-blue-800 hover:bg-blue-700 rounded-lg transition-colors relative",title:" ",children:A.jsx(hI,{size:18})}),!t?.isProvider&&!t?.isAdmin&&A.jsxs("button",{onClick:()=>r("my-workspace"),className:"flex items-center gap-2 bg-blue-800 hover:bg-blue-700 px-4 py-2 rounded-lg text-sm transition-colors",children:[A.jsx(Jx,{size:16}),A.jsx("span",{className:"hidden md:inline",children:" "})]}),A.jsxs("button",{onClick:()=>r("login"),className:"flex items-center gap-2 bg-blue-800 hover:bg-red-600 px-4 py-2 rounded-lg text-sm transition-colors",children:[A.jsx(nI,{size:16}),""]})]})]})})},TI=({loginData:r,setLoginData:t,handleLogin:i,error:a,setView:o})=>A.jsx("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-4",dir:"rtl",children:A.jsxs("div",{className:"bg-white p-10 rounded-3xl shadow-2xl w-full max-w-md border border-slate-200",children:[A.jsxs("div",{className:"flex flex-col items-center mb-8 text-center",children:[A.jsx(EI,{className:"w-32 h-32 mb-6"}),A.jsx("h1",{className:"text-3xl font-black text-slate-800 tracking-tight",children:"  "}),A.jsx("p",{className:"text-slate-500 font-medium",children:"  -  "})]}),a&&A.jsxs("div",{className:"bg-red-50 text-red-600 p-4 rounded-2xl mb-6 text-xs font-bold border border-red-100 flex items-center gap-2 text-right",children:[A.jsx(PT,{size:16})," ",a]}),A.jsxs("form",{onSubmit:i,className:"space-y-4",children:[A.jsx("input",{required:!0,className:"w-full p-4 border-2 border-slate-100 rounded-2xl outline-none focus:border-blue-500 transition-all font-bold text-right",placeholder:"  /  ",value:r.semel,onChange:c=>t({...r,semel:c.target.value})}),A.jsx("input",{required:!0,type:"password",className:"w-full p-4 border-2 border-slate-100 rounded-2xl outline-none focus:border-blue-500 transition-all font-bold text-right",placeholder:"",value:r.password,onChange:c=>t({...r,password:c.target.value})}),A.jsx("button",{type:"submit",className:"w-full bg-blue-700 hover:bg-blue-800 text-white font-bold py-5 rounded-2xl shadow-lg active:scale-95 transition-all text-lg",children:" "})]}),A.jsxs("div",{className:"mt-10 text-center border-t border-slate-100 pt-8",children:[A.jsx("p",{className:"text-sm text-slate-500 mb-4",children:"   ?"}),A.jsx("button",{onClick:()=>o("provider-register"),className:"bg-slate-50 text-blue-600 font-bold px-8 py-3 rounded-full hover:bg-blue-50 transition-colors border border-blue-100",children:"   "})]})]})}),bI=({handleProviderApply:r,setView:t})=>{const[i,a]=Xt.useState({name:"",id:"",password:"",contact:"",description:"",location:" "});return A.jsx("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-4",dir:"rtl",children:A.jsxs("div",{className:"bg-white p-10 rounded-3xl shadow-2xl w-full max-w-lg border border-slate-200",children:[A.jsxs("div",{className:"mb-8 text-right",children:[A.jsx("h2",{className:"text-2xl font-black text-slate-800 mb-2",children:"  "}),A.jsx("p",{className:"text-slate-500 font-medium leading-relaxed text-right",children:"     .   ,    ."})]}),A.jsxs("form",{onSubmit:o=>r(o,i),className:"space-y-4",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[A.jsxs("div",{className:"col-span-1 md:col-span-2",children:[A.jsx("label",{className:"block text-xs font-bold text-slate-400 mb-1 mr-1 uppercase text-right",children:"  /  *"}),A.jsx("input",{required:!0,className:"w-full p-4 border-2 border-slate-100 rounded-2xl outline-none text-right",value:i.name,onChange:o=>a({...i,name:o.target.value})})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-bold text-slate-400 mb-1 mr-1 uppercase text-right",children:'" /   () *'}),A.jsx("input",{required:!0,className:"w-full p-4 border-2 border-slate-100 rounded-2xl outline-none text-right",value:i.id,onChange:o=>a({...i,id:o.target.value})})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-bold text-slate-400 mb-1 mr-1 uppercase text-right",children:"  *"}),A.jsx("input",{required:!0,type:"password",className:"w-full p-4 border-2 border-slate-100 rounded-2xl outline-none text-right",value:i.password,onChange:o=>a({...i,password:o.target.value})})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-bold text-slate-400 mb-1 mr-1 uppercase text-right",children:"  *"}),A.jsxs("select",{required:!0,className:"w-full p-4 border-2 border-slate-100 rounded-2xl outline-none text-right",value:i.location,onChange:o=>a({...i,location:o.target.value}),children:[A.jsx("option",{value:" ",children:" "}),A.jsx("option",{value:"",children:""}),A.jsx("option",{value:"",children:""}),A.jsx("option",{value:"",children:""})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-bold text-slate-400 mb-1 mr-1 uppercase text-right",children:"   *"}),A.jsx("input",{required:!0,className:"w-full p-4 border-2 border-slate-100 rounded-2xl outline-none text-right",value:i.contact,onChange:o=>a({...i,contact:o.target.value})})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-bold text-slate-400 mb-1 mr-1 uppercase text-right text-blue-700 font-black",children:"   ( ) *"}),A.jsx("textarea",{required:!0,className:"w-full p-4 border-2 border-slate-100 rounded-2xl outline-none h-32 text-right",value:i.description,onChange:o=>a({...i,description:o.target.value})})]}),A.jsx("button",{type:"submit",className:"w-full bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-4 rounded-xl shadow-lg transition-all text-lg",children:"   "}),A.jsx("button",{type:"button",onClick:()=>t("login"),className:"w-full text-slate-400 font-bold py-2",children:" "})]})]})})},AI=({provider:r,setView:t})=>A.jsx("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-4",dir:"rtl",children:A.jsxs("div",{className:"bg-white p-12 rounded-[3rem] shadow-2xl w-full max-w-md border border-slate-200 text-center relative overflow-hidden",children:[A.jsx("div",{className:`absolute top-0 right-0 left-0 h-3 ${r.status==="approved"?"bg-emerald-500":r.status==="pending"?"bg-amber-500":"bg-red-500"}`}),A.jsx("div",{className:`w-24 h-24 mx-auto rounded-full flex items-center justify-center mb-8 ${r.status==="pending"?"bg-amber-50 text-amber-600":r.status==="approved"?"bg-emerald-50 text-emerald-600":"bg-red-50 text-red-600"}`,children:r.status==="pending"?A.jsx(Xx,{size:48}):r.status==="approved"?A.jsx(Qx,{size:48}):A.jsx(Gx,{size:48})}),A.jsxs("h2",{className:"text-2xl font-black text-slate-800 mb-2",children:[": ",r.status==="pending"?" ":r.status==="approved"?" !":" "]}),A.jsxs("p",{className:"text-slate-500 font-medium mb-8",children:[" ",r.name,",     ."]}),r.adminNote&&A.jsxs("div",{className:"bg-slate-50 p-6 rounded-2xl border mb-8 text-right shadow-inner",children:[A.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase mb-2",children:"  :"}),A.jsxs("p",{className:"text-slate-800 text-sm font-medium italic",children:['"',r.adminNote,'"']})]}),r.status==="approved"&&A.jsx("button",{onClick:()=>t("dashboard"),className:"w-full bg-blue-700 text-white font-bold py-5 rounded-2xl shadow-xl mb-4 text-lg",children:" "}),r.status==="rejected"&&A.jsx("button",{onClick:()=>t("provider-register"),className:"w-full bg-emerald-600 text-white font-bold py-5 rounded-2xl shadow-xl mb-4 text-lg",children:"  "}),A.jsx("button",{onClick:()=>t("login"),className:"text-slate-400 font-bold py-2 uppercase text-[10px] tracking-widest",children:""})]})}),SI=()=>{if(!qT)return A.jsx("div",{className:"min-h-screen bg-slate-50 flex flex-col items-center justify-center p-4 text-center",dir:"rtl",children:A.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-xl border border-red-200 max-w-md",children:[A.jsx("div",{className:"w-16 h-16 bg-red-100 text-red-600 rounded-full flex items-center justify-center mx-auto mb-4",children:A.jsx(PT,{size:32})}),A.jsx("h1",{className:"text-2xl font-bold text-slate-800 mb-2",children:"   Firebase"}),A.jsx("p",{className:"text-slate-600 mb-6",children:"   -config   firebaseConfig  -Cursor."})]})});const[r,t]=Xt.useState("login"),[i,a]=Xt.useState(null),[o,c]=Xt.useState([]),[d,p]=Xt.useState([]),[_,y]=Xt.useState([]),[b,S]=Xt.useState([]),[M,F]=Xt.useState([]),[tt,nt]=Xt.useState(null),[J,ft]=Xt.useState(!0),[Et,pt]=Xt.useState(""),[xt,te]=Xt.useState({semel:"",password:""}),[Vt,I]=Xt.useState(""),[w,x]=Xt.useState(null),[V,N]=Xt.useState({name:"",contactPerson:"",description:"",rating:5,recommends:!0,notes:"",grades:[],isZalash:!1,location:" "}),[k,R]=Xt.useState({search:"",grade:"all",zalashOnly:!1,location:"all",minRating:0,minComments:0});Xt.useEffect(()=>{(async()=>{try{await dC(HT)}catch(W){console.error(W)}})()},[]),Xt.useEffect(()=>{if(!Fe)return;const Z=Gd(yo(Fe,"artifacts",fn,"public","data","programs"),rt=>{c(rt.docs.map(dt=>({id:dt.id,...dt.data()}))),ft(!1)}),W=Gd(yo(Fe,"artifacts",fn,"public","data","schools"),rt=>{const dt=rt.docs.map(Bt=>({id:Bt.id,...Bt.data()}));p(dt.filter(Bt=>!Bt.isProvider)),y(dt.filter(Bt=>Bt.isProvider))});return()=>{Z(),W()}},[]),Xt.useEffect(()=>{if(!Fe||!i||i.isAdmin)return;const Z=yo(Fe,"artifacts",fn,"users",i.id,"favorites"),W=Gd(Z,rt=>{F(rt.docs.map(dt=>dt.id))});return()=>W()},[i]),Xt.useEffect(()=>{if(!i||i.isAdmin)return;const Z=o.filter(rt=>rt.schoolId===i.id),W=[];Z.forEach(rt=>{rt.comments&&rt.comments.length>0&&rt.comments.slice(-3).forEach(dt=>{W.push({title:`  -${rt.name}`,text:`${dt.school}: ${dt.text}`})})}),S(W)},[o,i]);const ne=Z=>{if(Z.preventDefault(),pt(""),xt.semel==="admin"&&xt.password==="1234"){a({id:"admin",name:" ",isAdmin:!0}),t("dashboard");return}const W=d.find(dt=>String(dt.semel)===String(xt.semel)&&String(dt.password)===String(xt.password));if(W){a({id:W.semel,name:W.name,isAdmin:!1}),t("dashboard");return}const rt=_.find(dt=>String(dt.semel)===String(xt.semel)&&String(dt.password)===String(xt.password));if(rt){a({...rt,id:rt.semel,isAdmin:!1,isProvider:!0}),rt.status==="approved"?t("dashboard"):t("provider-status");return}pt("  .  .")},de=async(Z,W)=>{Z.preventDefault();try{await Xv(Ji(Fe,"artifacts",fn,"public","data","schools",W.id),{name:W.name,semel:W.id,password:W.password,contact:W.contact,description:W.description,location:W.location||" ",isProvider:!0,status:"pending",createdAt:Date.now(),initialProgram:{name:W.name,description:W.description,location:W.location||" ",grades:["","","",""],isZalash:!1,rating:5,recommends:!0}}),alert("     ."),t("login")}catch(rt){console.error(rt)}},H=async Z=>{try{await Rc(Ji(Fe,"artifacts",fn,"public","data","schools",Z.id),{status:"approved",adminNote:"  ."}),await Zv(yo(Fe,"artifacts",fn,"public","data","programs"),{...Z.initialProgram,schoolId:Z.id,schoolName:Z.name,comments:[],createdAt:new Date().toLocaleDateString("he-IL"),timestamp:Date.now()}),alert("    .")}catch(W){console.error(W)}},it=async(Z,W)=>{try{await Rc(Ji(Fe,"artifacts",fn,"public","data","schools",Z),{status:"rejected",adminNote:W})}catch(rt){console.error(rt)}},ct=async Z=>{Z.preventDefault();try{await Zv(yo(Fe,"artifacts",fn,"public","data","programs"),{...V,schoolId:i.id,schoolName:i.name,comments:[],createdAt:new Date().toLocaleDateString("he-IL"),timestamp:Date.now()}),t("dashboard"),N({name:"",contactPerson:"",description:"",rating:5,recommends:!0,notes:"",grades:[],isZalash:!1,location:" "})}catch(W){console.error(W)}},kt=async Z=>{window.confirm("     ?")&&await Hd(Ji(Fe,"artifacts",fn,"public","data","programs",Z))},Pt=async(Z,W)=>{if(Z.stopPropagation(),!i||i.isAdmin)return;const rt=Ji(Fe,"artifacts",fn,"users",i.id,"favorites",W);M.includes(W)?await Hd(rt):await Xv(rt,{savedAt:Date.now()})},O=async(Z,W)=>{await Rc(Ji(Fe,"artifacts",fn,"public","data","programs",Z),{comments:DR({id:Date.now(),school:i.name,text:W})})},K=async(Z,W)=>{if(window.confirm("    ?"))try{const rt=Ji(Fe,"artifacts",fn,"public","data","programs",Z),Bt=o.find(Ft=>Ft.id===Z).comments.filter((Ft,zn)=>zn!==W);await Rc(rt,{comments:Bt}),tt&&nt({...tt,comments:Bt})}catch(rt){console.error(rt)}},st=Xt.useMemo(()=>{let Z=o;return i?.isProvider&&(Z=Z.filter(W=>W.schoolId===i.id)),Z.filter(W=>{const rt=W.name?.toLowerCase().includes(k.search.toLowerCase())||W.description?.toLowerCase().includes(k.search.toLowerCase()),dt=k.grade==="all"||W.grades?.includes(k.grade),Bt=!k.zalashOnly||W.isZalash,Ft=k.location==="all"||W.location===k.location,zn=W.rating>=k.minRating;return rt&&dt&&Bt&&Ft&&zn})},[o,k,i]);return r==="login"?A.jsx(TI,{loginData:xt,setLoginData:te,handleLogin:ne,error:Et,setView:t}):r==="provider-register"?A.jsx(bI,{handleProviderApply:de,setView:t}):r==="provider-status"?A.jsx(AI,{provider:i,setView:t}):r==="admin-settings"?A.jsx(wI,{schools:d,providers:_,importText:Vt,setImportText:I,handleImportExcel:()=>{},handleDeleteSchool:async Z=>await Hd(Ji(Fe,"artifacts",fn,"public","data","schools",Z)),editingSchool:w,setEditingSchool:x,db:Fe,appId:fn,setView:t,handleApproveProvider:H,handleRejectProvider:it}):A.jsxs("div",{className:"font-sans antialiased text-slate-900 selection:bg-blue-100 overflow-x-hidden",dir:"rtl",children:[r==="dashboard"&&A.jsx(RI,{setView:t,filters:k,setFilters:R,filteredPrograms:st,toggleFavorite:Pt,savedProgramIds:M,setSelectedProgram:Z=>{nt(Z),t("details")},user:i,handleDeleteProgram:kt,notifications:b}),r==="add"&&A.jsx(CI,{setView:t,handleAddProgram:ct,formData:V,setFormData:N,user:i}),r==="details"&&tt&&A.jsx(xI,{selectedProgram:tt,setView:t,addComment:O,removeComment:K,user:i,notifications:b}),r==="my-workspace"&&A.jsx(II,{setView:t,user:i,programs:o,savedProgramIds:M,toggleFavorite:Pt,setSelectedProgram:Z=>{nt(Z),t("details")},notifications:b}),A.jsx(NI,{})]})},wI=({schools:r,providers:t,importText:i,setImportText:a,handleImportExcel:o,handleDeleteSchool:c,setEditingSchool:d,editingSchool:p,db:_,appId:y,setView:b,handleApproveProvider:S,handleRejectProvider:M})=>{const[F,tt]=Xt.useState("requests"),nt=t.filter(J=>J.status==="pending");return A.jsxs("div",{className:"min-h-screen bg-slate-50 pb-20",dir:"rtl",children:[A.jsxs("header",{className:"bg-slate-900 text-white p-4 flex justify-between items-center sticky top-0 z-40",children:[A.jsxs("div",{className:"flex items-center gap-6",children:[A.jsxs("h1",{className:"font-bold flex items-center gap-2 text-blue-400 tracking-tight",children:[A.jsx(dI,{size:24}),"   "]}),A.jsxs("nav",{className:"flex gap-4 mr-6",children:[A.jsxs("button",{onClick:()=>tt("requests"),className:`px-4 py-2 rounded-xl text-sm font-bold relative transition-all ${F==="requests"?"bg-blue-600 text-white shadow-lg":"text-slate-400 hover:text-white"}`,children:[" ",nt.length>0&&A.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-[10px] w-5 h-5 flex items-center justify-center rounded-full border-2 border-slate-900 animate-bounce font-bold",children:nt.length})]}),A.jsx("button",{onClick:()=>tt("schools"),className:`px-4 py-2 rounded-xl text-sm font-bold ${F==="schools"?"bg-blue-600 text-white shadow-lg":"text-slate-400 hover:text-white"}`,children:" "})]})]}),A.jsxs("button",{onClick:()=>b("dashboard"),className:"flex items-center gap-2 text-sm bg-blue-800 hover:bg-blue-700 px-6 py-2 rounded-xl transition-all font-bold",children:["  ",A.jsx(Lx,{size:18})]})]}),A.jsxs("main",{className:"container mx-auto p-8 max-w-7xl",children:[F==="requests"&&A.jsxs("div",{className:"space-y-6",children:[A.jsx("h2",{className:"text-2xl font-black text-slate-800 text-right",children:" "}),nt.length===0&&A.jsx("div",{className:"bg-white p-16 rounded-[2.5rem] text-center border-2 border-dashed border-slate-200",children:A.jsx("p",{className:"text-slate-400 font-bold",children:"   "})}),A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:nt.map(J=>A.jsxs("div",{className:"bg-white p-8 rounded-[2rem] shadow-sm border text-right",children:[A.jsx("h3",{className:"font-black text-xl text-slate-800 mb-1",children:J.name}),A.jsxs("p",{className:"text-blue-600 font-bold text-xs mb-4",children:[" : ",J.semel]}),A.jsxs("div",{className:"bg-slate-50 p-5 rounded-2xl mb-6 text-sm italic text-slate-600",children:['"',J.description,'"']}),A.jsxs("div",{className:"flex gap-3",children:[A.jsx("button",{onClick:()=>S(J),className:"flex-1 bg-emerald-600 text-white py-3 rounded-xl font-bold",children:" "}),A.jsx("button",{onClick:()=>{const ft=prompt(" :");ft&&M(J.id,ft)},className:"flex-1 border-2 border-slate-100 py-3 rounded-xl font-bold text-slate-400 hover:text-red-500",children:""})]})]},J.id))})]}),F==="schools"&&A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 text-right",children:[A.jsx("div",{className:"lg:col-span-1",children:A.jsxs("div",{className:"bg-white p-6 rounded-[2rem] shadow-sm border",children:[A.jsxs("h3",{className:"font-bold mb-4 flex items-center gap-2",children:[A.jsx(vI,{size:18}),"  "]}),A.jsx("textarea",{className:"w-full h-40 p-4 bg-slate-50 rounded-xl mb-4 text-xs font-mono text-right",placeholder:" 		",value:i,onChange:J=>a(J.target.value)}),A.jsx("button",{onClick:()=>alert(" ..."),className:"w-full bg-blue-600 text-white py-3 rounded-xl font-bold",children:" "})]})}),A.jsx("div",{className:"lg:col-span-2",children:A.jsx("div",{className:"bg-white rounded-[2rem] shadow-sm border overflow-hidden",children:A.jsxs("table",{className:"w-full text-right",children:[A.jsx("thead",{className:"bg-slate-50 text-[10px] uppercase font-black tracking-widest text-slate-400",children:A.jsxs("tr",{children:[A.jsx("th",{className:"p-4",children:""}),A.jsx("th",{className:"p-4",children:""}),A.jsx("th",{className:"p-4 text-center",children:""})]})}),A.jsx("tbody",{className:"divide-y text-sm",children:r.map(J=>A.jsxs("tr",{className:"hover:bg-slate-50",children:[A.jsx("td",{className:"p-4 font-bold",children:J.name}),A.jsx("td",{className:"p-4 font-mono",children:J.semel}),A.jsxs("td",{className:"p-4 flex justify-center gap-2",children:[A.jsx("button",{onClick:()=>d(J),className:"p-2 text-blue-600",children:A.jsx(gI,{size:16})}),A.jsx("button",{onClick:()=>c(J.id),className:"p-2 text-red-500",children:A.jsx(og,{size:16})})]})]},J.id))})]})})})]})]})]})},RI=({setView:r,filters:t,setFilters:i,filteredPrograms:a,toggleFavorite:o,savedProgramIds:c,setSelectedProgram:d,user:p,handleDeleteProgram:_,notifications:y})=>A.jsxs("div",{className:"min-h-screen bg-slate-50 pb-20",dir:"rtl",children:[A.jsx(ug,{setView:r,user:p,notifications:y}),A.jsxs("main",{className:"container mx-auto px-6 p-4 max-w-7xl",children:[A.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6 mb-10 mt-10 text-right",children:[A.jsxs("div",{children:[A.jsxs("h2",{className:"text-4xl font-black text-slate-800",children:[", ",p?.name]}),A.jsx("p",{className:"text-slate-500 font-medium",children:p?.isProvider?"  ":"      "})]}),!p?.isProvider&&A.jsxs("button",{onClick:()=>r("add"),className:"flex items-center gap-2 bg-emerald-600 hover:bg-emerald-700 text-white px-10 py-5 rounded-2xl font-black shadow-xl transition-transform hover:-translate-y-1 text-lg",children:[A.jsx(lI,{size:24}),"   "]})]}),!p?.isProvider&&A.jsxs("div",{className:"bg-white p-8 rounded-[2.5rem] shadow-sm border border-slate-200 mb-12 space-y-6 text-right",children:[A.jsxs("div",{className:"flex flex-wrap gap-6 items-end",children:[A.jsxs("div",{className:"flex-1 min-w-[300px] relative",children:[A.jsx(uI,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-300",size:24}),A.jsx("input",{type:"text",placeholder:" ...",className:"w-full pr-14 pl-6 py-4 bg-slate-50 border-none rounded-2xl outline-none focus:ring-2 focus:ring-blue-500 text-right font-medium",value:t.search,onChange:b=>i({...t,search:b.target.value})})]}),A.jsxs("select",{className:"p-4 bg-slate-50 border-none rounded-2xl font-bold text-slate-700 min-w-[150px]",value:t.location,onChange:b=>i({...t,location:b.target.value}),children:[A.jsx("option",{value:"all",children:" "}),A.jsx("option",{value:"",children:""}),A.jsx("option",{value:"",children:""}),A.jsx("option",{value:"",children:""})]})]}),A.jsx("div",{className:"flex flex-wrap gap-8 pt-6 border-t items-center justify-end",children:A.jsxs("label",{className:"flex items-center gap-3 cursor-pointer group bg-slate-50 px-6 py-3 rounded-full",children:[A.jsx("input",{type:"checkbox",className:"w-5 h-5 rounded-md text-purple-600",checked:t.zalashOnly,onChange:b=>i({...t,zalashOnly:b.target.checked})}),A.jsx("span",{className:"text-sm font-black text-slate-700",children:'  "'})]})})]}),A.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10",children:a.map(b=>A.jsxs("div",{onClick:()=>d(b),className:"bg-white rounded-[2rem] shadow-sm border overflow-hidden hover:shadow-2xl transition-all group cursor-pointer relative text-right",children:[A.jsxs("div",{className:"absolute top-5 left-5 flex gap-2 z-10",children:[!p?.isAdmin&&!p?.isProvider&&A.jsx("button",{onClick:S=>o(S,b.id),className:`p-2.5 rounded-full transition-all ${c.includes(b.id)?"bg-rose-500 text-white":"bg-white/90 backdrop-blur shadow-sm text-slate-300 hover:text-rose-400"}`,children:A.jsx(jT,{size:18,fill:c.includes(b.id)?"currentColor":"none"})}),p?.isAdmin&&A.jsx("button",{onClick:S=>{S.stopPropagation(),_(b.id)},className:"p-2.5 rounded-full bg-white/90 text-red-500 hover:bg-red-500 hover:text-white transition-all",children:A.jsx(og,{size:18})})]}),A.jsx("div",{className:`h-2.5 ${b.recommends?"bg-emerald-500":"bg-rose-500"}`}),A.jsxs("div",{className:"p-8",children:[A.jsx("h3",{className:"font-black text-2xl group-hover:text-blue-700 mb-4",children:b.name}),A.jsx("p",{className:"text-slate-500 text-sm line-clamp-3 mb-6 leading-relaxed h-15 font-medium",children:b.description}),A.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[A.jsxs("span",{className:"text-[10px] bg-slate-100 text-slate-600 px-4 py-1.5 rounded-full font-black uppercase flex items-center gap-1",children:[A.jsx(zT,{size:12})," ",b.location||" "]}),b.isZalash&&A.jsx("span",{className:"text-[10px] bg-purple-100 text-purple-700 px-4 py-1.5 rounded-full font-black uppercase",children:'"'})]}),A.jsxs("div",{className:"flex justify-between items-center pt-6 border-t text-[10px] text-slate-400 font-black uppercase tracking-widest",children:[A.jsx("span",{children:b.schoolName}),A.jsxs("span",{children:[b.comments?.length||0," "]})]})]})]},b.id))})]})]}),CI=({setView:r,handleAddProgram:t,formData:i,setFormData:a,user:o})=>A.jsxs("div",{className:"min-h-screen bg-slate-50 pb-12",dir:"rtl",children:[A.jsxs("header",{className:"bg-white border-b p-6 sticky top-0 z-30 flex items-center gap-4 shadow-sm",children:[A.jsx("button",{onClick:()=>r("dashboard"),className:"p-3 hover:bg-slate-100 rounded-full",children:A.jsx(LT,{size:28})}),A.jsx("h1",{className:"text-2xl font-black text-slate-800",children:"  "})]}),A.jsx("main",{className:"container mx-auto p-4 max-w-4xl mt-12 text-right",children:A.jsxs("form",{onSubmit:t,className:"bg-white p-12 rounded-[3rem] shadow-2xl space-y-10 text-right",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[A.jsxs("div",{className:"col-span-2",children:[A.jsx("label",{className:"block text-sm font-black mb-3 text-slate-800",children:"  /   *"}),A.jsx("input",{required:!0,className:"w-full p-5 bg-slate-50 border-none rounded-2xl outline-none focus:ring-2 focus:ring-blue-500 font-black text-xl text-right",placeholder:":   ",value:i.name,onChange:c=>a({...i,name:c.target.value})})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-black mb-3 text-slate-800",children:"  *"}),A.jsxs("select",{required:!0,className:"w-full p-5 bg-slate-50 border-none rounded-2xl font-black text-right",value:i.location,onChange:c=>a({...i,location:c.target.value}),children:[A.jsx("option",{value:" ",children:" "}),A.jsx("option",{value:"",children:""}),A.jsx("option",{value:"",children:""}),A.jsx("option",{value:"",children:""})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-black mb-3 text-slate-800",children:" (1-5)"}),A.jsx("div",{className:"flex gap-4 p-4 bg-slate-50 rounded-2xl justify-center",children:[1,2,3,4,5].map(c=>A.jsx("button",{type:"button",onClick:()=>a({...i,rating:c}),children:A.jsx(BT,{size:32,fill:c<=i.rating?"#f59e0b":"none",className:c<=i.rating?"text-amber-500":"text-slate-200"})},c))})]})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-black mb-3 text-slate-800",children:"   () *"}),A.jsx("textarea",{required:!0,rows:"5",className:"w-full p-6 bg-slate-50 border-none rounded-3xl outline-none text-right font-medium",placeholder:"   ...",value:i.description,onChange:c=>a({...i,description:c.target.value})})]}),A.jsx("button",{type:"submit",className:"w-full bg-blue-700 text-white font-black py-6 rounded-3xl shadow-2xl text-xl",children:"   "})]})})]}),xI=({selectedProgram:r,setView:t,addComment:i,user:a,removeComment:o,notifications:c})=>A.jsxs("div",{className:"min-h-screen bg-slate-50 text-right",dir:"rtl",children:[A.jsx(ug,{setView:t,user:a,notifications:c}),A.jsx("main",{className:"container mx-auto p-6 max-w-6xl mt-12",children:A.jsxs("div",{className:"bg-white p-12 md:p-16 rounded-[3.5rem] shadow-2xl space-y-12 border relative overflow-hidden",children:[A.jsx("div",{className:`absolute top-0 right-0 left-0 h-3 ${r.recommends?"bg-emerald-500":"bg-rose-500"}`}),A.jsxs("div",{className:"flex flex-col lg:flex-row justify-between items-start gap-12 text-right",children:[A.jsxs("div",{className:"flex-1 space-y-8",children:[A.jsxs("div",{className:"flex flex-wrap items-center gap-4 justify-start",children:[r.isZalash&&A.jsx("span",{className:"bg-purple-600 text-white px-6 py-2 rounded-full text-xs font-black uppercase",children:' "'}),A.jsxs("span",{className:"text-sm font-black text-slate-400 flex items-center gap-2 bg-slate-50 px-4 py-2 rounded-full",children:[A.jsx(zT,{size:16})," ",r.location]})]}),A.jsx("h2",{className:"text-5xl font-black text-slate-800 leading-tight",children:r.name}),A.jsx("p",{className:"text-2xl leading-relaxed text-slate-600 font-medium",children:r.description})]}),A.jsxs("div",{className:"bg-slate-50 p-10 rounded-[2.5rem] w-full lg:w-80 border shadow-inner text-right",children:[A.jsxs("div",{className:"flex items-center gap-3 justify-end",children:[A.jsxs("span",{className:"font-black text-4xl",children:[r.rating,".0"]}),A.jsx(BT,{className:"text-amber-500",fill:"currentColor",size:32})]}),A.jsxs("div",{className:"pt-8 border-t text-right",children:[A.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase",children:"  "}),A.jsx("p",{className:"font-black text-blue-900 text-xl",children:r.schoolName})]})]})]}),A.jsxs("div",{className:"border-t pt-16 text-right",children:[A.jsxs("h3",{className:"text-3xl font-black mb-10 flex items-center gap-4 text-slate-800 justify-start",children:[A.jsx(rI,{className:"text-blue-600",size:32}),"  (",r.comments?.length||0,")"]}),A.jsx("div",{className:"space-y-6 mb-16",children:r.comments?.map((d,p)=>A.jsxs("div",{className:"bg-slate-50 p-8 rounded-[2rem] border-r-8 border-blue-600 flex justify-between items-start",children:[A.jsxs("div",{className:"flex-1 ml-6 text-right",children:[A.jsx("div",{className:"font-black text-blue-900 text-sm mb-2",children:d.school}),A.jsx("p",{className:"text-slate-700 text-lg",children:d.text})]}),a?.isAdmin&&A.jsx("button",{onClick:()=>o(r.id,p),className:"p-3 text-red-500 hover:bg-red-50 rounded-2xl",children:A.jsx(og,{size:20})})]},p))}),!a?.isProvider&&A.jsxs("div",{className:"bg-blue-50/50 p-10 rounded-[3rem] border shadow-inner",children:[A.jsx("textarea",{id:"newComment",className:"w-full p-6 bg-white border rounded-3xl outline-none text-right font-medium text-lg h-32 mb-6",placeholder:"   ..."}),A.jsx("button",{onClick:()=>{const d=document.getElementById("newComment").value;d&&(i(r.id,d),document.getElementById("newComment").value="")},className:"bg-blue-700 text-white px-12 py-5 rounded-2xl font-black shadow-2xl",children:"  "})]})]})]})})]}),II=({setView:r,user:t,programs:i,savedProgramIds:a,toggleFavorite:o,setSelectedProgram:c,notifications:d})=>{const p=i.filter(y=>y.schoolId===t?.id),_=i.filter(y=>a.includes(y.id));return A.jsxs("div",{className:"min-h-screen bg-slate-50 pb-12",dir:"rtl",children:[A.jsx(ug,{setView:r,user:t,notifications:d}),A.jsxs("main",{className:"container mx-auto p-8 max-w-6xl mt-10 text-right",children:[A.jsx("h2",{className:"text-4xl font-black text-slate-800 mb-2",children:" "}),A.jsxs("p",{className:"text-slate-500 font-bold mb-12",children:[t?.name," |  "]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[A.jsxs("div",{className:"bg-white rounded-[2.5rem] shadow-sm border p-8",children:[A.jsxs("h3",{className:"text-2xl font-black mb-8 flex items-center gap-3 text-blue-800",children:[A.jsx(tI,{size:24}),"   (",p.length,")"]}),p.map(y=>A.jsxs("div",{className:"flex justify-between items-center p-6 bg-slate-50 rounded-3xl mb-4 cursor-pointer",onClick:()=>c(y),children:[A.jsxs("div",{className:"text-right",children:[A.jsx("h4",{className:"font-black text-lg",children:y.name}),A.jsx("p",{className:"text-xs text-slate-400",children:y.createdAt})]}),A.jsx(LT,{className:"text-blue-600"})]},y.id))]}),A.jsxs("div",{className:"bg-white rounded-[2.5rem] shadow-sm border p-8",children:[A.jsxs("h3",{className:"text-2xl font-black mb-8 flex items-center gap-3 text-rose-600",children:[A.jsx(Bx,{size:24}),"   (",_.length,")"]}),_.map(y=>A.jsxs("div",{className:"flex justify-between items-center p-6 bg-rose-50/30 rounded-3xl mb-4 cursor-pointer",onClick:()=>c(y),children:[A.jsxs("div",{className:"text-right",children:[A.jsx("h4",{className:"font-black text-lg",children:y.name}),A.jsxs("p",{className:"text-[10px] text-slate-400",children:[": ",y.schoolName]})]}),A.jsx("button",{onClick:b=>{b.stopPropagation(),o(b,y.id)},className:"p-2 text-rose-600",children:A.jsx(jT,{fill:"currentColor"})})]},y.id))]})]})]})]})},NI=()=>A.jsxs("footer",{className:"w-full bg-slate-100 text-slate-400 py-16 mt-20 text-center border-t",children:[A.jsx("p",{className:"text-xs font-black uppercase tracking-widest mb-2 opacity-60",children:"   "}),A.jsx("p",{className:"font-black text-slate-600 text-2xl tracking-tighter",children:"   "})]});Db.createRoot(document.getElementById("root")).render(A.jsx(Ab.StrictMode,{children:A.jsx(SI,{})}));
